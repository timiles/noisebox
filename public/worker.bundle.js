/*! For license information please see worker.bundle.js.LICENSE.txt */
(function(){var __webpack_modules__={644:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float),s=(n.new_float_n,n.new_int,n.new_int_n,n.assert,r(43));e.exports=function(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=a(s.SBMAX_l),this.s=a(s.SBMAX_s),this.psfb21=a(s.PSFB21),this.psfb12=a(s.PSFB12),this.cb_l=a(s.CBANDS),this.cb_s=a(s.CBANDS),this.eql_w=a(s.BLKSIZE/2)}},881:function(e,t,r){var n=r(233),a=n.System,s=(n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays),o=(n.new_array_n,n.new_byte),i=(n.new_double,n.new_float,n.new_float_n),_=n.new_int,l=(n.new_int_n,n.assert),f=r(259),c=r(330),u=r(43),h=r(459);function p(){var e=r(448),t=this,n=32,p=null,b=null,m=null,d=null;this.setModules=function(e,t,r,n){p=e,b=t,m=r,d=n};var v=null,w=0,g=0,k=0;function y(e){a.arraycopy(e.header[e.w_ptr].buf,0,v,g,e.sideinfo_len),g+=e.sideinfo_len,w+=8*e.sideinfo_len,e.w_ptr=e.w_ptr+1&h.MAX_HEADER_BUF-1}function S(t,r,a){for(l(a<n-2);a>0;){var s;0==k&&(k=8,g++,l(g<e.LAME_MAXMP3BUFFER),l(t.header[t.w_ptr].write_timing>=w),t.header[t.w_ptr].write_timing==w&&y(t),v[g]=0),s=Math.min(a,k),k-=s,l((a-=s)<n),l(k<n),v[g]|=r>>a<<k,w+=s}}function A(t,r,a){for(l(a<n-2);a>0;){var s;0==k&&(k=8,g++,l(g<e.LAME_MAXMP3BUFFER),v[g]=0),s=Math.min(a,k),k-=s,l((a-=s)<n),l(k<n),v[g]|=r>>a<<k,w+=s}}function M(e,t){var r,n=e.internal_flags;if(l(t>=0),t>=8&&(S(n,76,8),t-=8),t>=8&&(S(n,65,8),t-=8),t>=8&&(S(n,77,8),t-=8),t>=8&&(S(n,69,8),t-=8),t>=32){var a=m.getLameShortVersion();if(t>=32)for(r=0;r<a.length&&t>=8;++r)t-=8,S(n,a.charAt(r),8)}for(;t>=1;t-=1)S(n,n.ancillary_flag,1),n.ancillary_flag^=e.disable_reservoir?0:1;l(0==t)}function R(e,t,r){for(var a=e.header[e.h_ptr].ptr;r>0;){var s=Math.min(r,8-(7&a));l((r-=s)<n),e.header[e.h_ptr].buf[a>>3]|=t>>r<<8-(7&a)-s,a+=s}e.header[e.h_ptr].ptr=a}function B(e,t){e<<=8;for(var r=0;r<8;r++)0!=(65536&((t<<=1)^(e<<=1)))&&(t^=32773);return t}function T(e,t){var r,n=c.ht[t.count1table_select+32],a=0,s=t.big_values,o=t.big_values;for(l(t.count1table_select<2),r=(t.count1-t.big_values)/4;r>0;--r){var i,_=0,f=0;0!=(i=t.l3_enc[s+0])&&(f+=8,t.xr[o+0]<0&&_++,l(i<=1)),0!=(i=t.l3_enc[s+1])&&(f+=4,_*=2,t.xr[o+1]<0&&_++,l(i<=1)),0!=(i=t.l3_enc[s+2])&&(f+=2,_*=2,t.xr[o+2]<0&&_++,l(i<=1)),0!=(i=t.l3_enc[s+3])&&(f++,_*=2,t.xr[o+3]<0&&_++,l(i<=1)),s+=4,o+=4,S(e,_+n.table[f],n.hlen[f]),a+=n.hlen[f]}return a}function x(e,t,r,a,s){var o=c.ht[t],i=0;if(l(t<32),0==t)return i;for(var _=r;_<a;_+=2){var f=0,u=0,h=o.xlen,p=o.xlen,b=0,m=s.l3_enc[_],d=s.l3_enc[_+1];if(0!=m&&(s.xr[_]<0&&b++,f--),t>15){if(m>14){var v=m-15;l(v<=o.linmax),b|=v<<1,u=h,m=15}if(d>14){var w=d-15;l(w<=o.linmax),b<<=h,b|=w,u+=h,d=15}p=16}0!=d&&(b<<=1,s.xr[_+1]<0&&b++,f--),l((m|d)<16),m=m*p+d,u-=f,f+=o.hlen[m],l(f<=n),l(u<=n),S(e,o.table[m],f),S(e,b,u),i+=f+u}return i}function E(e,t){var r=3*e.scalefac_band.s[3];return r>t.big_values&&(r=t.big_values),x(e,t.table_select[0],0,r,t)+x(e,t.table_select[1],r,t.big_values,t)}function P(e,t){var r,n,a,s;r=t.big_values,l(0<=r&&r<=576);var o=t.region0_count+1;return l(0<=o),l(o<e.scalefac_band.l.length),a=e.scalefac_band.l[o],o+=t.region1_count+1,l(0<=o),l(o<e.scalefac_band.l.length),a>r&&(a=r),(s=e.scalefac_band.l[o])>r&&(s=r),n=x(e,t.table_select[0],0,a,t),(n+=x(e,t.table_select[1],a,s,t))+x(e,t.table_select[2],s,r,t)}function O(){this.total=0}function I(e,r){var n,s,o,i,_,l=e.internal_flags;return _=l.w_ptr,-1==(i=l.h_ptr-1)&&(i=h.MAX_HEADER_BUF-1),n=l.header[i].write_timing-w,r.total=n,n>=0&&(s=1+i-_,i<_&&(s=1+i-_+h.MAX_HEADER_BUF),n-=8*s*l.sideinfo_len),n+=o=t.getframebits(e),r.total+=o,r.total%8!=0?r.total=1+r.total/8:r.total=r.total/8,r.total+=g+1,n<0&&a.err.println("strange error flushing buffer ... \n"),n}this.getframebits=function(e){var t,r=e.internal_flags;return t=0!=r.bitrate_index?c.bitrate_table[e.version][r.bitrate_index]:e.brate,l(8<=t&&t<=640),8*(0|72e3*(e.version+1)*t/e.out_samplerate+r.padding)},this.CRC_writeheader=function(e,t){var r=65535;r=B(255&t[2],r),r=B(255&t[3],r);for(var n=6;n<e.sideinfo_len;n++)r=B(255&t[n],r);t[4]=byte(r>>8),t[5]=byte(255&r)},this.flush_bitstream=function(e){var t,r,n=e.internal_flags,a=n.h_ptr-1;if(-1==a&&(a=h.MAX_HEADER_BUF-1),t=n.l3_side,!((r=I(e,new O))<0)){if(M(e,r),l(n.header[a].write_timing+this.getframebits(e)==w),n.ResvSize=0,t.main_data_begin=0,n.findReplayGain){var s=p.GetTitleGain(n.rgdata);l(NEQ(s,GainAnalysis.GAIN_NOT_ENOUGH_SAMPLES)),n.RadioGain=0|Math.floor(10*s+.5)}n.findPeakSample&&(n.noclipGainChange=0|Math.ceil(20*Math.log10(n.PeakSample/32767)*10),n.noclipGainChange>0&&(EQ(e.scale,1)||EQ(e.scale,0))?n.noclipScale=Math.floor(32767/n.PeakSample*100)/100:n.noclipScale=-1)}},this.add_dummy_byte=function(e,t,r){for(var n,a=e.internal_flags;r-- >0;)for(A(0,t,8),n=0;n<h.MAX_HEADER_BUF;++n)a.header[n].write_timing+=8},this.format_bitstream=function(e){var t,r=e.internal_flags;t=r.l3_side;var n=this.getframebits(e);M(e,t.resvDrain_pre),function(e,t){var r,n,o,i=e.internal_flags;if(r=i.l3_side,i.header[i.h_ptr].ptr=0,s.fill(i.header[i.h_ptr].buf,0,i.sideinfo_len,0),e.out_samplerate<16e3?R(i,4094,12):R(i,4095,12),R(i,e.version,1),R(i,1,2),R(i,e.error_protection?0:1,1),R(i,i.bitrate_index,4),R(i,i.samplerate_index,2),R(i,i.padding,1),R(i,e.extension,1),R(i,e.mode.ordinal(),2),R(i,i.mode_ext,2),R(i,e.copyright,1),R(i,e.original,1),R(i,e.emphasis,2),e.error_protection&&R(i,0,16),1==e.version){for(l(r.main_data_begin>=0),R(i,r.main_data_begin,9),2==i.channels_out?R(i,r.private_bits,3):R(i,r.private_bits,5),o=0;o<i.channels_out;o++){var _;for(_=0;_<4;_++)R(i,r.scfsi[o][_],1)}for(n=0;n<2;n++)for(o=0;o<i.channels_out;o++)R(i,(f=r.tt[n][o]).part2_3_length+f.part2_length,12),R(i,f.big_values/2,9),R(i,f.global_gain,8),R(i,f.scalefac_compress,4),f.block_type!=u.NORM_TYPE?(R(i,1,1),R(i,f.block_type,2),R(i,f.mixed_block_flag,1),14==f.table_select[0]&&(f.table_select[0]=16),R(i,f.table_select[0],5),14==f.table_select[1]&&(f.table_select[1]=16),R(i,f.table_select[1],5),R(i,f.subblock_gain[0],3),R(i,f.subblock_gain[1],3),R(i,f.subblock_gain[2],3)):(R(i,0,1),14==f.table_select[0]&&(f.table_select[0]=16),R(i,f.table_select[0],5),14==f.table_select[1]&&(f.table_select[1]=16),R(i,f.table_select[1],5),14==f.table_select[2]&&(f.table_select[2]=16),R(i,f.table_select[2],5),l(0<=f.region0_count&&f.region0_count<16),l(0<=f.region1_count&&f.region1_count<8),R(i,f.region0_count,4),R(i,f.region1_count,3)),R(i,f.preflag,1),R(i,f.scalefac_scale,1),R(i,f.count1table_select,1)}else for(l(r.main_data_begin>=0),R(i,r.main_data_begin,8),R(i,r.private_bits,i.channels_out),n=0,o=0;o<i.channels_out;o++){var f;R(i,(f=r.tt[n][o]).part2_3_length+f.part2_length,12),R(i,f.big_values/2,9),R(i,f.global_gain,8),R(i,f.scalefac_compress,9),f.block_type!=u.NORM_TYPE?(R(i,1,1),R(i,f.block_type,2),R(i,f.mixed_block_flag,1),14==f.table_select[0]&&(f.table_select[0]=16),R(i,f.table_select[0],5),14==f.table_select[1]&&(f.table_select[1]=16),R(i,f.table_select[1],5),R(i,f.subblock_gain[0],3),R(i,f.subblock_gain[1],3),R(i,f.subblock_gain[2],3)):(R(i,0,1),14==f.table_select[0]&&(f.table_select[0]=16),R(i,f.table_select[0],5),14==f.table_select[1]&&(f.table_select[1]=16),R(i,f.table_select[1],5),14==f.table_select[2]&&(f.table_select[2]=16),R(i,f.table_select[2],5),l(0<=f.region0_count&&f.region0_count<16),l(0<=f.region1_count&&f.region1_count<8),R(i,f.region0_count,4),R(i,f.region1_count,3)),R(i,f.scalefac_scale,1),R(i,f.count1table_select,1)}e.error_protection&&CRC_writeheader(i,i.header[i.h_ptr].buf);var c=i.h_ptr;l(i.header[c].ptr==8*i.sideinfo_len),i.h_ptr=c+1&h.MAX_HEADER_BUF-1,i.header[i.h_ptr].write_timing=i.header[c].write_timing+t,i.h_ptr==i.w_ptr&&a.err.println("Error: MAX_HEADER_BUF too small in bitstream.c \n")}(e,n);var o=8*r.sideinfo_len;if(o+=function(e){var t,r,n,a,s=0,o=e.internal_flags,i=o.l3_side;if(1==e.version)for(t=0;t<2;t++)for(r=0;r<o.channels_out;r++){var _=i.tt[t][r],c=f.slen1_tab[_.scalefac_compress],h=f.slen2_tab[_.scalefac_compress];for(a=0,n=0;n<_.sfbdivide;n++)-1!=_.scalefac[n]&&(S(o,_.scalefac[n],c),a+=c);for(;n<_.sfbmax;n++)-1!=_.scalefac[n]&&(S(o,_.scalefac[n],h),a+=h);l(a==_.part2_length),_.block_type==u.SHORT_TYPE?a+=E(o,_):a+=P(o,_),a+=T(o,_),l(a==_.part2_3_length+_.part2_length),s+=a}else for(t=0,r=0;r<o.channels_out;r++){_=i.tt[t][r];var p,b,m=0;if(l(null!=_.sfb_partition_table),a=0,n=0,b=0,_.block_type==u.SHORT_TYPE){for(;b<4;b++){var d=_.sfb_partition_table[b]/3,v=_.slen[b];for(p=0;p<d;p++,n++)S(o,Math.max(_.scalefac[3*n+0],0),v),S(o,Math.max(_.scalefac[3*n+1],0),v),S(o,Math.max(_.scalefac[3*n+2],0),v),m+=3*v}a+=E(o,_)}else{for(;b<4;b++)for(d=_.sfb_partition_table[b],v=_.slen[b],p=0;p<d;p++,n++)S(o,Math.max(_.scalefac[n],0),v),m+=v;a+=P(o,_)}a+=T(o,_),l(a==_.part2_3_length),l(m==_.part2_length),s+=m+a}return s}(e),M(e,t.resvDrain_post),o+=t.resvDrain_post,t.main_data_begin+=(n-o)/8,I(e,new O)!=r.ResvSize&&a.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),8*t.main_data_begin!=r.ResvSize&&(a.err.printf("bit reservoir error: \nl3_side.main_data_begin: %d \nResvoir size:             %d \nresv drain (post)         %d \nresv drain (pre)          %d \nheader and sideinfo:      %d \ndata bits:                %d \ntotal bits:               %d (remainder: %d) \nbitsperframe:             %d \n",8*t.main_data_begin,r.ResvSize,t.resvDrain_post,t.resvDrain_pre,8*r.sideinfo_len,o-t.resvDrain_post-8*r.sideinfo_len,o,o%8,n),a.err.println("This is a fatal error.  It has several possible causes:"),a.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),a.err.println(" 9%%  Your system is overclocked"),a.err.println(" 1%%  bug in LAME encoding library"),r.ResvSize=8*t.main_data_begin),l(w%8==0),w>1e9){var i;for(i=0;i<h.MAX_HEADER_BUF;++i)r.header[i].write_timing-=w;w=0}return 0},this.copy_buffer=function(e,t,r,n,s){var o=g+1;if(o<=0)return 0;if(0!=n&&o>n)return-1;if(a.arraycopy(v,0,t,r,o),g=-1,k=0,0!=s){var f=_(1);if(f[0]=e.nMusicCRC,d.updateMusicCRC(f,t,r,o),e.nMusicCRC=f[0],o>0&&(e.VBR_seek_table.nBytesWritten+=o),e.decode_on_the_fly)for(var c,u=i([2,1152]),h=o,m=-1;0!=m;)if(m=b.hip_decode1_unclipped(e.hip,t,r,h,u[0],u[1]),h=0,-1==m&&(m=0),m>0){if(l(m<=1152),e.findPeakSample){for(c=0;c<m;c++)u[0][c]>e.PeakSample?e.PeakSample=u[0][c]:-u[0][c]>e.PeakSample&&(e.PeakSample=-u[0][c]);if(e.channels_out>1)for(c=0;c<m;c++)u[1][c]>e.PeakSample?e.PeakSample=u[1][c]:-u[1][c]>e.PeakSample&&(e.PeakSample=-u[1][c])}if(e.findReplayGain&&p.AnalyzeSamples(e.rgdata,u[0],0,u[1],0,m,e.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6}}return o},this.init_bit_stream_w=function(t){v=o(e.LAME_MAXMP3BUFFER),t.h_ptr=t.w_ptr=0,t.header[t.h_ptr].write_timing=0,g=-1,k=0,w=0}}p.EQ=function(e,t){return Math.abs(e)>Math.abs(t)?Math.abs(e-t)<=1e-6*Math.abs(e):Math.abs(e-t)<=1e-6*Math.abs(t)},p.NEQ=function(e,t){return!p.EQ(e,t)},e.exports=p},506:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float),s=(n.new_float_n,n.new_int),o=(n.new_int_n,n.assert),i=r(423),_=r(43),l=r(425),f=r(459);e.exports=function(e){var t=e;this.quantize=t,this.iteration_loop=function(e,t,r,n){var c,u=e.internal_flags,h=a(l.SFBMAX),p=a(576),b=s(2),m=0,d=u.l3_side,v=new i(m);this.quantize.rv.ResvFrameBegin(e,v),m=v.bits;for(var w=0;w<u.mode_gr;w++){c=this.quantize.qupvt.on_pe(e,t,b,m,w,w),u.mode_ext==_.MPG_MD_MS_LR&&(this.quantize.ms_convert(u.l3_side,w),this.quantize.qupvt.reduce_side(b,r[w],m,c));for(var g=0;g<u.channels_out;g++){var k,y,S=d.tt[w][g];S.block_type!=_.SHORT_TYPE?(k=0,y=u.PSY.mask_adjust-k):(k=0,y=u.PSY.mask_adjust_short-k),u.masking_lower=Math.pow(10,.1*y),this.quantize.init_outer_loop(u,S),this.quantize.init_xrpow(u,S,p)&&(this.quantize.qupvt.calc_xmin(e,n[w][g],S,h),this.quantize.outer_loop(e,S,h,p,g,b[g])),this.quantize.iteration_finish_one(u,w,g),o(S.part2_3_length<=f.MAX_BITS_PER_CHANNEL),o(S.part2_3_length<=b[g])}}this.quantize.rv.ResvFrameEnd(u,m)}}},390:function(e,t,r){var n=r(233),a=n.new_float,s=n.new_int;n.assert,e.exports=function(){this.global_gain=0,this.sfb_count1=0,this.step=s(39),this.noise=a(39),this.noise_log=a(39)}},711:function(e){e.exports=function(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}},43:function(e,t,r){var n=r(233),a=n.System,s=n.VbrMode,o=(n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n),i=(n.new_byte,n.new_double,n.new_float),_=n.new_float_n,l=n.new_int,f=(n.new_int_n,n.assert);function c(){var e=r(419),t=r(671),n=r(27),u=c.FFTOFFSET,h=c.MPG_MD_MS_LR,p=null;this.psy=null;var b=null,m=null,d=null;this.setModules=function(e,t,r,n){p=e,this.psy=t,b=t,m=n,d=r};var v=new e;this.lame_encode_mp3_frame=function(e,r,w,g,k,y){var S,A=o([2,2]);A[0][0]=new t,A[0][1]=new t,A[1][0]=new t,A[1][1]=new t;var M,R=o([2,2]);R[0][0]=new t,R[0][1]=new t,R[1][0]=new t,R[1][1]=new t;var B,T,x,E=[null,null],P=e.internal_flags,O=_([2,4]),I=[.5,.5],H=[[0,0],[0,0]],L=[[0,0],[0,0]];if(E[0]=r,E[1]=w,0==P.lame_encode_frame_init&&function(e,t){var r,n,a=e.internal_flags;if(0==a.lame_encode_frame_init){var s,o,_=i(2014),l=i(2014);for(a.lame_encode_frame_init=1,s=0,o=0;s<286+576*(1+a.mode_gr);++s)s<576*a.mode_gr?(_[s]=0,2==a.channels_out&&(l[s]=0)):(_[s]=t[0][o],2==a.channels_out&&(l[s]=t[1][o]),++o);for(n=0;n<a.mode_gr;n++)for(r=0;r<a.channels_out;r++)a.l3_side.tt[n][r].block_type=c.SHORT_TYPE;v.mdct_sub48(a,_,l),f(576>=c.FFTOFFSET),f(a.mf_size>=c.BLKSIZE+e.framesize-c.FFTOFFSET),f(a.mf_size>=512+e.framesize-32)}}(e,E),P.padding=0,(P.slot_lag-=P.frac_SpF)<0&&(P.slot_lag+=e.out_samplerate,P.padding=1),0!=P.psymodel){var V=[null,null],N=0,q=l(2);for(x=0;x<P.mode_gr;x++){for(T=0;T<P.channels_out;T++)V[T]=E[T],N=576+576*x-c.FFTOFFSET;if(0!=(e.VBR==s.vbr_mtrh||e.VBR==s.vbr_mt?b.L3psycho_anal_vbr(e,V,N,x,A,R,H[x],L[x],O[x],q):b.L3psycho_anal_ns(e,V,N,x,A,R,H[x],L[x],O[x],q)))return-4;for(e.mode==n.JOINT_STEREO&&(I[x]=O[x][2]+O[x][3],I[x]>0&&(I[x]=O[x][3]/I[x])),T=0;T<P.channels_out;T++){var D=P.l3_side.tt[x][T];D.block_type=q[T],D.mixed_block_flag=0}}}else for(x=0;x<P.mode_gr;x++)for(T=0;T<P.channels_out;T++)P.l3_side.tt[x][T].block_type=c.NORM_TYPE,P.l3_side.tt[x][T].mixed_block_flag=0,L[x][T]=H[x][T]=700;if(function(e){var t,r;if(0!=e.ATH.useAdjust)if(r=e.loudness_sq[0][0],t=e.loudness_sq[1][0],2==e.channels_out?(r+=e.loudness_sq[0][1],t+=e.loudness_sq[1][1]):(r+=r,t+=t),2==e.mode_gr&&(r=Math.max(r,t)),r*=.5,(r*=e.ATH.aaSensitivityP)>.03125)e.ATH.adjust>=1?e.ATH.adjust=1:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=1;else{var n=31.98*r+625e-6;e.ATH.adjust>=n?(e.ATH.adjust*=.075*n+.925,e.ATH.adjust<n&&(e.ATH.adjust=n)):e.ATH.adjustLimit>=n?e.ATH.adjust=n:e.ATH.adjust<e.ATH.adjustLimit&&(e.ATH.adjust=e.ATH.adjustLimit),e.ATH.adjustLimit=n}else e.ATH.adjust=1}(P),v.mdct_sub48(P,E[0],E[1]),P.mode_ext=c.MPG_MD_LR_LR,e.force_ms)P.mode_ext=c.MPG_MD_MS_LR;else if(e.mode==n.JOINT_STEREO){var F=0,X=0;for(x=0;x<P.mode_gr;x++)for(T=0;T<P.channels_out;T++)F+=L[x][T],X+=H[x][T];if(F<=1*X){var j=P.l3_side.tt[0],Y=P.l3_side.tt[P.mode_gr-1];j[0].block_type==j[1].block_type&&Y[0].block_type==Y[1].block_type&&(P.mode_ext=c.MPG_MD_MS_LR)}}if(P.mode_ext==h?(M=R,B=L):(M=A,B=H),e.analysis&&null!=P.pinfo)for(x=0;x<P.mode_gr;x++)for(T=0;T<P.channels_out;T++)P.pinfo.ms_ratio[x]=P.ms_ratio[x],P.pinfo.ms_ener_ratio[x]=I[x],P.pinfo.blocktype[x][T]=P.l3_side.tt[x][T].block_type,P.pinfo.pe[x][T]=B[x][T],a.arraycopy(P.l3_side.tt[x][T].xr,0,P.pinfo.xr[x][T],0,576),P.mode_ext==h&&(P.pinfo.ers[x][T]=P.pinfo.ers[x][T+2],a.arraycopy(P.pinfo.energy[x][T+2],0,P.pinfo.energy[x][T],0,P.pinfo.energy[x][T].length));if(e.VBR==s.vbr_off||e.VBR==s.vbr_abr){var C,W;for(C=0;C<18;C++)P.nsPsy.pefirbuf[C]=P.nsPsy.pefirbuf[C+1];for(W=0,x=0;x<P.mode_gr;x++)for(T=0;T<P.channels_out;T++)W+=B[x][T];for(P.nsPsy.pefirbuf[18]=W,W=P.nsPsy.pefirbuf[9],C=0;C<9;C++)W+=(P.nsPsy.pefirbuf[C]+P.nsPsy.pefirbuf[18-C])*c.fircoef[C];for(W=3350*P.mode_gr*P.channels_out/W,x=0;x<P.mode_gr;x++)for(T=0;T<P.channels_out;T++)B[x][T]*=W}if(P.iteration_loop.iteration_loop(e,B,I,M),p.format_bitstream(e),S=p.copy_buffer(P,g,k,y,1),e.bWriteVbrTag&&m.addVbrFrame(e),e.analysis&&null!=P.pinfo){for(T=0;T<P.channels_out;T++){var U;for(U=0;U<u;U++)P.pinfo.pcmdata[T][U]=P.pinfo.pcmdata[T][U+e.framesize];for(U=u;U<1600;U++)P.pinfo.pcmdata[T][U]=E[T][U-u]}d.set_frame_pinfo(e,M)}return function(e){var t,r;for(f(0<=e.bitrate_index&&e.bitrate_index<16),f(0<=e.mode_ext&&e.mode_ext<4),e.bitrate_stereoMode_Hist[e.bitrate_index][4]++,e.bitrate_stereoMode_Hist[15][4]++,2==e.channels_out&&(e.bitrate_stereoMode_Hist[e.bitrate_index][e.mode_ext]++,e.bitrate_stereoMode_Hist[15][e.mode_ext]++),t=0;t<e.mode_gr;++t)for(r=0;r<e.channels_out;++r){var n=0|e.l3_side.tt[t][r].block_type;0!=e.l3_side.tt[t][r].mixed_block_flag&&(n=4),e.bitrate_blockType_Hist[e.bitrate_index][n]++,e.bitrate_blockType_Hist[e.bitrate_index][5]++,e.bitrate_blockType_Hist[15][n]++,e.bitrate_blockType_Hist[15][5]++}}(P),S}}c.ENCDELAY=576,c.POSTDELAY=1152,c.MDCTDELAY=48,c.FFTOFFSET=224+c.MDCTDELAY,c.DECDELAY=528,c.SBLIMIT=32,c.CBANDS=64,c.SBPSY_l=21,c.SBPSY_s=12,c.SBMAX_l=22,c.SBMAX_s=13,c.PSFB21=6,c.PSFB12=6,c.BLKSIZE=1024,c.HBLKSIZE=c.BLKSIZE/2+1,c.BLKSIZE_s=256,c.HBLKSIZE_s=c.BLKSIZE_s/2+1,c.NORM_TYPE=0,c.START_TYPE=1,c.SHORT_TYPE=2,c.STOP_TYPE=3,c.MPG_MD_LR_LR=0,c.MPG_MD_LR_I=1,c.MPG_MD_MS_LR=2,c.MPG_MD_MS_I=3,c.fircoef=[-.1039435,-.1892065,5*-.0432472,-.155915,3898045e-23,.0467745*5,.50455,.756825,.187098*5],e.exports=c},314:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util),s=(n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float),o=(n.new_float_n,n.new_int,n.new_int_n,n.assert,r(43));e.exports=function(){var e=s(o.BLKSIZE),t=s(o.BLKSIZE_s/2),r=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function n(e,t,n){var s,o,i,_=0,l=t+(n<<=1);s=4;do{var f,c,u,h,p,b,m;m=s>>1,b=(p=s<<1)+(h=s),s=p<<1,i=(o=t)+m;do{S=e[o+0]-e[o+h],y=e[o+0]+e[o+h],B=e[o+p]-e[o+b],M=e[o+p]+e[o+b],e[o+p]=y-M,e[o+0]=y+M,e[o+b]=S-B,e[o+h]=S+B,S=e[i+0]-e[i+h],y=e[i+0]+e[i+h],B=a.SQRT2*e[i+b],M=a.SQRT2*e[i+p],e[i+p]=y-M,e[i+0]=y+M,e[i+b]=S-B,e[i+h]=S+B,i+=s,o+=s}while(o<l);for(c=r[_+0],f=r[_+1],u=1;u<m;u++){var d,v;d=1-2*f*f,v=2*f*c,o=t+u,i=t+h-u;do{var w,g,k,y,S,A,M,R,B,T;g=v*e[o+h]-d*e[i+h],w=d*e[o+h]+v*e[i+h],S=e[o+0]-w,y=e[o+0]+w,A=e[i+0]-g,k=e[i+0]+g,g=v*e[o+b]-d*e[i+b],w=d*e[o+b]+v*e[i+b],B=e[o+p]-w,M=e[o+p]+w,T=e[i+p]-g,R=e[i+p]+g,g=f*M-c*T,w=c*M+f*T,e[o+p]=y-w,e[o+0]=y+w,e[i+b]=A-g,e[i+h]=A+g,g=c*R-f*B,w=f*R+c*B,e[i+p]=k-w,e[i+0]=k+w,e[o+b]=S-g,e[o+h]=S+g,i+=s,o+=s}while(o<l);c=(d=c)*r[_+0]-f*r[_+1],f=d*r[_+1]+f*r[_+0]}_+=2}while(s<n)}var i=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(e,r,a,s,_){for(var l=0;l<3;l++){var f=o.BLKSIZE_s/2,c=65535&192*(l+1),u=o.BLKSIZE_s/8-1;do{var h,p,b,m,d,v=255&i[u<<2];p=(h=t[v]*s[a][_+v+c])-(d=t[127-v]*s[a][_+v+c+128]),h+=d,m=(b=t[v+64]*s[a][_+v+c+64])-(d=t[63-v]*s[a][_+v+c+192]),b+=d,f-=4,r[l][f+0]=h+b,r[l][f+2]=h-b,r[l][f+1]=p+m,r[l][f+3]=p-m,p=(h=t[v+1]*s[a][_+v+c+1])-(d=t[126-v]*s[a][_+v+c+129]),h+=d,m=(b=t[v+65]*s[a][_+v+c+65])-(d=t[62-v]*s[a][_+v+c+193]),b+=d,r[l][f+o.BLKSIZE_s/2+0]=h+b,r[l][f+o.BLKSIZE_s/2+2]=h-b,r[l][f+o.BLKSIZE_s/2+1]=p+m,r[l][f+o.BLKSIZE_s/2+3]=p-m}while(--u>=0);n(r[l],f,o.BLKSIZE_s/2)}},this.fft_long=function(t,r,a,s,_){var l=o.BLKSIZE/8-1,f=o.BLKSIZE/2;do{var c,u,h,p,b,m=255&i[l];u=(c=e[m]*s[a][_+m])-(b=e[m+512]*s[a][_+m+512]),c+=b,p=(h=e[m+256]*s[a][_+m+256])-(b=e[m+768]*s[a][_+m+768]),h+=b,r[0+(f-=4)]=c+h,r[f+2]=c-h,r[f+1]=u+p,r[f+3]=u-p,u=(c=e[m+1]*s[a][_+m+1])-(b=e[m+513]*s[a][_+m+513]),c+=b,p=(h=e[m+257]*s[a][_+m+257])-(b=e[m+769]*s[a][_+m+769]),h+=b,r[f+o.BLKSIZE/2+0]=c+h,r[f+o.BLKSIZE/2+2]=c-h,r[f+o.BLKSIZE/2+1]=u+p,r[f+o.BLKSIZE/2+3]=u-p}while(--l>=0);n(r,f,o.BLKSIZE/2)},this.init_fft=function(r){for(var n=0;n<o.BLKSIZE;n++)e[n]=.42-.5*Math.cos(2*Math.PI*(n+.5)/o.BLKSIZE)+.08*Math.cos(4*Math.PI*(n+.5)/o.BLKSIZE);for(n=0;n<o.BLKSIZE_s/2;n++)t[n]=.5*(1-Math.cos(2*Math.PI*(n+.5)/o.BLKSIZE_s))}}},189:function(e,t,r){var n=r(233),a=n.System,s=(n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays);function o(){o.YULE_ORDER,o.MAX_SAMP_FREQ;var e=o.RMS_WINDOW_TIME_NUMERATOR,t=o.RMS_WINDOW_TIME_DENOMINATOR,r=(o.MAX_SAMPLES_PER_WINDOW,[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]]),n=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function i(e,t,r,n,a,s){for(;0!=a--;)r[n]=1e-10+e[t+0]*s[0]-r[n-1]*s[1]+e[t-1]*s[2]-r[n-2]*s[3]+e[t-2]*s[4]-r[n-3]*s[5]+e[t-3]*s[6]-r[n-4]*s[7]+e[t-4]*s[8]-r[n-5]*s[9]+e[t-5]*s[10]-r[n-6]*s[11]+e[t-6]*s[12]-r[n-7]*s[13]+e[t-7]*s[14]-r[n-8]*s[15]+e[t-8]*s[16]-r[n-9]*s[17]+e[t-9]*s[18]-r[n-10]*s[19]+e[t-10]*s[20],++n,++t}function _(e,t,r,n,a,s){for(;0!=a--;)r[n]=e[t+0]*s[0]-r[n-1]*s[1]+e[t-1]*s[2]-r[n-2]*s[3]+e[t-2]*s[4],++n,++t}function l(e){return e*e}this.InitGainAnalysis=function(r,n){return function(r,n){for(var a=0;a<MAX_ORDER;a++)r.linprebuf[a]=r.lstepbuf[a]=r.loutbuf[a]=r.rinprebuf[a]=r.rstepbuf[a]=r.routbuf[a]=0;switch(0|n){case 48e3:r.reqindex=0;break;case 44100:r.reqindex=1;break;case 32e3:r.reqindex=2;break;case 24e3:r.reqindex=3;break;case 22050:r.reqindex=4;break;case 16e3:r.reqindex=5;break;case 12e3:r.reqindex=6;break;case 11025:r.reqindex=7;break;case 8e3:r.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return r.sampleWindow=0|(n*e+t-1)/t,r.lsum=0,r.rsum=0,r.totsamp=0,s.ill(r.A,0),INIT_GAIN_ANALYSIS_OK}(r,n)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(r.linpre=MAX_ORDER,r.rinpre=MAX_ORDER,r.lstep=MAX_ORDER,r.rstep=MAX_ORDER,r.lout=MAX_ORDER,r.rout=MAX_ORDER,s.fill(r.B,0),INIT_GAIN_ANALYSIS_OK)},this.AnalyzeSamples=function(e,t,s,f,c,u,h){var p,b,m,d,v,w,g;if(0==u)return GAIN_ANALYSIS_OK;switch(g=0,v=u,h){case 1:f=t,c=s;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(u<MAX_ORDER?(a.arraycopy(t,s,e.linprebuf,MAX_ORDER,u),a.arraycopy(f,c,e.rinprebuf,MAX_ORDER,u)):(a.arraycopy(t,s,e.linprebuf,MAX_ORDER,MAX_ORDER),a.arraycopy(f,c,e.rinprebuf,MAX_ORDER,MAX_ORDER));v>0;){w=v>e.sampleWindow-e.totsamp?e.sampleWindow-e.totsamp:v,g<MAX_ORDER?(p=e.linpre+g,b=e.linprebuf,m=e.rinpre+g,d=e.rinprebuf,w>MAX_ORDER-g&&(w=MAX_ORDER-g)):(p=s+g,b=t,m=c+g,d=f),i(b,p,e.lstepbuf,e.lstep+e.totsamp,w,r[e.reqindex]),i(d,m,e.rstepbuf,e.rstep+e.totsamp,w,r[e.reqindex]),_(e.lstepbuf,e.lstep+e.totsamp,e.loutbuf,e.lout+e.totsamp,w,n[e.reqindex]),_(e.rstepbuf,e.rstep+e.totsamp,e.routbuf,e.rout+e.totsamp,w,n[e.reqindex]),p=e.lout+e.totsamp,b=e.loutbuf,m=e.rout+e.totsamp,d=e.routbuf;for(var k=w%8;0!=k--;)e.lsum+=l(b[p++]),e.rsum+=l(d[m++]);for(k=w/8;0!=k--;)e.lsum+=l(b[p+0])+l(b[p+1])+l(b[p+2])+l(b[p+3])+l(b[p+4])+l(b[p+5])+l(b[p+6])+l(b[p+7]),p+=8,e.rsum+=l(d[m+0])+l(d[m+1])+l(d[m+2])+l(d[m+3])+l(d[m+4])+l(d[m+5])+l(d[m+6])+l(d[m+7]),m+=8;if(v-=w,g+=w,e.totsamp+=w,e.totsamp==e.sampleWindow){var y=10*o.STEPS_per_dB*Math.log10((e.lsum+e.rsum)/e.totsamp*.5+1e-37),S=y<=0?0:0|y;S>=e.A.length&&(S=e.A.length-1),e.A[S]++,e.lsum=e.rsum=0,a.arraycopy(e.loutbuf,e.totsamp,e.loutbuf,0,MAX_ORDER),a.arraycopy(e.routbuf,e.totsamp,e.routbuf,0,MAX_ORDER),a.arraycopy(e.lstepbuf,e.totsamp,e.lstepbuf,0,MAX_ORDER),a.arraycopy(e.rstepbuf,e.totsamp,e.rstepbuf,0,MAX_ORDER),e.totsamp=0}if(e.totsamp>e.sampleWindow)return GAIN_ANALYSIS_ERROR}return u<MAX_ORDER?(a.arraycopy(e.linprebuf,u,e.linprebuf,0,MAX_ORDER-u),a.arraycopy(e.rinprebuf,u,e.rinprebuf,0,MAX_ORDER-u),a.arraycopy(t,s,e.linprebuf,MAX_ORDER-u,u),a.arraycopy(f,c,e.rinprebuf,MAX_ORDER-u,u)):(a.arraycopy(t,s+u-MAX_ORDER,e.linprebuf,0,MAX_ORDER),a.arraycopy(f,c+u-MAX_ORDER,e.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK},this.GetTitleGain=function(e){for(var t=function(e,t){var r,n=0;for(r=0;r<t;r++)n+=e[r];if(0==n)return GAIN_NOT_ENOUGH_SAMPLES;var a=0|Math.ceil(n*(1-.95));for(r=t;r-- >0&&!((a-=e[r])<=0););return 64.82-r/o.STEPS_per_dB}(e.A,e.A.length),r=0;r<e.A.length;r++)e.B[r]+=e.A[r],e.A[r]=0;for(r=0;r<MAX_ORDER;r++)e.linprebuf[r]=e.lstepbuf[r]=e.loutbuf[r]=e.rinprebuf[r]=e.rstepbuf[r]=e.routbuf[r]=0;return e.totsamp=0,e.lsum=e.rsum=0,t}}n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n,n.new_int,n.new_int_n,n.assert,o.STEPS_per_dB=100,o.MAX_dB=120,o.GAIN_NOT_ENOUGH_SAMPLES=-24601,o.GAIN_ANALYSIS_ERROR=0,o.GAIN_ANALYSIS_OK=1,o.INIT_GAIN_ANALYSIS_ERROR=0,o.INIT_GAIN_ANALYSIS_OK=1,o.YULE_ORDER=10,o.MAX_ORDER=o.YULE_ORDER,o.MAX_SAMP_FREQ=48e3,o.RMS_WINDOW_TIME_NUMERATOR=1,o.RMS_WINDOW_TIME_DENOMINATOR=20,o.MAX_SAMPLES_PER_WINDOW=o.MAX_SAMP_FREQ*o.RMS_WINDOW_TIME_NUMERATOR/o.RMS_WINDOW_TIME_DENOMINATOR+1,e.exports=o},166:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float),s=(n.new_float_n,n.new_int),o=(n.new_int_n,n.assert,r(425));e.exports=function(){this.xr=a(576),this.l3_enc=s(576),this.scalefac=s(o.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=s(3),this.subblock_gain=s(4),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=s(o.SFBMAX),this.window=s(o.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=s(4),this.max_nonzero_coeff=0;var e=this;function t(e){return new Int32Array(e)}this.assign=function(r){var n;e.xr=(n=r.xr,new Float32Array(n)),e.l3_enc=t(r.l3_enc),e.scalefac=t(r.scalefac),e.xrpow_max=r.xrpow_max,e.part2_3_length=r.part2_3_length,e.big_values=r.big_values,e.count1=r.count1,e.global_gain=r.global_gain,e.scalefac_compress=r.scalefac_compress,e.block_type=r.block_type,e.mixed_block_flag=r.mixed_block_flag,e.table_select=t(r.table_select),e.subblock_gain=t(r.subblock_gain),e.region0_count=r.region0_count,e.region1_count=r.region1_count,e.preflag=r.preflag,e.scalefac_scale=r.scalefac_scale,e.count1table_select=r.count1table_select,e.part2_length=r.part2_length,e.sfb_lmax=r.sfb_lmax,e.sfb_smin=r.sfb_smin,e.psy_lmax=r.psy_lmax,e.sfbmax=r.sfbmax,e.psymax=r.psymax,e.sfbdivide=r.sfbdivide,e.width=t(r.width),e.window=t(r.window),e.count1bits=r.count1bits,e.sfb_partition_table=r.sfb_partition_table.slice(0),e.slen=t(r.slen),e.max_nonzero_coeff=r.max_nonzero_coeff}}},237:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n,n.new_int),s=(n.new_int_n,n.assert,r(166));e.exports=function(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[a(4),a(4)];for(var e=0;e<2;e++)for(var t=0;t<2;t++)this.tt[e][t]=new s}},671:function(e,t,r){var n=r(110);e.exports=function(){this.thm=new n,this.en=new n}},110:function(e,t,r){var n=r(43),a=r(233),s=a.System,o=(a.VbrMode,a.Float,a.ShortBlock,a.Util,a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),i=a.new_float_n;a.new_int,a.new_int_n,a.assert,e.exports=function(){this.l=o(n.SBMAX_l),this.s=i([n.SBMAX_s,3]);var e=this;this.assign=function(t){s.arraycopy(t.l,0,e.l,0,n.SBMAX_l);for(var r=0;r<n.SBMAX_s;r++)for(var a=0;a<3;a++)e.s[r][a]=t.s[r][a]}}},425:function(e,t,r){var n=r(43),a={};a.SFBMAX=3*n.SBMAX_s,e.exports=a},448:function(e,t,r){var n=r(233),a=n.System,s=n.VbrMode,o=(n.Float,n.ShortBlock),i=(n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float),_=(n.new_float_n,n.new_int,n.new_int_n),l=n.new_short_n,f=n.assert,c=r(296),u=r(33),h=r(459),p=r(644),b=r(21),m=r(506),d=r(881),v=r(330),w=r(43);e.exports=function e(){var t,n,g,k,y,S=r(27),A=this;e.V9=410,e.V8=420,e.V7=430,e.V6=440,e.V5=450,e.V4=460,e.V3=470,e.V2=480,e.V1=490,e.V0=500,e.R3MIX=1e3,e.STANDARD=1001,e.EXTREME=1002,e.INSANE=1003,e.STANDARD_FAST=1004,e.EXTREME_FAST=1005,e.MEDIUM=1006,e.MEDIUM_FAST=1007,e.LAME_MAXMP3BUFFER=147456;var M,R,B,T=new c;function x(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=i(w.SBMAX_l),this.bo_s_weight=i(w.SBMAX_s)}function E(){this.lowerlimit=0}function P(e,t){this.lowpass=t}this.enc=new w,this.setModules=function(e,r,a,s,o,i,_,l,f){t=e,n=r,g=a,k=s,y=o,M=i,R=l,B=f,this.enc.setModules(n,T,k,M)};var O=4294479419;function I(e){return e>1?0:e<=0?1:Math.cos(Math.PI/2*e)}function H(e,t){switch(e){case 44100:return t.version=1,0;case 48e3:return t.version=1,1;case 32e3:return t.version=1,2;case 22050:case 11025:return t.version=0,0;case 24e3:case 12e3:return t.version=0,1;case 16e3:case 8e3:return t.version=0,2;default:return t.version=0,-1}}function L(e,t,r){r<16e3&&(t=2);for(var n=v.bitrate_table[t][1],a=2;a<=14;a++)v.bitrate_table[t][a]>0&&Math.abs(v.bitrate_table[t][a]-e)<Math.abs(n-e)&&(n=v.bitrate_table[t][a]);return n}function V(e,t,r){r<16e3&&(t=2);for(var n=0;n<=14;n++)if(v.bitrate_table[t][n]>0&&v.bitrate_table[t][n]==e)return n;return-1}function N(e,t){var r=[new P(8,2e3),new P(16,3700),new P(24,3900),new P(32,5500),new P(40,7e3),new P(48,7500),new P(56,1e4),new P(64,11e3),new P(80,13500),new P(96,15100),new P(112,15600),new P(128,17e3),new P(160,17500),new P(192,18600),new P(224,19400),new P(256,19700),new P(320,20500)],n=A.nearestBitrateFullIndex(t);e.lowerlimit=r[n].lowpass}function q(e){var t=w.BLKSIZE+e.framesize-w.FFTOFFSET;return t=Math.max(t,512+e.framesize-32),f(h.MFSIZE>=t),t}function D(e,t,r,n,a,s){var o=A.enc.lame_encode_mp3_frame(e,t,r,n,a,s);return e.frameNum++,o}function F(){this.n_in=0,this.n_out=0}function X(){this.num_used=0}function j(e,t){return 0!=t?j(t,e%t):e}function Y(e,t,r){var n=Math.PI*t;(e/=r)<0&&(e=0),e>1&&(e=1);var a=e-.5,s=.42-.5*Math.cos(2*e*Math.PI)+.08*Math.cos(4*e*Math.PI);return Math.abs(a)<1e-9?n/Math.PI:s*Math.sin(r*n*a)/(Math.PI*r*a)}function C(e,t,r,n,a,s,o,_,l){var c,u,p=e.internal_flags,b=0,m=e.out_samplerate/j(e.out_samplerate,e.in_samplerate);m>h.BPC&&(m=h.BPC);var d=Math.abs(p.resample_ratio-Math.floor(.5+p.resample_ratio))<1e-4?1:0,v=1/p.resample_ratio;v>1&&(v=1);var w=31;0==w%2&&--w;var g=(w+=d)+1;if(0==p.fill_buffer_resample_init){for(p.inbuf_old[0]=i(g),p.inbuf_old[1]=i(g),c=0;c<=2*m;++c)p.blackfilt[c]=i(g);for(p.itime[0]=0,p.itime[1]=0,b=0;b<=2*m;b++){var k=0,y=(b-m)/(2*m);for(c=0;c<=w;c++)k+=p.blackfilt[b][c]=Y(c-y,v,w);for(c=0;c<=w;c++)p.blackfilt[b][c]/=k}p.fill_buffer_resample_init=1}var S=p.inbuf_old[l];for(u=0;u<n;u++){var A,M;if(A=u*p.resample_ratio,w+(b=0|Math.floor(A-p.itime[l]))-w/2>=o)break;y=A-p.itime[l]-(b+w%2*.5),f(Math.abs(y)<=.501),M=0|Math.floor(2*y*m+m+.5);var R=0;for(c=0;c<=w;++c){var B=0|c+b-w/2;f(B<o),f(B+g>=0),R+=(B<0?S[g+B]:a[s+B])*p.blackfilt[M][c]}t[r+u]=R}if(_.num_used=Math.min(o,w+b-w/2),p.itime[l]+=_.num_used-u*p.resample_ratio,_.num_used>=g)for(c=0;c<g;c++)S[c]=a[s+_.num_used+c-g];else{var T=g-_.num_used;for(c=0;c<T;++c)S[c]=S[c+_.num_used];for(b=0;c<g;++c,++b)S[c]=a[s+b];f(b==_.num_used)}return u}function W(e,t,r,n,a,s){var o=e.internal_flags;if(o.resample_ratio<.9999||o.resample_ratio>1.0001)for(var i=0;i<o.channels_out;i++){var _=new X;s.n_out=C(e,t[i],o.mf_size,e.framesize,r[i],n,a,_,i),s.n_in=_.num_used}else{s.n_out=Math.min(e.framesize,a),s.n_in=s.n_out;for(var l=0;l<s.n_out;++l)t[0][o.mf_size+l]=r[0][n+l],2==o.channels_out&&(t[1][o.mf_size+l]=r[1][n+l])}}this.lame_init=function(){var e=new u,t=function(e){var t;return e.class_id=O,t=e.internal_flags=new h,e.mode=S.NOT_SET,e.original=1,e.in_samplerate=44100,e.num_channels=2,e.num_samples=-1,e.bWriteVbrTag=!0,e.quality=-1,e.short_blocks=null,t.subblock_gain=-1,e.lowpassfreq=0,e.highpassfreq=0,e.lowpasswidth=-1,e.highpasswidth=-1,e.VBR=s.vbr_off,e.VBR_q=4,e.ATHcurve=-1,e.VBR_mean_bitrate_kbps=128,e.VBR_min_bitrate_kbps=0,e.VBR_max_bitrate_kbps=0,e.VBR_hard_min=0,t.VBR_min_bitrate=1,t.VBR_max_bitrate=13,e.quant_comp=-1,e.quant_comp_short=-1,e.msfix=-1,t.resample_ratio=1,t.OldValue[0]=180,t.OldValue[1]=180,t.CurrentStep[0]=4,t.CurrentStep[1]=4,t.masking_lower=1,t.nsPsy.attackthre=-1,t.nsPsy.attackthre_s=-1,e.scale=-1,e.athaa_type=-1,e.ATHtype=-1,e.athaa_loudapprox=-1,e.athaa_sensitivity=0,e.useTemporal=null,e.interChRatio=-1,t.mf_samples_to_encode=w.ENCDELAY+w.POSTDELAY,e.encoder_padding=0,t.mf_size=w.ENCDELAY-w.MDCTDELAY,e.findReplayGain=!1,e.decode_on_the_fly=!1,t.decode_on_the_fly=!1,t.findReplayGain=!1,t.findPeakSample=!1,t.RadioGain=0,t.AudiophileGain=0,t.noclipGainChange=0,t.noclipScale=-1,e.preset=0,e.write_id3tag_automatic=!0,0}(e);return 0!=t?null:(e.lame_allocated_gfp=1,e)},this.nearestBitrateFullIndex=function(e){var t=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],r=0,n=0,a=0,s=0;s=t[16],a=16,n=t[16],r=16;for(var o=0;o<16;o++)if(Math.max(e,t[o+1])!=e){s=t[o+1],a=o+1,n=t[o],r=o;break}return s-e>e-n?r:a},this.lame_init_params=function(e){var r,i,l,u=e.internal_flags;if(u.Class_ID=0,null==u.ATH&&(u.ATH=new p),null==u.PSY&&(u.PSY=new x),null==u.rgdata&&(u.rgdata=new b),u.channels_in=e.num_channels,1==u.channels_in&&(e.mode=S.MONO),u.channels_out=e.mode==S.MONO?1:2,u.mode_ext=w.MPG_MD_MS_LR,e.mode==S.MONO&&(e.force_ms=!1),e.VBR==s.vbr_off&&128!=e.VBR_mean_bitrate_kbps&&0==e.brate&&(e.brate=e.VBR_mean_bitrate_kbps),e.VBR==s.vbr_off||e.VBR==s.vbr_mtrh||e.VBR==s.vbr_mt||(e.free_format=!1),e.VBR==s.vbr_off&&0==e.brate&&d.EQ(e.compression_ratio,0)&&(e.compression_ratio=11.025),e.VBR==s.vbr_off&&e.compression_ratio>0&&(0==e.out_samplerate&&(e.out_samplerate=map2MP3Frequency(int(.97*e.in_samplerate))),e.brate=0|16*e.out_samplerate*u.channels_out/(1e3*e.compression_ratio),u.samplerate_index=H(e.out_samplerate,e),e.free_format||(e.brate=L(e.brate,e.version,e.out_samplerate))),0!=e.out_samplerate&&(e.out_samplerate<16e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,64)):e.out_samplerate<32e3?(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,8),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,160)):(e.VBR_mean_bitrate_kbps=Math.max(e.VBR_mean_bitrate_kbps,32),e.VBR_mean_bitrate_kbps=Math.min(e.VBR_mean_bitrate_kbps,320))),0==e.lowpassfreq){var h=16e3;switch(e.VBR){case s.vbr_off:N(A=new E,e.brate),h=A.lowerlimit;break;case s.vbr_abr:var A;N(A=new E,e.VBR_mean_bitrate_kbps),h=A.lowerlimit;break;case s.vbr_rh:var P=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=e.VBR_q&&e.VBR_q<=9){var q=P[e.VBR_q],D=P[e.VBR_q+1],F=e.VBR_q_frac;h=linear_int(q,D,F)}else h=19500;break;default:P=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950],0<=e.VBR_q&&e.VBR_q<=9?(q=P[e.VBR_q],D=P[e.VBR_q+1],F=e.VBR_q_frac,h=linear_int(q,D,F)):h=19500}e.mode!=S.MONO||e.VBR!=s.vbr_off&&e.VBR!=s.vbr_abr||(h*=1.5),e.lowpassfreq=0|h}if(0==e.out_samplerate&&(2*e.lowpassfreq>e.in_samplerate&&(e.lowpassfreq=e.in_samplerate/2),e.out_samplerate=(r=0|e.lowpassfreq,l=44100,(i=e.in_samplerate)>=48e3?l=48e3:i>=44100?l=44100:i>=32e3?l=32e3:i>=24e3?l=24e3:i>=22050?l=22050:i>=16e3?l=16e3:i>=12e3?l=12e3:i>=11025?l=11025:i>=8e3&&(l=8e3),-1==r?l:(r<=15960&&(l=44100),r<=15250&&(l=32e3),r<=11220&&(l=24e3),r<=9970&&(l=22050),r<=7230&&(l=16e3),r<=5420&&(l=12e3),r<=4510&&(l=11025),r<=3970&&(l=8e3),i<l?i>44100?48e3:i>32e3?44100:i>24e3?32e3:i>22050?24e3:i>16e3?22050:i>12e3?16e3:i>11025?12e3:i>8e3?11025:8e3:l))),e.lowpassfreq=Math.min(20500,e.lowpassfreq),e.lowpassfreq=Math.min(e.out_samplerate/2,e.lowpassfreq),e.VBR==s.vbr_off&&(e.compression_ratio=16*e.out_samplerate*u.channels_out/(1e3*e.brate)),e.VBR==s.vbr_abr&&(e.compression_ratio=16*e.out_samplerate*u.channels_out/(1e3*e.VBR_mean_bitrate_kbps)),e.bWriteVbrTag||(e.findReplayGain=!1,e.decode_on_the_fly=!1,u.findPeakSample=!1),u.findReplayGain=e.findReplayGain,u.decode_on_the_fly=e.decode_on_the_fly,u.decode_on_the_fly&&(u.findPeakSample=!0),u.findReplayGain&&t.InitGainAnalysis(u.rgdata,e.out_samplerate)==GainAnalysis.INIT_GAIN_ANALYSIS_ERROR)return e.internal_flags=null,-6;switch(u.decode_on_the_fly&&!e.decode_only&&(null!=u.hip&&B.hip_decode_exit(u.hip),u.hip=B.hip_decode_init()),u.mode_gr=e.out_samplerate<=24e3?1:2,e.framesize=576*u.mode_gr,e.encoder_delay=w.ENCDELAY,u.resample_ratio=e.in_samplerate/e.out_samplerate,e.VBR){case s.vbr_mt:case s.vbr_rh:case s.vbr_mtrh:e.compression_ratio=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5][e.VBR_q];break;case s.vbr_abr:e.compression_ratio=16*e.out_samplerate*u.channels_out/(1e3*e.VBR_mean_bitrate_kbps);break;default:e.compression_ratio=16*e.out_samplerate*u.channels_out/(1e3*e.brate)}if(e.mode==S.NOT_SET&&(e.mode=S.JOINT_STEREO),e.highpassfreq>0?(u.highpass1=2*e.highpassfreq,e.highpasswidth>=0?u.highpass2=2*(e.highpassfreq+e.highpasswidth):u.highpass2=2*e.highpassfreq,u.highpass1/=e.out_samplerate,u.highpass2/=e.out_samplerate):(u.highpass1=0,u.highpass2=0),e.lowpassfreq>0?(u.lowpass2=2*e.lowpassfreq,e.lowpasswidth>=0?(u.lowpass1=2*(e.lowpassfreq-e.lowpasswidth),u.lowpass1<0&&(u.lowpass1=0)):u.lowpass1=2*e.lowpassfreq,u.lowpass1/=e.out_samplerate,u.lowpass2/=e.out_samplerate):(u.lowpass1=0,u.lowpass2=0),function(e){var t=e.internal_flags,r=32,n=-1;if(t.lowpass1>0){for(var s=999,o=0;o<=31;o++)(f=o/31)>=t.lowpass2&&(r=Math.min(r,o)),t.lowpass1<f&&f<t.lowpass2&&(s=Math.min(s,o));t.lowpass1=999==s?(r-.75)/31:(s-.75)/31,t.lowpass2=r/31}if(t.highpass2>0&&t.highpass2<.75/31*.9&&(t.highpass1=0,t.highpass2=0,a.err.println("Warning: highpass filter disabled.  highpass frequency too small\n")),t.highpass2>0){var i=-1;for(o=0;o<=31;o++)(f=o/31)<=t.highpass1&&(n=Math.max(n,o)),t.highpass1<f&&f<t.highpass2&&(i=Math.max(i,o));t.highpass1=n/31,t.highpass2=-1==i?(n+.75)/31:(i+.75)/31}for(o=0;o<32;o++){var _,l,f=o/31;_=t.highpass2>t.highpass1?I((t.highpass2-f)/(t.highpass2-t.highpass1+1e-20)):1,l=t.lowpass2>t.lowpass1?I((f-t.lowpass1)/(t.lowpass2-t.lowpass1+1e-20)):1,t.amp_filter[o]=_*l}}(e),u.samplerate_index=H(e.out_samplerate,e),u.samplerate_index<0)return e.internal_flags=null,-1;if(e.VBR==s.vbr_off){if(e.free_format)u.bitrate_index=0;else if(e.brate=L(e.brate,e.version,e.out_samplerate),u.bitrate_index=V(e.brate,e.version,e.out_samplerate),u.bitrate_index<=0)return e.internal_flags=null,-1}else u.bitrate_index=1;e.analysis&&(e.bWriteVbrTag=!1),null!=u.pinfo&&(e.bWriteVbrTag=!1),n.init_bit_stream_w(u);for(var X,j=u.samplerate_index+3*e.version+6*(e.out_samplerate<16e3?1:0),Y=0;Y<w.SBMAX_l+1;Y++)u.scalefac_band.l[Y]=k.sfBandIndex[j].l[Y];for(Y=0;Y<w.PSFB21+1;Y++){var C=(u.scalefac_band.l[22]-u.scalefac_band.l[21])/w.PSFB21,W=u.scalefac_band.l[21]+Y*C;u.scalefac_band.psfb21[Y]=W}for(u.scalefac_band.psfb21[w.PSFB21]=576,Y=0;Y<w.SBMAX_s+1;Y++)u.scalefac_band.s[Y]=k.sfBandIndex[j].s[Y];for(Y=0;Y<w.PSFB12+1;Y++)C=(u.scalefac_band.s[13]-u.scalefac_band.s[12])/w.PSFB12,W=u.scalefac_band.s[12]+Y*C,u.scalefac_band.psfb12[Y]=W;for(u.scalefac_band.psfb12[w.PSFB12]=192,1==e.version?u.sideinfo_len=1==u.channels_out?21:36:u.sideinfo_len=1==u.channels_out?13:21,e.error_protection&&(u.sideinfo_len+=2),function(e){var t=e.internal_flags;e.frameNum=0,e.write_id3tag_automatic&&R.id3tag_write_v2(e),t.bitrate_stereoMode_Hist=_([16,5]),t.bitrate_blockType_Hist=_([16,6]),t.PeakSample=0,e.bWriteVbrTag&&M.InitVbrTag(e)}(e),u.Class_ID=O,X=0;X<19;X++)u.nsPsy.pefirbuf[X]=700*u.mode_gr*u.channels_out;switch(-1==e.ATHtype&&(e.ATHtype=4),f(e.VBR_q<=9),f(e.VBR_q>=0),e.VBR){case s.vbr_mt:e.VBR=s.vbr_mtrh;case s.vbr_mtrh:null==e.useTemporal&&(e.useTemporal=!1),g.apply_preset(e,500-10*e.VBR_q,0),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),e.quality<5&&(e.quality=0),e.quality>5&&(e.quality=5),u.PSY.mask_adjust=e.maskingadjust,u.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?u.sfb21_extra=!1:u.sfb21_extra=e.out_samplerate>44e3,u.iteration_loop=new VBRNewIterationLoop(y);break;case s.vbr_rh:g.apply_preset(e,500-10*e.VBR_q,0),u.PSY.mask_adjust=e.maskingadjust,u.PSY.mask_adjust_short=e.maskingadjust_short,e.experimentalY?u.sfb21_extra=!1:u.sfb21_extra=e.out_samplerate>44e3,e.quality>6&&(e.quality=6),e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),u.iteration_loop=new VBROldIterationLoop(y);break;default:var U;u.sfb21_extra=!1,e.quality<0&&(e.quality=LAME_DEFAULT_QUALITY),(U=e.VBR)==s.vbr_off&&(e.VBR_mean_bitrate_kbps=e.brate),g.apply_preset(e,e.VBR_mean_bitrate_kbps,0),e.VBR=U,u.PSY.mask_adjust=e.maskingadjust,u.PSY.mask_adjust_short=e.maskingadjust_short,U==s.vbr_off?u.iteration_loop=new m(y):u.iteration_loop=new ABRIterationLoop(y)}if(f(e.scale>=0),e.VBR!=s.vbr_off){if(u.VBR_min_bitrate=1,u.VBR_max_bitrate=14,e.out_samplerate<16e3&&(u.VBR_max_bitrate=8),0!=e.VBR_min_bitrate_kbps&&(e.VBR_min_bitrate_kbps=L(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),u.VBR_min_bitrate=V(e.VBR_min_bitrate_kbps,e.version,e.out_samplerate),u.VBR_min_bitrate<0))return-1;if(0!=e.VBR_max_bitrate_kbps&&(e.VBR_max_bitrate_kbps=L(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),u.VBR_max_bitrate=V(e.VBR_max_bitrate_kbps,e.version,e.out_samplerate),u.VBR_max_bitrate<0))return-1;e.VBR_min_bitrate_kbps=v.bitrate_table[e.version][u.VBR_min_bitrate],e.VBR_max_bitrate_kbps=v.bitrate_table[e.version][u.VBR_max_bitrate],e.VBR_mean_bitrate_kbps=Math.min(v.bitrate_table[e.version][u.VBR_max_bitrate],e.VBR_mean_bitrate_kbps),e.VBR_mean_bitrate_kbps=Math.max(v.bitrate_table[e.version][u.VBR_min_bitrate],e.VBR_mean_bitrate_kbps)}return e.tune&&(u.PSY.mask_adjust+=e.tune_value_a,u.PSY.mask_adjust_short+=e.tune_value_a),function(e){var t=e.internal_flags;switch(e.quality){default:case 9:t.psymodel=0,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 8:e.quality=7;case 7:t.psymodel=1,t.noise_shaping=0,t.noise_shaping_amp=0,t.noise_shaping_stop=0,t.use_best_huffman=0,t.full_outer_loop=0;break;case 6:case 5:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=0,t.full_outer_loop=0;break;case 4:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=0,t.noise_shaping_stop=0,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 3:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 2:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=1,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0;break;case 1:case 0:t.psymodel=1,0==t.noise_shaping&&(t.noise_shaping=1),0==t.substep_shaping&&(t.substep_shaping=2),t.noise_shaping_amp=2,t.noise_shaping_stop=1,-1==t.subblock_gain&&(t.subblock_gain=1),t.use_best_huffman=1,t.full_outer_loop=0}}(e),f(e.scale>=0),e.athaa_type<0?u.ATH.useAdjust=3:u.ATH.useAdjust=e.athaa_type,u.ATH.aaSensitivityP=Math.pow(10,e.athaa_sensitivity/-10),null==e.short_blocks&&(e.short_blocks=o.short_block_allowed),e.short_blocks!=o.short_block_allowed||e.mode!=S.JOINT_STEREO&&e.mode!=S.STEREO||(e.short_blocks=o.short_block_coupled),e.quant_comp<0&&(e.quant_comp=1),e.quant_comp_short<0&&(e.quant_comp_short=0),e.msfix<0&&(e.msfix=0),e.exp_nspsytune=1|e.exp_nspsytune,e.internal_flags.nsPsy.attackthre<0&&(e.internal_flags.nsPsy.attackthre=c.NSATTACKTHRE),e.internal_flags.nsPsy.attackthre_s<0&&(e.internal_flags.nsPsy.attackthre_s=c.NSATTACKTHRE_S),f(e.scale>=0),e.scale<0&&(e.scale=1),e.ATHtype<0&&(e.ATHtype=4),e.ATHcurve<0&&(e.ATHcurve=4),e.athaa_loudapprox<0&&(e.athaa_loudapprox=2),e.interChRatio<0&&(e.interChRatio=0),null==e.useTemporal&&(e.useTemporal=!0),u.slot_lag=u.frac_SpF=0,e.VBR==s.vbr_off&&(u.slot_lag=u.frac_SpF=72e3*(e.version+1)*e.brate%e.out_samplerate|0),k.iteration_init(e),T.psymodel_init(e),f(e.scale>=0),0},this.lame_encode_flush=function(e,t,r,a){var s,o,i,_,f=e.internal_flags,c=l([2,1152]),u=0,h=f.mf_samples_to_encode-w.POSTDELAY,p=q(e);if(f.mf_samples_to_encode<1)return 0;for(s=0,e.in_samplerate!=e.out_samplerate&&(h+=16*e.out_samplerate/e.in_samplerate),(i=e.framesize-h%e.framesize)<576&&(i+=e.framesize),e.encoder_padding=i,_=(h+i)/e.framesize;_>0&&u>=0;){var b=p-f.mf_size,m=e.frameNum;b*=e.in_samplerate,(b/=e.out_samplerate)>1152&&(b=1152),b<1&&(b=1),o=a-s,0==a&&(o=0),r+=u=this.lame_encode_buffer(e,c[0],c[1],b,t,r,o),s+=u,_-=m!=e.frameNum?1:0}if(f.mf_samples_to_encode=0,u<0)return u;if(o=a-s,0==a&&(o=0),n.flush_bitstream(e),(u=n.copy_buffer(f,t,r,o,1))<0)return u;if(r+=u,o=a-(s+=u),0==a&&(o=0),e.write_id3tag_automatic){if(R.id3tag_write_v1(e),(u=n.copy_buffer(f,t,r,o,0))<0)return u;s+=u}return s},this.lame_encode_buffer=function(e,r,a,s,o,_,l){var c=e.internal_flags,u=[null,null];if(c.Class_ID!=O)return-3;if(0==s)return 0;!function(e,t){(null==e.in_buffer_0||e.in_buffer_nsamples<t)&&(e.in_buffer_0=i(t),e.in_buffer_1=i(t),e.in_buffer_nsamples=t)}(c,s),u[0]=c.in_buffer_0,u[1]=c.in_buffer_1;for(var p=0;p<s;p++)u[0][p]=r[p],c.channels_in>1&&(u[1][p]=a[p]);return function(e,r,a,s,o,i,_){var l,c,u,p,b,m=e.internal_flags,v=0,g=[null,null],k=[null,null];if(m.Class_ID!=O)return-3;if(0==s)return 0;if((b=n.copy_buffer(m,o,i,_,0))<0)return b;if(i+=b,v+=b,k[0]=r,k[1]=a,d.NEQ(e.scale,0)&&d.NEQ(e.scale,1))for(c=0;c<s;++c)k[0][c]*=e.scale,2==m.channels_out&&(k[1][c]*=e.scale);if(d.NEQ(e.scale_left,0)&&d.NEQ(e.scale_left,1))for(c=0;c<s;++c)k[0][c]*=e.scale_left;if(d.NEQ(e.scale_right,0)&&d.NEQ(e.scale_right,1))for(c=0;c<s;++c)k[1][c]*=e.scale_right;if(2==e.num_channels&&1==m.channels_out)for(c=0;c<s;++c)k[0][c]=.5*(k[0][c]+k[1][c]),k[1][c]=0;p=q(e),g[0]=m.mfbuf[0],g[1]=m.mfbuf[1];for(var y=0;s>0;){var S,A,M=[null,null];M[0]=k[0],M[1]=k[1];var R=new F;if(W(e,g,M,y,s,R),S=R.n_in,A=R.n_out,m.findReplayGain&&!m.decode_on_the_fly&&t.AnalyzeSamples(m.rgdata,g[0],m.mf_size,g[1],m.mf_size,A,m.channels_out)==GainAnalysis.GAIN_ANALYSIS_ERROR)return-6;if(s-=S,y+=S,m.channels_out,m.mf_size+=A,f(m.mf_size<=h.MFSIZE),m.mf_samples_to_encode<1&&(m.mf_samples_to_encode=w.ENCDELAY+w.POSTDELAY),m.mf_samples_to_encode+=A,m.mf_size>=p){var B=_-v;if(0==_&&(B=0),(l=D(e,g[0],g[1],o,i,B))<0)return l;for(i+=l,v+=l,m.mf_size-=e.framesize,m.mf_samples_to_encode-=e.framesize,u=0;u<m.channels_out;u++)for(c=0;c<m.mf_size;c++)g[u][c]=g[u][c+e.framesize]}}return f(0==s),v}(e,u[0],u[1],s,o,_,l)}}},33:function(e,t,r){var n=r(27);e.exports=function(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=n.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}},459:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte),s=n.new_double,o=n.new_float,i=n.new_float_n,_=n.new_int,l=n.new_int_n,f=(n.assert,r(237)),c=r(385),u=r(924),h=r(971),p=r(110),b=r(43),m=r(425);function d(){function e(){this.write_timing=0,this.ptr=0,this.buf=a(40)}this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=i([2,d.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new f,this.ms_ratio=o(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=_(2),this.CurrentStep=_(2),this.masking_lower=0,this.bv_scf=_(576),this.pseudohalf=_(m.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*d.BPC+1),this.itime=s(2),this.sideinfo_len=0,this.sb_sample=i([2,2,18,b.SBLIMIT]),this.amp_filter=o(32),this.header=new Array(d.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new c,this.minval_l=o(b.CBANDS),this.minval_s=o(b.CBANDS),this.nb_1=i([4,b.CBANDS]),this.nb_2=i([4,b.CBANDS]),this.nb_s1=i([4,b.CBANDS]),this.nb_s2=i([4,b.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=o(4),this.loudness_sq=i([2,2]),this.loudness_sq_save=o(2),this.mld_l=o(b.SBMAX_l),this.mld_s=o(b.SBMAX_s),this.bm_l=_(b.SBMAX_l),this.bo_l=_(b.SBMAX_l),this.bm_s=_(b.SBMAX_s),this.bo_s=_(b.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=l([b.CBANDS,2]),this.s3ind_s=l([b.CBANDS,2]),this.numlines_s=_(b.CBANDS),this.numlines_l=_(b.CBANDS),this.rnumlines_l=o(b.CBANDS),this.mld_cb_l=o(b.CBANDS),this.mld_cb_s=o(b.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=o(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=_(2),this.nsPsy=new u,this.VBR_seek_table=new h,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=l([16,5]),this.bitrate_blockType_Hist=l([16,6]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var t=0;t<this.en.length;t++)this.en[t]=new p;for(t=0;t<this.thm.length;t++)this.thm[t]=new p;for(t=0;t<this.header.length;t++)this.header[t]=new e}d.MFSIZE=3456+b.ENCDELAY-b.MDCTDELAY,d.MAX_HEADER_BUF=256,d.MAX_BITS_PER_CHANNEL=4095,d.MAX_BITS_PER_GRANULE=7680,d.BPC=320,e.exports=d},27:function(e){function t(e){var t=e;this.ordinal=function(){return t}}t.STEREO=new t(0),t.JOINT_STEREO=new t(1),t.DUAL_CHANNEL=new t(2),t.MONO=new t(3),t.NOT_SET=new t(4),e.exports=t},423:function(e){e.exports=function(e){this.bits=e}},419:function(e,t,r){var n=r(233),a=n.System,s=(n.VbrMode,n.Float,n.ShortBlock,n.Util),o=n.Arrays,i=(n.new_array_n,n.new_byte,n.new_double,n.new_float),_=(n.new_float_n,n.new_int,n.new_int_n,n.assert,r(43));e.exports=function(){var e=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*s.SQRT2*.5/2384e-9,.017876148*s.SQRT2*.5/2384e-9,.003134727*s.SQRT2*.5/2384e-9,.002457142*s.SQRT2*.5/2384e-9,971317e-9*s.SQRT2*.5/2384e-9,218868e-9*s.SQRT2*.5/2384e-9,101566e-9*s.SQRT2*.5/2384e-9,13828e-9*s.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],t=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],r=t[_.SHORT_TYPE],n=t[_.SHORT_TYPE],l=t[_.SHORT_TYPE],f=t[_.SHORT_TYPE],c=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function u(t,r,n){for(var a,o,i,_=10,l=r+238-14-286,f=-15;f<0;f++){var c,u,h;c=e[_+-10],u=t[l+-224]*c,h=t[r+224]*c,c=e[_+-9],u+=t[l+-160]*c,h+=t[r+160]*c,c=e[_+-8],u+=t[l+-96]*c,h+=t[r+96]*c,c=e[_+-7],u+=t[l+-32]*c,h+=t[r+32]*c,c=e[_+-6],u+=t[l+32]*c,h+=t[r+-32]*c,c=e[_+-5],u+=t[l+96]*c,h+=t[r+-96]*c,c=e[_+-4],u+=t[l+160]*c,h+=t[r+-160]*c,c=e[_+-3],u+=t[l+224]*c,h+=t[r+-224]*c,c=e[_+-2],u+=t[r+-256]*c,h-=t[l+256]*c,c=e[_+-1],u+=t[r+-192]*c,h-=t[l+192]*c,c=e[_+0],u+=t[r+-128]*c,h-=t[l+128]*c,c=e[_+1],u+=t[r+-64]*c,h-=t[l+64]*c,c=e[_+2],u+=t[r+0]*c,h-=t[l+0]*c,c=e[_+3],u+=t[r+64]*c,h-=t[l+-64]*c,c=e[_+4],u+=t[r+128]*c,h-=t[l+-128]*c,c=e[_+5],u+=t[r+192]*c,c=(h-=t[l+-192]*c)-(u*=e[_+6]),n[30+2*f]=h+u,n[31+2*f]=e[_+7]*c,_+=18,r--,l++}h=t[r+-16]*e[_+-10],u=t[r+-32]*e[_+-2],h+=(t[r+-48]-t[r+16])*e[_+-9],u+=t[r+-96]*e[_+-1],h+=(t[r+-80]+t[r+48])*e[_+-8],u+=t[r+-160]*e[_+0],h+=(t[r+-112]-t[r+80])*e[_+-7],u+=t[r+-224]*e[_+1],h+=(t[r+-144]+t[r+112])*e[_+-6],u-=t[r+32]*e[_+2],h+=(t[r+-176]-t[r+144])*e[_+-5],u-=t[r+96]*e[_+3],h+=(t[r+-208]+t[r+176])*e[_+-4],u-=t[r+160]*e[_+4],h+=(t[r+-240]-t[r+208])*e[_+-3],a=(u-=t[r+224])-h,o=u+h,h=n[14],u=n[15]-h,n[31]=o+h,n[30]=a+u,n[15]=a-u,n[14]=o-h,i=n[28]-n[0],n[0]+=n[28],n[28]=i*e[_+-36+7],i=n[29]-n[1],n[1]+=n[29],n[29]=i*e[_+-36+7],i=n[26]-n[2],n[2]+=n[26],n[26]=i*e[_+-72+7],i=n[27]-n[3],n[3]+=n[27],n[27]=i*e[_+-72+7],i=n[24]-n[4],n[4]+=n[24],n[24]=i*e[_+-108+7],i=n[25]-n[5],n[5]+=n[25],n[25]=i*e[_+-108+7],i=n[22]-n[6],n[6]+=n[22],n[22]=i*s.SQRT2,i=n[23]-n[7],n[7]+=n[23],n[23]=i*s.SQRT2-n[7],n[7]-=n[6],n[22]-=n[7],n[23]-=n[22],i=n[6],n[6]=n[31]-i,n[31]=n[31]+i,i=n[7],n[7]=n[30]-i,n[30]=n[30]+i,i=n[22],n[22]=n[15]-i,n[15]=n[15]+i,i=n[23],n[23]=n[14]-i,n[14]=n[14]+i,i=n[20]-n[8],n[8]+=n[20],n[20]=i*e[_+-180+7],i=n[21]-n[9],n[9]+=n[21],n[21]=i*e[_+-180+7],i=n[18]-n[10],n[10]+=n[18],n[18]=i*e[_+-216+7],i=n[19]-n[11],n[11]+=n[19],n[19]=i*e[_+-216+7],i=n[16]-n[12],n[12]+=n[16],n[16]=i*e[_+-252+7],i=n[17]-n[13],n[13]+=n[17],n[17]=i*e[_+-252+7],i=-n[20]+n[24],n[20]+=n[24],n[24]=i*e[_+-216+7],i=-n[21]+n[25],n[21]+=n[25],n[25]=i*e[_+-216+7],i=n[4]-n[8],n[4]+=n[8],n[8]=i*e[_+-216+7],i=n[5]-n[9],n[5]+=n[9],n[9]=i*e[_+-216+7],i=n[0]-n[12],n[0]+=n[12],n[12]=i*e[_+-72+7],i=n[1]-n[13],n[1]+=n[13],n[13]=i*e[_+-72+7],i=n[16]-n[28],n[16]+=n[28],n[28]=i*e[_+-72+7],i=-n[17]+n[29],n[17]+=n[29],n[29]=i*e[_+-72+7],i=s.SQRT2*(n[2]-n[10]),n[2]+=n[10],n[10]=i,i=s.SQRT2*(n[3]-n[11]),n[3]+=n[11],n[11]=i,i=s.SQRT2*(-n[18]+n[26]),n[18]+=n[26],n[26]=i-n[18],i=s.SQRT2*(-n[19]+n[27]),n[19]+=n[27],n[27]=i-n[19],i=n[2],n[19]-=n[3],n[3]-=i,n[2]=n[31]-i,n[31]+=i,i=n[3],n[11]-=n[19],n[18]-=i,n[3]=n[30]-i,n[30]+=i,i=n[18],n[27]-=n[11],n[19]-=i,n[18]=n[15]-i,n[15]+=i,i=n[19],n[10]-=i,n[19]=n[14]-i,n[14]+=i,i=n[10],n[11]-=i,n[10]=n[23]-i,n[23]+=i,i=n[11],n[26]-=i,n[11]=n[22]-i,n[22]+=i,i=n[26],n[27]-=i,n[26]=n[7]-i,n[7]+=i,i=n[27],n[27]=n[6]-i,n[6]+=i,i=s.SQRT2*(n[0]-n[4]),n[0]+=n[4],n[4]=i,i=s.SQRT2*(n[1]-n[5]),n[1]+=n[5],n[5]=i,i=s.SQRT2*(n[16]-n[20]),n[16]+=n[20],n[20]=i,i=s.SQRT2*(n[17]-n[21]),n[17]+=n[21],n[21]=i,i=-s.SQRT2*(n[8]-n[12]),n[8]+=n[12],n[12]=i-n[8],i=-s.SQRT2*(n[9]-n[13]),n[9]+=n[13],n[13]=i-n[9],i=-s.SQRT2*(n[25]-n[29]),n[25]+=n[29],n[29]=i-n[25],i=-s.SQRT2*(n[24]+n[28]),n[24]-=n[28],n[28]=i-n[24],i=n[24]-n[16],n[24]=i,i=n[20]-i,n[20]=i,i=n[28]-i,n[28]=i,i=n[25]-n[17],n[25]=i,i=n[21]-i,n[21]=i,i=n[29]-i,n[29]=i,i=n[17]-n[1],n[17]=i,i=n[9]-i,n[9]=i,i=n[25]-i,n[25]=i,i=n[5]-i,n[5]=i,i=n[21]-i,n[21]=i,i=n[13]-i,n[13]=i,i=n[29]-i,n[29]=i,i=n[1]-n[0],n[1]=i,i=n[16]-i,n[16]=i,i=n[17]-i,n[17]=i,i=n[8]-i,n[8]=i,i=n[9]-i,n[9]=i,i=n[24]-i,n[24]=i,i=n[25]-i,n[25]=i,i=n[4]-i,n[4]=i,i=n[5]-i,n[5]=i,i=n[20]-i,n[20]=i,i=n[21]-i,n[21]=i,i=n[12]-i,n[12]=i,i=n[13]-i,n[13]=i,i=n[28]-i,n[28]=i,i=n[29]-i,n[29]=i,i=n[0],n[0]+=n[31],n[31]-=i,i=n[1],n[1]+=n[30],n[30]-=i,i=n[16],n[16]+=n[15],n[15]-=i,i=n[17],n[17]+=n[14],n[14]-=i,i=n[8],n[8]+=n[23],n[23]-=i,i=n[9],n[9]+=n[22],n[22]-=i,i=n[24],n[24]+=n[7],n[7]-=i,i=n[25],n[25]+=n[6],n[6]-=i,i=n[4],n[4]+=n[27],n[27]-=i,i=n[5],n[5]+=n[26],n[26]-=i,i=n[20],n[20]+=n[11],n[11]-=i,i=n[21],n[21]+=n[10],n[10]-=i,i=n[12],n[12]+=n[19],n[19]-=i,i=n[13],n[13]+=n[18],n[18]-=i,i=n[28],n[28]+=n[3],n[3]-=i,i=n[29],n[29]+=n[2],n[2]-=i}function h(e,r){for(var n=0;n<3;n++){var a,s,o,i,l,f;s=(i=e[r+6]*t[_.SHORT_TYPE][0]-e[r+15])+(a=e[r+0]*t[_.SHORT_TYPE][2]-e[r+9]),o=i-a,l=(i=e[r+15]*t[_.SHORT_TYPE][0]+e[r+6])+(a=e[r+9]*t[_.SHORT_TYPE][2]+e[r+0]),f=-i+a,a=2069978111953089e-26*(e[r+3]*t[_.SHORT_TYPE][1]-e[r+12]),i=2069978111953089e-26*(e[r+12]*t[_.SHORT_TYPE][1]+e[r+3]),e[r+0]=190752519173728e-25*s+a,e[r+15]=190752519173728e-25*-l+i,o=.8660254037844387*o*1907525191737281e-26,l=.5*l*1907525191737281e-26+i,e[r+3]=o-l,e[r+6]=o+l,s=.5*s*1907525191737281e-26-a,f=.8660254037844387*f*1907525191737281e-26,e[r+9]=s+f,e[r+12]=s-f,r++}}this.mdct_sub48=function(e,s,p){for(var b,m,d,v,w,g,k,y,S,A,M,R,B,T,x,E,P,O,I,H,L,V=s,N=286,q=0;q<e.channels_out;q++){for(var D=0;D<e.mode_gr;D++){for(var F,X=e.l3_side.tt[D][q],j=X.xr,Y=0,C=e.sb_sample[q][1-D],W=0,U=0;U<9;U++)for(u(V,N,C[W]),u(V,N+32,C[W+1]),W+=2,N+=64,F=1;F<32;F+=2)C[W-1][F]*=-1;for(F=0;F<32;F++,Y+=18){var z=X.block_type,G=e.sb_sample[q][D],K=e.sb_sample[q][1-D];if(0!=X.mixed_block_flag&&F<2&&(z=0),e.amp_filter[F]<1e-12)o.fill(j,Y+0,Y+18,0);else{if(e.amp_filter[F]<1)for(U=0;U<18;U++)K[U][c[F]]*=e.amp_filter[F];if(z==_.SHORT_TYPE){for(U=-3;U<0;U++){var Z=t[_.SHORT_TYPE][U+3];j[Y+3*U+9]=G[9+U][c[F]]*Z-G[8-U][c[F]],j[Y+3*U+18]=G[14-U][c[F]]*Z+G[15+U][c[F]],j[Y+3*U+10]=G[15+U][c[F]]*Z-G[14-U][c[F]],j[Y+3*U+19]=K[2-U][c[F]]*Z+K[3+U][c[F]],j[Y+3*U+11]=K[3+U][c[F]]*Z-K[2-U][c[F]],j[Y+3*U+20]=K[8-U][c[F]]*Z+K[9+U][c[F]]}h(j,Y)}else{var Q=i(18);for(U=-9;U<0;U++){var J,$;J=t[z][U+27]*K[U+9][c[F]]+t[z][U+36]*K[8-U][c[F]],$=t[z][U+9]*G[U+9][c[F]]-t[z][U+18]*G[8-U][c[F]],Q[U+9]=J-$*r[3+U+9],Q[U+18]=J*r[3+U+9]+$}b=j,m=Y,v=void 0,w=void 0,void 0,void 0,void 0,void 0,void 0,M=void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,I=void 0,void 0,void 0,g=(d=Q)[17]-d[9],y=d[15]-d[11],S=d[14]-d[12],A=d[0]+d[8],M=d[1]+d[7],R=d[2]+d[6],B=d[3]+d[5],b[m+17]=A+R-B-(M-d[4]),w=(A+R-B)*n[19]+(M-d[4]),v=(g-y-S)*n[18],b[m+5]=v+w,b[m+6]=v-w,k=(d[16]-d[10])*n[18],M=M*n[19]+d[4],v=g*n[12]+k+y*n[13]+S*n[14],w=-A*n[16]+M-R*n[17]+B*n[15],b[m+1]=v+w,b[m+2]=v-w,v=g*n[13]-k-y*n[14]+S*n[12],w=-A*n[17]+M-R*n[15]+B*n[16],b[m+9]=v+w,b[m+10]=v-w,v=g*n[14]-k+y*n[12]-S*n[13],w=A*n[15]-M+R*n[16]-B*n[17],b[m+13]=v+w,b[m+14]=v-w,T=d[8]-d[0],E=d[6]-d[2],P=d[5]-d[3],O=d[17]+d[9],I=d[16]+d[10],H=d[15]+d[11],L=d[14]+d[12],b[m+0]=O+H+L+(I+d[13]),v=(O+H+L)*n[19]-(I+d[13]),w=(T-E+P)*n[18],b[m+11]=v+w,b[m+12]=v-w,x=(d[7]-d[1])*n[18],I=d[13]-I*n[19],v=O*n[15]-I+H*n[16]+L*n[17],w=T*n[14]+x+E*n[12]+P*n[13],b[m+3]=v+w,b[m+4]=v-w,v=-O*n[17]+I-H*n[15]-L*n[16],w=T*n[13]+x-E*n[14]-P*n[12],b[m+7]=v+w,b[m+8]=v-w,v=-O*n[16]+I-H*n[17]-L*n[15],w=T*n[12]-x+E*n[13]-P*n[14],b[m+15]=v+w,b[m+16]=v-w}}if(z!=_.SHORT_TYPE&&0!=F)for(U=7;U>=0;--U){var ee,te;ee=j[Y+U]*l[20+U]+j[Y+-1-U]*f[28+U],te=j[Y+U]*f[28+U]-j[Y+-1-U]*l[20+U],j[Y+-1-U]=ee,j[Y+U]=te}}}if(V=p,N=286,1==e.mode_gr)for(var re=0;re<18;re++)a.arraycopy(e.sb_sample[q][1][re],0,e.sb_sample[q][0][re],0,32)}}}},924:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float),s=n.new_float_n,o=n.new_int,i=(n.new_int_n,n.assert,r(43));e.exports=function(){this.last_en_subshort=s([4,9]),this.lastAttacks=o(4),this.pefirbuf=a(19),this.longfact=a(i.SBMAX_l),this.shortfact=a(i.SBMAX_s),this.attackthre=0,this.attackthre_s=0}},49:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode);n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n,n.new_int,n.new_int_n,n.assert,e.exports=function(){var e,t=r(448);function n(e,t,r,n,a,s,o,i,_,l,f,c,u,h,p){this.vbr_q=e,this.quant_comp=t,this.quant_comp_s=r,this.expY=n,this.st_lrm=a,this.st_s=s,this.masking_adj=o,this.masking_adj_short=i,this.ath_lower=_,this.ath_curve=l,this.ath_sensitivity=f,this.interch=c,this.safejoint=u,this.sfb21mod=h,this.msfix=p}function s(e,t,r,n,a,s,o,i,_,l,f,c,u,h){this.quant_comp=t,this.quant_comp_s=r,this.safejoint=n,this.nsmsfix=a,this.st_lrm=s,this.st_s=o,this.nsbass=i,this.scale=_,this.masking_adj=l,this.ath_lower=f,this.ath_curve=c,this.interch=u,this.sfscale=h}this.setModules=function(t){e=t};var o=[new n(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new n(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new n(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new n(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new n(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new n(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new n(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new n(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new n(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],i=[new n(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new n(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new n(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new n(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new n(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new n(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new n(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new n(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new n(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new n(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new n(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function _(e,t,r){var n=e.VBR==a.vbr_rh?o:i,s=e.VBR_q_frac,_=n[t],l=n[t+1],f=_;_.st_lrm=_.st_lrm+s*(l.st_lrm-_.st_lrm),_.st_s=_.st_s+s*(l.st_s-_.st_s),_.masking_adj=_.masking_adj+s*(l.masking_adj-_.masking_adj),_.masking_adj_short=_.masking_adj_short+s*(l.masking_adj_short-_.masking_adj_short),_.ath_lower=_.ath_lower+s*(l.ath_lower-_.ath_lower),_.ath_curve=_.ath_curve+s*(l.ath_curve-_.ath_curve),_.ath_sensitivity=_.ath_sensitivity+s*(l.ath_sensitivity-_.ath_sensitivity),_.interch=_.interch+s*(l.interch-_.interch),_.msfix=_.msfix+s*(l.msfix-_.msfix),function(e,t){0>t&&(-1,t=0),9<t&&(-1,t=9),e.VBR_q=t,e.VBR_q_frac=0}(e,f.vbr_q),0!=r?e.quant_comp=f.quant_comp:Math.abs(e.quant_comp- -1)>0||(e.quant_comp=f.quant_comp),0!=r?e.quant_comp_short=f.quant_comp_s:Math.abs(e.quant_comp_short- -1)>0||(e.quant_comp_short=f.quant_comp_s),0!=f.expY&&(e.experimentalY=0!=f.expY),0!=r?e.internal_flags.nsPsy.attackthre=f.st_lrm:Math.abs(e.internal_flags.nsPsy.attackthre- -1)>0||(e.internal_flags.nsPsy.attackthre=f.st_lrm),0!=r?e.internal_flags.nsPsy.attackthre_s=f.st_s:Math.abs(e.internal_flags.nsPsy.attackthre_s- -1)>0||(e.internal_flags.nsPsy.attackthre_s=f.st_s),0!=r?e.maskingadjust=f.masking_adj:Math.abs(e.maskingadjust-0)>0||(e.maskingadjust=f.masking_adj),0!=r?e.maskingadjust_short=f.masking_adj_short:Math.abs(e.maskingadjust_short-0)>0||(e.maskingadjust_short=f.masking_adj_short),0!=r?e.ATHlower=-f.ath_lower/10:Math.abs(10*-e.ATHlower-0)>0||(e.ATHlower=-f.ath_lower/10),0!=r?e.ATHcurve=f.ath_curve:Math.abs(e.ATHcurve- -1)>0||(e.ATHcurve=f.ath_curve),0!=r?e.athaa_sensitivity=f.ath_sensitivity:Math.abs(e.athaa_sensitivity- -1)>0||(e.athaa_sensitivity=f.ath_sensitivity),f.interch>0&&(0!=r?e.interChRatio=f.interch:Math.abs(e.interChRatio- -1)>0||(e.interChRatio=f.interch)),f.safejoint>0&&(e.exp_nspsytune=e.exp_nspsytune|f.safejoint),f.sfb21mod>0&&(e.exp_nspsytune=e.exp_nspsytune|f.sfb21mod<<20),0!=r?e.msfix=f.msfix:Math.abs(e.msfix- -1)>0||(e.msfix=f.msfix),0==r&&(e.VBR_q=t,e.VBR_q_frac=s)}var l=[new s(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new s(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new s(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new s(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new s(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new s(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new s(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new s(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new s(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new s(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new s(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new s(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new s(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new s(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new s(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new s(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new s(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function f(t,r,n){var s=r,o=e.nearestBitrateFullIndex(r);if(t.VBR=a.vbr_abr,t.VBR_mean_bitrate_kbps=s,t.VBR_mean_bitrate_kbps=Math.min(t.VBR_mean_bitrate_kbps,320),t.VBR_mean_bitrate_kbps=Math.max(t.VBR_mean_bitrate_kbps,8),t.brate=t.VBR_mean_bitrate_kbps,t.VBR_mean_bitrate_kbps>320&&(t.disable_reservoir=!0),l[o].safejoint>0&&(t.exp_nspsytune=2|t.exp_nspsytune),l[o].sfscale>0&&(t.internal_flags.noise_shaping=2),Math.abs(l[o].nsbass)>0){var i=int(4*l[o].nsbass);i<0&&(i+=64),t.exp_nspsytune=t.exp_nspsytune|i<<2}return 0!=n?t.quant_comp=l[o].quant_comp:Math.abs(t.quant_comp- -1)>0||(t.quant_comp=l[o].quant_comp),0!=n?t.quant_comp_short=l[o].quant_comp_s:Math.abs(t.quant_comp_short- -1)>0||(t.quant_comp_short=l[o].quant_comp_s),0!=n?t.msfix=l[o].nsmsfix:Math.abs(t.msfix- -1)>0||(t.msfix=l[o].nsmsfix),0!=n?t.internal_flags.nsPsy.attackthre=l[o].st_lrm:Math.abs(t.internal_flags.nsPsy.attackthre- -1)>0||(t.internal_flags.nsPsy.attackthre=l[o].st_lrm),0!=n?t.internal_flags.nsPsy.attackthre_s=l[o].st_s:Math.abs(t.internal_flags.nsPsy.attackthre_s- -1)>0||(t.internal_flags.nsPsy.attackthre_s=l[o].st_s),0!=n?t.scale=l[o].scale:Math.abs(t.scale- -1)>0||(t.scale=l[o].scale),0!=n?t.maskingadjust=l[o].masking_adj:Math.abs(t.maskingadjust-0)>0||(t.maskingadjust=l[o].masking_adj),l[o].masking_adj>0?0!=n?t.maskingadjust_short=.9*l[o].masking_adj:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=.9*l[o].masking_adj):0!=n?t.maskingadjust_short=1.1*l[o].masking_adj:Math.abs(t.maskingadjust_short-0)>0||(t.maskingadjust_short=1.1*l[o].masking_adj),0!=n?t.ATHlower=-l[o].ath_lower/10:Math.abs(10*-t.ATHlower-0)>0||(t.ATHlower=-l[o].ath_lower/10),0!=n?t.ATHcurve=l[o].ath_curve:Math.abs(t.ATHcurve- -1)>0||(t.ATHcurve=l[o].ath_curve),0!=n?t.interChRatio=l[o].interch:Math.abs(t.interChRatio- -1)>0||(t.interChRatio=l[o].interch),r}this.apply_preset=function(e,r,n){switch(r){case t.R3MIX:r=t.V3,e.VBR=a.vbr_mtrh;break;case t.MEDIUM:r=t.V4,e.VBR=a.vbr_rh;break;case t.MEDIUM_FAST:r=t.V4,e.VBR=a.vbr_mtrh;break;case t.STANDARD:r=t.V2,e.VBR=a.vbr_rh;break;case t.STANDARD_FAST:r=t.V2,e.VBR=a.vbr_mtrh;break;case t.EXTREME:r=t.V0,e.VBR=a.vbr_rh;break;case t.EXTREME_FAST:r=t.V0,e.VBR=a.vbr_mtrh;break;case t.INSANE:return r=320,e.preset=r,f(e,r,n),e.VBR=a.vbr_off,r}switch(e.preset=r,r){case t.V9:return _(e,9,n),r;case t.V8:return _(e,8,n),r;case t.V7:return _(e,7,n),r;case t.V6:return _(e,6,n),r;case t.V5:return _(e,5,n),r;case t.V4:return _(e,4,n),r;case t.V3:return _(e,3,n),r;case t.V2:return _(e,2,n),r;case t.V1:return _(e,1,n),r;case t.V0:return _(e,0,n),r}return 8<=r&&r<=320?f(e,r,n):(e.preset=0,r)}}},296:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode),s=n.Float,o=n.ShortBlock,i=n.Util,_=n.Arrays,l=(n.new_array_n,n.new_byte,n.new_double,n.new_float),f=n.new_float_n,c=n.new_int,u=(n.new_int_n,n.assert),h=r(314),p=r(43);e.exports=function(){var e=r(27),t=new h,n=2.302585092994046,b=1/217621504/(p.BLKSIZE/2),m=.3,d=21,v=.2302585093;function w(e,t){for(var r=0,n=0;n<p.BLKSIZE/2;++n)r+=e[n]*t.ATH.eql_w[n];return r*b}function g(e,r,n,a,s,o,_,l,f,c,u){var h=e.internal_flags;if(f<2)t.fft_long(h,a[s],f,c,u),t.fft_short(h,o[_],f,c,u);else if(2==f){for(var b=p.BLKSIZE-1;b>=0;--b){var m=a[s+0][b],d=a[s+1][b];a[s+0][b]=(m+d)*i.SQRT2*.5,a[s+1][b]=(m-d)*i.SQRT2*.5}for(var v=2;v>=0;--v)for(b=p.BLKSIZE_s-1;b>=0;--b)m=o[_+0][v][b],d=o[_+1][v][b],o[_+0][v][b]=(m+d)*i.SQRT2*.5,o[_+1][v][b]=(m-d)*i.SQRT2*.5}for(r[0]=a[s+0][0],r[0]*=r[0],b=p.BLKSIZE/2-1;b>=0;--b){var g=a[s+0][p.BLKSIZE/2-b],k=a[s+0][p.BLKSIZE/2+b];r[p.BLKSIZE/2-b]=.5*(g*g+k*k)}for(v=2;v>=0;--v)for(n[v][0]=o[_+0][v][0],n[v][0]*=n[v][0],b=p.BLKSIZE_s/2-1;b>=0;--b)g=o[_+0][v][p.BLKSIZE_s/2-b],k=o[_+0][v][p.BLKSIZE_s/2+b],n[v][p.BLKSIZE_s/2-b]=.5*(g*g+k*k);var y=0;for(b=11;b<p.HBLKSIZE;b++)y+=r[b];if(h.tot_ener[f]=y,e.analysis){for(b=0;b<p.HBLKSIZE;b++)h.pinfo.energy[l][f][b]=h.pinfo.energy_save[f][b],h.pinfo.energy_save[f][b]=r[b];h.pinfo.pe[l][f]=h.pe[f]}2==e.athaa_loudapprox&&f<2&&(h.loudness_sq[l][f]=h.loudness_sq_save[f],h.loudness_sq_save[f]=w(r,h))}var k,y,S,A=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749],M=[3.3246*3.3246,3.23837*3.23837,9.9500500969,9.0247369744,8.1854926609,7.0440875649,2.46209*2.46209,2.284*2.284,4.4892710641,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,2.4621061921,2.1508568964,1.37074*1.37074,1.31036*1.31036,1.5691069696,1.4555939904,1.16203*1.16203,1.2715945225,1.09428*1.09428,1.0659*1.0659,1.0779838276,1.0382591025,1],R=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1],B=[5.5396212496,2.29259*2.29259,4.9868695969,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,2.2499700001,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.2339655056,1.0779838276];function T(e,t,r,n,a,s){var o,_,l;if(t>e){if(!(t<e*y))return e+t;o=t/e}else{if(e>=t*y)return e+t;o=e/t}if(u(e>=0),u(t>=0),e+=t,n+3<=6){if(o>=k)return e;var f=0|i.FAST_LOG10_X(o,16);return e*R[f]}return f=0|i.FAST_LOG10_X(o,16),t=0!=s?a.ATH.cb_s[r]*a.ATH.adjust:a.ATH.cb_l[r]*a.ATH.adjust,u(t>=0),e<S*t?e>t?(_=1,f<=13&&(_=B[f]),l=i.FAST_LOG10_X(e/t,10/15),e*((M[f]-_)*l+_)):f>13?e:e*B[f]:e*M[f]}var x=[1.7782755904,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.6999465924,1.22321*1.22321,1.3169398564,1];function E(e,t,r){var n;if(e<0&&(e=0),t<0&&(t=0),e<=0)return t;if(t<=0)return e;if(n=t>e?t/e:e/t,-2<=r&&r<=2){if(n>=k)return e+t;var a=0|i.FAST_LOG10_X(n,16);return(e+t)*x[a]}return n<y?e+t:(e<t&&(e=t),e)}function P(e,t,r,n,a){var s,o,i=0,_=0;for(s=o=0;s<p.SBMAX_s;++o,++s){for(var l=e.bo_s[s],f=e.npart_s,c=l<f?l:f;o<c;)u(t[o]>=0),u(r[o]>=0),i+=t[o],_+=r[o],o++;if(e.en[n].s[s][a]=i,e.thm[n].s[s][a]=_,o>=f){++s;break}u(t[o]>=0),u(r[o]>=0);var h=e.PSY.bo_s_weight[s],b=1-h;i=h*t[o],_=h*r[o],e.en[n].s[s][a]+=i,e.thm[n].s[s][a]+=_,i=b*t[o],_=b*r[o]}for(;s<p.SBMAX_s;++s)e.en[n].s[s][a]=0,e.thm[n].s[s][a]=0}function O(e,t,r,n){var a,s,o=0,i=0;for(a=s=0;a<p.SBMAX_l;++s,++a){for(var _=e.bo_l[a],l=e.npart_l,f=_<l?_:l;s<f;)u(t[s]>=0),u(r[s]>=0),o+=t[s],i+=r[s],s++;if(e.en[n].l[a]=o,e.thm[n].l[a]=i,s>=l){++a;break}u(t[s]>=0),u(r[s]>=0);var c=e.PSY.bo_l_weight[a],h=1-c;o=c*t[s],i=c*r[s],e.en[n].l[a]+=o,e.thm[n].l[a]+=i,o=h*t[s],i=h*r[s]}for(;a<p.SBMAX_l;++a)e.en[n].l[a]=0,e.thm[n].l[a]=0}function I(e,t,r,n,a,s){var o,i,_=e.internal_flags;for(i=o=0;i<_.npart_s;++i){for(var l=0,f=0,c=_.numlines_s[i],h=0;h<c;++h,++o){var b=t[s][o];l+=b,f<b&&(f=b)}r[i]=l}for(u(i==_.npart_s),u(129==o),o=i=0;i<_.npart_s;i++){var m=_.s3ind_s[i][0],d=_.s3_ss[o++]*r[m];for(++m;m<=_.s3ind_s[i][1];)d+=_.s3_ss[o]*r[m],++o,++m;var v=2*_.nb_s1[a][i];if(n[i]=Math.min(d,v),_.blocktype_old[1&a]==p.SHORT_TYPE){v=16*_.nb_s2[a][i];var w=n[i];n[i]=Math.min(v,w)}_.nb_s2[a][i]=_.nb_s1[a][i],_.nb_s1[a][i]=d,u(n[i]>=0)}for(;i<=p.CBANDS;++i)r[i]=0,n[i]=0}function H(e,t,r){return r>=1?e:r<=0?t:t>0?Math.pow(e/t,r)*t:0}var L=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function V(e,t){for(var r=309.07,a=0;a<p.SBMAX_s-1;a++)for(var s=0;s<3;s++){var o=e.thm.s[a][s];if(u(a<L.length),o>0){var _=o*t,l=e.en.s[a][s];l>_&&(l>1e10*_?r+=L[a]*(10*n):(u(_>0),r+=L[a]*i.FAST_LOG10(l/_)))}}return r}var N=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function q(e,t){for(var r=281.0575,a=0;a<p.SBMAX_l-1;a++){var s=e.thm.l[a];if(u(a<N.length),s>0){var o=s*t,_=e.en.l[a];_>o&&(_>1e10*o?r+=N[a]*(10*n):(u(o>0),r+=N[a]*i.FAST_LOG10(_/o)))}}return r}function D(e,t,r,n,a){var s,o;for(s=o=0;s<e.npart_l;++s){var i,_=0,l=0;for(i=0;i<e.numlines_l[s];++i,++o){var f=t[o];u(f>=0),_+=f,l<f&&(l=f)}r[s]=_,n[s]=l,a[s]=_*e.rnumlines_l[s],u(e.rnumlines_l[s]>=0),u(_>=0),u(r[s]>=0),u(n[s]>=0),u(a[s]>=0)}}function F(e,t,r,n){var a=A.length-1,s=0,o=r[s]+r[s+1];for(u(o>=0),o>0?((i=t[s])<t[s+1]&&(i=t[s+1]),u(e.numlines_l[s]+e.numlines_l[s+1]-1>0),(_=0|(o=20*(2*i-o)/(o*(e.numlines_l[s]+e.numlines_l[s+1]-1))))>a&&(_=a),n[s]=_):n[s]=0,s=1;s<e.npart_l-1;s++){var i,_;o=r[s-1]+r[s]+r[s+1],u(o>=0),o>0?((i=t[s-1])<t[s]&&(i=t[s]),i<t[s+1]&&(i=t[s+1]),u(e.numlines_l[s-1]+e.numlines_l[s]+e.numlines_l[s+1]-1>0),(_=0|(o=20*(3*i-o)/(o*(e.numlines_l[s-1]+e.numlines_l[s]+e.numlines_l[s+1]-1))))>a&&(_=a),n[s]=_):n[s]=0}u(s>0),u(s==e.npart_l-1),o=r[s-1]+r[s],u(o>=0),o>0?((i=t[s-1])<t[s]&&(i=t[s]),u(e.numlines_l[s-1]+e.numlines_l[s]-1>0),(_=0|(o=20*(2*i-o)/(o*(e.numlines_l[s-1]+e.numlines_l[s]-1))))>a&&(_=a),n[s]=_):n[s]=0,u(s==e.npart_l-1)}var X=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function j(e,r,n,a,s,o,_,l){var f=e.internal_flags;if(a<2)t.fft_long(f,_[l],a,r,n);else if(2==a)for(var c=p.BLKSIZE-1;c>=0;--c){var u=_[l+0][c],h=_[l+1][c];_[l+0][c]=(u+h)*i.SQRT2*.5,_[l+1][c]=(u-h)*i.SQRT2*.5}for(o[0]=_[l+0][0],o[0]*=o[0],c=p.BLKSIZE/2-1;c>=0;--c){var b=_[l+0][p.BLKSIZE/2-c],m=_[l+0][p.BLKSIZE/2+c];o[p.BLKSIZE/2-c]=.5*(b*b+m*m)}var d=0;for(c=11;c<p.HBLKSIZE;c++)d+=o[c];if(f.tot_ener[a]=d,e.analysis){for(c=0;c<p.HBLKSIZE;c++)f.pinfo.energy[s][a][c]=f.pinfo.energy_save[a][c],f.pinfo.energy_save[a][c]=o[c];f.pinfo.pe[s][a]=f.pe[a]}}function Y(e,r,n,a,s,o,_,l){var f=e.internal_flags;if(0==s&&a<2&&t.fft_short(f,_[l],a,r,n),2==a)for(var c=p.BLKSIZE_s-1;c>=0;--c){var u=_[l+0][s][c],h=_[l+1][s][c];_[l+0][s][c]=(u+h)*i.SQRT2*.5,_[l+1][s][c]=(u-h)*i.SQRT2*.5}for(o[s][0]=_[l+0][s][0],o[s][0]*=o[s][0],c=p.BLKSIZE_s/2-1;c>=0;--c){var b=_[l+0][s][p.BLKSIZE_s/2-c],m=_[l+0][s][p.BLKSIZE_s/2+c];o[s][p.BLKSIZE_s/2-c]=.5*(b*b+m*m)}}function C(e,t,r,n){var a=e.internal_flags;2==e.athaa_loudapprox&&r<2&&(a.loudness_sq[t][r]=a.loudness_sq_save[r],a.loudness_sq_save[r]=w(n,a))}this.L3psycho_anal_ns=function(t,r,n,s,i,h,b,v,w,k){var y,S,M,R,B,x,E,L,N,j,Y=t.internal_flags,C=f([2,p.BLKSIZE]),W=f([2,3,p.BLKSIZE_s]),U=l(p.CBANDS+1),z=l(p.CBANDS+1),G=l(p.CBANDS+2),K=c(2),Z=c(2),Q=f([2,576]),J=c(p.CBANDS+2),$=c(p.CBANDS+2);for(_.fill($,0),y=Y.channels_out,t.mode==e.JOINT_STEREO&&(y=4),N=t.VBR==a.vbr_off?0==Y.ResvMax?0:Y.ResvSize/Y.ResvMax*.5:t.VBR==a.vbr_rh||t.VBR==a.vbr_mtrh||t.VBR==a.vbr_mt?.6:1,S=0;S<Y.channels_out;S++){var ee=r[S],te=n+576-350-d+192;for(u(10==X.length),R=0;R<576;R++){var re,ne;for(re=ee[te+R+10],ne=0,B=0;B<9;B+=2)re+=X[B]*(ee[te+R+B]+ee[te+R+d-B]),ne+=X[B+1]*(ee[te+R+B+1]+ee[te+R+d-B-1]);Q[S][R]=re+ne}i[s][S].en.assign(Y.en[S]),i[s][S].thm.assign(Y.thm[S]),y>2&&(h[s][S].en.assign(Y.en[S+2]),h[s][S].thm.assign(Y.thm[S+2]))}for(S=0;S<y;S++){var ae,se=l(12),oe=[0,0,0,0],ie=l(12),_e=1,le=l(p.CBANDS),fe=l(p.CBANDS),ce=[0,0,0,0],ue=l(p.HBLKSIZE),he=f([3,p.HBLKSIZE_s]);for(u(Y.npart_s<=p.CBANDS),u(Y.npart_l<=p.CBANDS),R=0;R<3;R++)se[R]=Y.nsPsy.last_en_subshort[S][R+6],u(Y.nsPsy.last_en_subshort[S][R+4]>0),ie[R]=se[R]/Y.nsPsy.last_en_subshort[S][R+4],oe[0]+=se[R];if(2==S)for(R=0;R<576;R++){var pe,be;pe=Q[0][R],be=Q[1][R],Q[0][R]=pe+be,Q[1][R]=pe-be}var me=Q[1&S],de=0;for(R=0;R<9;R++){for(var ve=de+64,we=1;de<ve;de++)we<Math.abs(me[de])&&(we=Math.abs(me[de]));Y.nsPsy.last_en_subshort[S][R]=se[R+3]=we,oe[1+R/3]+=we,we>se[R+3-2]?(u(se[R+3-2]>0),we/=se[R+3-2]):se[R+3-2]>10*we?(u(we>0),we=se[R+3-2]/(10*we)):we=0,ie[R+3]=we}if(t.analysis){var ge=ie[0];for(R=1;R<12;R++)ge<ie[R]&&(ge=ie[R]);Y.pinfo.ers[s][S]=Y.pinfo.ers_save[S],Y.pinfo.ers_save[S]=ge}for(ae=3==S?Y.nsPsy.attackthre_s:Y.nsPsy.attackthre,R=0;R<12;R++)0==ce[R/3]&&ie[R]>ae&&(ce[R/3]=R%3+1);for(R=1;R<4;R++){var ke;oe[R-1]>oe[R]?(u(oe[R]>0),ke=oe[R-1]/oe[R]):(u(oe[R-1]>0),ke=oe[R]/oe[R-1]),ke<1.7&&(ce[R]=0,1==R&&(ce[0]=0))}for(0!=ce[0]&&0!=Y.nsPsy.lastAttacks[S]&&(ce[0]=0),3!=Y.nsPsy.lastAttacks[S]&&ce[0]+ce[1]+ce[2]+ce[3]==0||(_e=0,0!=ce[1]&&0!=ce[0]&&(ce[1]=0),0!=ce[2]&&0!=ce[1]&&(ce[2]=0),0!=ce[3]&&0!=ce[2]&&(ce[3]=0)),S<2?Z[S]=_e:0==_e&&(Z[0]=Z[1]=0),w[S]=Y.tot_ener[S],g(t,ue,he,C,1&S,W,1&S,s,S,r,n),D(Y,ue,U,le,fe),F(Y,le,fe,J),L=0;L<3;L++){var ye,Se;for(I(t,he,z,G,S,L),P(Y,z,G,S,L),E=0;E<p.SBMAX_s;E++){if(Se=Y.thm[S].s[E][L],Se*=.8,ce[L]>=2||1==ce[L+1]){var Ae=0!=L?L-1:2;we=H(Y.thm[S].s[E][Ae],Se,.6*N),Se=Math.min(Se,we)}1==ce[L]?(Ae=0!=L?L-1:2,we=H(Y.thm[S].s[E][Ae],Se,m*N),Se=Math.min(Se,we)):(0!=L&&3==ce[L-1]||0==L&&3==Y.nsPsy.lastAttacks[S])&&(Ae=2!=L?L+1:0,we=H(Y.thm[S].s[E][Ae],Se,m*N),Se=Math.min(Se,we)),ye=se[3*L+3]+se[3*L+4]+se[3*L+5],6*se[3*L+5]<ye&&(Se*=.5,6*se[3*L+4]<ye&&(Se*=.5)),Y.thm[S].s[E][L]=Se}}for(Y.nsPsy.lastAttacks[S]=ce[2],x=0,M=0;M<Y.npart_l;M++){for(var Me=Y.s3ind[M][0],Re=U[Me]*A[J[Me]],Be=Y.s3_ll[x++]*Re;++Me<=Y.s3ind[M][1];)Re=U[Me]*A[J[Me]],Be=T(Be,Y.s3_ll[x++]*Re,Me,Me-M,Y,0);Be*=.158489319246111,Y.blocktype_old[1&S]==p.SHORT_TYPE?G[M]=Be:G[M]=H(Math.min(Be,Math.min(2*Y.nb_1[S][M],16*Y.nb_2[S][M])),Be,N),Y.nb_2[S][M]=Y.nb_1[S][M],Y.nb_1[S][M]=Be}for(;M<=p.CBANDS;++M)U[M]=0,G[M]=0;O(Y,U,G,S)}for(t.mode!=e.STEREO&&t.mode!=e.JOINT_STEREO||t.interChRatio>0&&function(e,t){var r=e.internal_flags;if(r.channels_out>1){for(var n=0;n<p.SBMAX_l;n++){var a=r.thm[0].l[n],s=r.thm[1].l[n];r.thm[0].l[n]+=s*t,r.thm[1].l[n]+=a*t}for(n=0;n<p.SBMAX_s;n++)for(var o=0;o<3;o++)a=r.thm[0].s[n][o],s=r.thm[1].s[n][o],r.thm[0].s[n][o]+=s*t,r.thm[1].s[n][o]+=a*t}}(t,t.interChRatio),t.mode==e.JOINT_STEREO&&(function(e){for(var t=0;t<p.SBMAX_l;t++)if(!(e.thm[0].l[t]>1.58*e.thm[1].l[t]||e.thm[1].l[t]>1.58*e.thm[0].l[t])){var r=e.mld_l[t]*e.en[3].l[t],n=Math.max(e.thm[2].l[t],Math.min(e.thm[3].l[t],r));r=e.mld_l[t]*e.en[2].l[t];var a=Math.max(e.thm[3].l[t],Math.min(e.thm[2].l[t],r));e.thm[2].l[t]=n,e.thm[3].l[t]=a}for(t=0;t<p.SBMAX_s;t++)for(var s=0;s<3;s++)e.thm[0].s[t][s]>1.58*e.thm[1].s[t][s]||e.thm[1].s[t][s]>1.58*e.thm[0].s[t][s]||(r=e.mld_s[t]*e.en[3].s[t][s],n=Math.max(e.thm[2].s[t][s],Math.min(e.thm[3].s[t][s],r)),r=e.mld_s[t]*e.en[2].s[t][s],a=Math.max(e.thm[3].s[t][s],Math.min(e.thm[2].s[t][s],r)),e.thm[2].s[t][s]=n,e.thm[3].s[t][s]=a)}(Y),j=t.msfix,Math.abs(j)>0&&function(e,t,r){var n=t,a=Math.pow(10,r);t*=2,n*=2;for(var s=0;s<p.SBMAX_l;s++)f=e.ATH.cb_l[e.bm_l[s]]*a,(i=Math.min(Math.max(e.thm[0].l[s],f),Math.max(e.thm[1].l[s],f)))*t<(_=Math.max(e.thm[2].l[s],f))+(l=Math.max(e.thm[3].l[s],f))&&u((_*=c=i*n/(_+l))+(l*=c)>0),e.thm[2].l[s]=Math.min(_,e.thm[2].l[s]),e.thm[3].l[s]=Math.min(l,e.thm[3].l[s]);for(a*=p.BLKSIZE_s/p.BLKSIZE,s=0;s<p.SBMAX_s;s++)for(var o=0;o<3;o++){var i,_,l,f,c;f=e.ATH.cb_s[e.bm_s[s]]*a,(i=Math.min(Math.max(e.thm[0].s[s][o],f),Math.max(e.thm[1].s[s][o],f)))*t<(_=Math.max(e.thm[2].s[s][o],f))+(l=Math.max(e.thm[3].s[s][o],f))&&u((_*=c=i*t/(_+l))+(l*=c)>0),e.thm[2].s[s][o]=Math.min(e.thm[2].s[s][o],_),e.thm[3].s[s][o]=Math.min(e.thm[3].s[s][o],l)}}(Y,j,t.ATHlower*Y.ATH.adjust)),function(e,t,r,n){var a=e.internal_flags;e.short_blocks!=o.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var s=0;s<a.channels_out;s++)n[s]=p.NORM_TYPE,e.short_blocks==o.short_block_dispensed&&(t[s]=1),e.short_blocks==o.short_block_forced&&(t[s]=0),0!=t[s]?(u(a.blocktype_old[s]!=p.START_TYPE),a.blocktype_old[s]==p.SHORT_TYPE&&(n[s]=p.STOP_TYPE)):(n[s]=p.SHORT_TYPE,a.blocktype_old[s]==p.NORM_TYPE&&(a.blocktype_old[s]=p.START_TYPE),a.blocktype_old[s]==p.STOP_TYPE&&(a.blocktype_old[s]=p.SHORT_TYPE)),r[s]=a.blocktype_old[s],a.blocktype_old[s]=n[s]}(t,Z,k,K),S=0;S<y;S++){var Te,xe,Ee,Pe=0;S>1?(Te=v,Pe=-2,xe=p.NORM_TYPE,k[0]!=p.SHORT_TYPE&&k[1]!=p.SHORT_TYPE||(xe=p.SHORT_TYPE),Ee=h[s][S-2]):(Te=b,Pe=0,xe=k[S],Ee=i[s][S]),xe==p.SHORT_TYPE?Te[Pe+S]=V(Ee,Y.masking_lower):Te[Pe+S]=q(Ee,Y.masking_lower),t.analysis&&(Y.pinfo.pe[s][S]=Te[Pe+S])}return 0};var W=[-1730326e-23,-.01703172,-1349528e-23,.0418072,-673278e-22,-.0876324,-30835e-21,.1863476,-1104424e-22,-.627638];function U(e,t,r){if(0==r)for(var n=0;n<e.npart_s;n++)e.nb_s2[t][n]=e.nb_s1[t][n],e.nb_s1[t][n]=0}function z(e,t){for(var r=0;r<e.npart_l;r++)e.nb_2[t][r]=e.nb_1[t][r],e.nb_1[t][r]=0}function G(e,t,r,n,a,s){var o,i,_,f=e.internal_flags,c=new float[p.CBANDS],h=l(p.CBANDS),b=new int[p.CBANDS];for(_=i=0;_<f.npart_s;++_){var m=0,d=0,v=f.numlines_s[_];for(o=0;o<v;++o,++i){var w=t[s][i];m+=w,d<w&&(d=w)}r[_]=m,u(m>=0),c[_]=d,u(v>0),h[_]=m/v,u(h[_]>=0)}for(u(_==f.npart_s),u(129==i);_<p.CBANDS;++_)c[_]=0,h[_]=0;for(function(e,t,r,n){var a=A.length-1,s=0,o=r[s]+r[s+1];for(u(o>=0),o>0?((i=t[s])<t[s+1]&&(i=t[s+1]),u(e.numlines_s[s]+e.numlines_s[s+1]-1>0),(_=0|(o=20*(2*i-o)/(o*(e.numlines_s[s]+e.numlines_s[s+1]-1))))>a&&(_=a),n[s]=_):n[s]=0,s=1;s<e.npart_s-1;s++){var i,_;o=r[s-1]+r[s]+r[s+1],u(s+1<e.npart_s),u(o>=0),o>0?((i=t[s-1])<t[s]&&(i=t[s]),i<t[s+1]&&(i=t[s+1]),u(e.numlines_s[s-1]+e.numlines_s[s]+e.numlines_s[s+1]-1>0),(_=0|(o=20*(3*i-o)/(o*(e.numlines_s[s-1]+e.numlines_s[s]+e.numlines_s[s+1]-1))))>a&&(_=a),n[s]=_):n[s]=0}u(s>0),u(s==e.npart_s-1),o=r[s-1]+r[s],u(o>=0),o>0?((i=t[s-1])<t[s]&&(i=t[s]),u(e.numlines_s[s-1]+e.numlines_s[s]-1>0),(_=0|(o=20*(2*i-o)/(o*(e.numlines_s[s-1]+e.numlines_s[s]-1))))>a&&(_=a),n[s]=_):n[s]=0,u(s==e.npart_s-1)}(f,c,h,b),i=_=0;_<f.npart_s;_++){var g,k,y,S,M,R=f.s3ind_s[_][0],B=f.s3ind_s[_][1];for(g=b[R],k=1,S=f.s3_ss[i]*r[R]*A[b[R]],++i,++R;R<=B;)g+=b[R],k+=1,S=E(S,y=f.s3_ss[i]*r[R]*A[b[R]],R-_),++i,++R;S*=M=.5*A[g=(1+2*g)/(2*k)],n[_]=S,f.nb_s2[a][_]=f.nb_s1[a][_],f.nb_s1[a][_]=S,y=c[_],y*=f.minval_s[_],y*=M,n[_]>y&&(n[_]=y),f.masking_lower>1&&(n[_]*=f.masking_lower),n[_]>r[_]&&(n[_]=r[_]),f.masking_lower<1&&(n[_]*=f.masking_lower),u(n[_]>=0)}for(;_<p.CBANDS;++_)r[_]=0,n[_]=0}function K(e,t,r,n,a){var s,o=l(p.CBANDS),i=l(p.CBANDS),_=c(p.CBANDS+2);D(e,t,r,o,i),F(e,o,i,_);var f=0;for(s=0;s<e.npart_l;s++){var h,b,d,v=e.s3ind[s][0],w=e.s3ind[s][1],g=0,k=0;for(g=_[v],k+=1,b=e.s3_ll[f]*r[v]*A[_[v]],++f,++v;v<=w;)g+=_[v],k+=1,b=E(b,h=e.s3_ll[f]*r[v]*A[_[v]],v-s),++f,++v;if(b*=d=.5*A[g=(1+2*g)/(2*k)],e.blocktype_old[1&a]==p.SHORT_TYPE){var y=2*e.nb_1[a][s];n[s]=y>0?Math.min(b,y):Math.min(b,r[s]*m)}else{var S=16*e.nb_2[a][s],M=2*e.nb_1[a][s];S<=0&&(S=b),M<=0&&(M=b),y=e.blocktype_old[1&a]==p.NORM_TYPE?Math.min(M,S):M,n[s]=Math.min(b,y)}e.nb_2[a][s]=e.nb_1[a][s],e.nb_1[a][s]=b,h=o[s],h*=e.minval_l[s],h*=d,n[s]>h&&(n[s]=h),e.masking_lower>1&&(n[s]*=e.masking_lower),n[s]>r[s]&&(n[s]=r[s]),e.masking_lower<1&&(n[s]*=e.masking_lower),u(n[s]>=0)}for(;s<p.CBANDS;++s)r[s]=0,n[s]=0}function Z(e,t,r,n,a,s,o){for(var i,_,l=2*s,f=s>0?Math.pow(10,a):1,c=0;c<o;++c){var h=e[2][c],p=e[3][c],b=t[0][c],m=t[1][c],d=t[2][c],v=t[3][c];if(b<=1.58*m&&m<=1.58*b){var w=r[c]*p,g=r[c]*h;_=Math.max(d,Math.min(v,w)),i=Math.max(v,Math.min(d,g))}else _=d,i=v;if(s>0){var k,y,S=n[c]*f;if(k=Math.min(Math.max(b,S),Math.max(m,S)),(y=(d=Math.max(_,S))+(v=Math.max(i,S)))>0&&k*l<y){var A=k*l/y;d*=A,v*=A,u(y>0)}_=Math.min(d,_),i=Math.min(v,i)}_>h&&(_=h),i>p&&(i=p),t[2][c]=_,t[3][c]=i}}function Q(e,t){var r;return(r=e>=0?27*-e:e*t)<=-72?0:Math.exp(r*v)}function J(e){var t,r,n,a,s=0;for(s=0;Q(s,e)>1e-20;s-=1);for(n=s,a=0;Math.abs(a-n)>1e-12;)Q(s=(a+n)/2,e)>0?a=s:n=s;for(t=n,s=0,s=0;Q(s,e)>1e-20;s+=1);for(n=0,a=s;Math.abs(a-n)>1e-12;)Q(s=(a+n)/2,e)>0?n=s:a=s;r=a;var o,i=0,_=1e3;for(o=0;o<=_;++o)i+=Q(s=t+o*(r-t)/_,e);return(_+1)/(i*(r-t))}function $(e){return e<0&&(e=0),e*=.001,13*Math.atan(.76*e)+3.5*Math.atan(e*e/56.25)}function ee(e,t,r,n,a,s,o,i,_,f,h,b){var m,d=l(p.CBANDS+1),v=i/(b>15?1152:384),w=c(p.HBLKSIZE);i/=_;var g=0,k=0;for(m=0;m<p.CBANDS;m++){var y;for(P=$(i*g),d[m]=i*g,y=g;$(i*y)-P<.34&&y<=_/2;y++);for(e[m]=y-g,k=m+1;g<y;)u(g<p.HBLKSIZE),w[g++]=m;if(g>_/2){g=_/2,++m;break}}u(m<p.CBANDS),d[m]=i*g;for(var S=0;S<b;S++){var A,M,R,B,T;R=f[S],B=f[S+1],(A=0|Math.floor(.5+h*(R-.5)))<0&&(A=0),(M=0|Math.floor(.5+h*(B-.5)))>_/2&&(M=_/2),r[S]=(w[A]+w[M])/2,t[S]=w[M];var x=v*B;o[S]=(x-d[t[S]])/(d[t[S]+1]-d[t[S]]),o[S]<0?o[S]=0:o[S]>1&&(o[S]=1),T=$(i*f[S]*h),T=Math.min(T,15.5)/15.5,s[S]=Math.pow(10,1.25*(1-Math.cos(Math.PI*T))-2.5)}g=0;for(var E=0;E<k;E++){var P,O,I=e[E];P=$(i*g),O=$(i*(g+I-1)),n[E]=.5*(P+O),P=$(i*(g-.5)),O=$(i*(g+I-.5)),a[E]=O-P,g+=I}return k}function te(e,t,r,n,a,s){var o,i,_,c,u,h=f([p.CBANDS,p.CBANDS]),b=0;if(s)for(var m=0;m<t;m++)for(o=0;o<t;o++){var d=(i=void 0,void 0,void 0,u=void 0,i=r[m]-r[o],_=(i*=i>=0?3:1.5)>=.5&&i<=2.5?8*((u=i-.5)*u-2*u):0,((c=15.811389+7.5*(i+=.474)-17.5*Math.sqrt(1+i*i))<=-60?0:(i=Math.exp((_+c)*v),i/=.6609193))*n[o]);h[m][o]=d*a[m]}else for(o=0;o<t;o++){var w=15+Math.min(21/r[o],12),g=J(w);for(m=0;m<t;m++)d=g*Q(r[m]-r[o],w)*n[o],h[m][o]=d*a[m]}for(m=0;m<t;m++){for(o=0;o<t&&!(h[m][o]>0);o++);for(e[m][0]=o,o=t-1;o>0&&!(h[m][o]>0);o--);e[m][1]=o,b+=e[m][1]-e[m][0]+1}var k=l(b),y=0;for(m=0;m<t;m++)for(o=e[m][0];o<=e[m][1];o++)k[y++]=h[m][o];return k}function re(e){var t=$(e);return t=Math.min(t,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*t))-2.5)}function ne(e,t){return e<-.3&&(e=3410),e/=1e3,e=Math.max(.1,e),3.64*Math.pow(e,-.8)-6.8*Math.exp(-.6*Math.pow(e-3.4,2))+6*Math.exp(-.15*Math.pow(e-8.7,2))+.001*(.6+.04*t)*Math.pow(e,4)}this.L3psycho_anal_vbr=function(t,r,n,a,s,i,_,h,b,v){var w=t.internal_flags,g=l(p.HBLKSIZE),k=f([3,p.HBLKSIZE_s]),y=f([2,p.BLKSIZE]),S=f([2,3,p.BLKSIZE_s]),A=f([4,p.CBANDS]),M=f([4,p.CBANDS]),R=f([4,3]),B=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],T=c(2),x=t.mode==e.JOINT_STEREO?4:w.channels_out;!function(t,r,n,a,s,o,i,_,c,h){for(var p=f([2,576]),b=t.internal_flags,m=b.channels_out,v=t.mode==e.JOINT_STEREO?4:m,w=0;w<m;w++){firbuf=r[w];var g=n+576-350-d+192;u(10==W.length);for(var k=0;k<576;k++){var y,S;y=firbuf[g+k+10],S=0;for(var A=0;A<9;A+=2)y+=W[A]*(firbuf[g+k+A]+firbuf[g+k+d-A]),S+=W[A+1]*(firbuf[g+k+A+1]+firbuf[g+k+d-A-1]);p[w][k]=y+S}s[a][w].en.assign(b.en[w]),s[a][w].thm.assign(b.thm[w]),v>2&&(o[a][w].en.assign(b.en[w+2]),o[a][w].thm.assign(b.thm[w+2]))}for(w=0;w<v;w++){var M=l(12),R=l(12),B=[0,0,0,0],T=p[1&w],x=0,E=3==w?b.nsPsy.attackthre_s:b.nsPsy.attackthre,P=1;if(2==w)for(k=0,A=576;A>0;++k,--A){var O=p[0][k],I=p[1][k];p[0][k]=O+I,p[1][k]=O-I}for(k=0;k<3;k++)R[k]=b.nsPsy.last_en_subshort[w][k+6],u(b.nsPsy.last_en_subshort[w][k+4]>0),M[k]=R[k]/b.nsPsy.last_en_subshort[w][k+4],B[0]+=R[k];for(k=0;k<9;k++){for(var H=x+64,L=1;x<H;x++)L<Math.abs(T[x])&&(L=Math.abs(T[x]));b.nsPsy.last_en_subshort[w][k]=R[k+3]=L,B[1+k/3]+=L,L>R[k+3-2]?(u(R[k+3-2]>0),L/=R[k+3-2]):R[k+3-2]>10*L?(u(L>0),L=R[k+3-2]/(10*L)):L=0,M[k+3]=L}for(k=0;k<3;++k){var V=R[3*k+3]+R[3*k+4]+R[3*k+5],N=1;6*R[3*k+5]<V&&(N*=.5,6*R[3*k+4]<V&&(N*=.5)),_[w][k]=N}if(t.analysis){var q=M[0];for(k=1;k<12;k++)q<M[k]&&(q=M[k]);b.pinfo.ers[a][w]=b.pinfo.ers_save[w],b.pinfo.ers_save[w]=q}for(k=0;k<12;k++)0==c[w][k/3]&&M[k]>E&&(c[w][k/3]=k%3+1);for(k=1;k<4;k++){var D=B[k-1],F=B[k];Math.max(D,F)<4e4&&D<1.7*F&&F<1.7*D&&(1==k&&c[w][0]<=c[w][k]&&(c[w][0]=0),c[w][k]=0)}c[w][0]<=b.nsPsy.lastAttacks[w]&&(c[w][0]=0),3!=b.nsPsy.lastAttacks[w]&&c[w][0]+c[w][1]+c[w][2]+c[w][3]==0||(P=0,0!=c[w][1]&&0!=c[w][0]&&(c[w][1]=0),0!=c[w][2]&&0!=c[w][1]&&(c[w][2]=0),0!=c[w][3]&&0!=c[w][2]&&(c[w][3]=0)),w<2?h[w]=P:0==P&&(h[0]=h[1]=0),i[w]=b.tot_ener[w]}}(t,r,n,a,s,i,b,R,B,T),function(e,t){var r=e.internal_flags;e.short_blocks!=o.short_block_coupled||0!=t[0]&&0!=t[1]||(t[0]=t[1]=0);for(var n=0;n<r.channels_out;n++)e.short_blocks==o.short_block_dispensed&&(t[n]=1),e.short_blocks==o.short_block_forced&&(t[n]=0)}(t,T);for(var E=0;E<x;E++)j(t,r,n,E,a,g,y,L=1&E),C(t,a,E,g),0!=T[L]?K(w,g,A[E],M[E],E):z(w,E);for(T[0]+T[1]==2&&t.mode==e.JOINT_STEREO&&Z(A,M,w.mld_cb_l,w.ATH.cb_l,t.ATHlower*w.ATH.adjust,t.msfix,w.npart_l),E=0;E<x;E++)0!=T[L=1&E]&&O(w,A[E],M[E],E);for(var I=0;I<3;I++){for(E=0;E<x;++E)0!=T[L=1&E]?U(w,E,I):(Y(t,r,n,E,I,k,S,L),G(t,k,A[E],M[E],E,I));for(T[0]+T[1]==0&&t.mode==e.JOINT_STEREO&&Z(A,M,w.mld_cb_s,w.ATH.cb_s,t.ATHlower*w.ATH.adjust,t.msfix,w.npart_s),E=0;E<x;++E)0==T[L=1&E]&&P(w,A[E],M[E],E,I)}for(E=0;E<x;E++){var L;if(0==T[L=1&E])for(var N=0;N<p.SBMAX_s;N++){var D=l(3);for(I=0;I<3;I++){var F=w.thm[E].s[N][I];if(F*=.8,B[E][I]>=2||1==B[E][I+1]){var X=0!=I?I-1:2,Q=H(w.thm[E].s[N][X],F,.36);F=Math.min(F,Q)}else 1==B[E][I]?(X=0!=I?I-1:2,Q=H(w.thm[E].s[N][X],F,.6*m),F=Math.min(F,Q)):(0!=I&&3==B[E][I-1]||0==I&&3==w.nsPsy.lastAttacks[E])&&(X=2!=I?I+1:0,Q=H(w.thm[E].s[N][X],F,.6*m),F=Math.min(F,Q));F*=R[E][I],D[I]=F}for(I=0;I<3;I++)w.thm[E].s[N][I]=D[I]}}for(E=0;E<x;E++)w.nsPsy.lastAttacks[E]=B[E][2];for(function(e,t,r){for(var n=e.internal_flags,a=0;a<n.channels_out;a++){var s=p.NORM_TYPE;0!=t[a]?(u(n.blocktype_old[a]!=p.START_TYPE),n.blocktype_old[a]==p.SHORT_TYPE&&(s=p.STOP_TYPE)):(s=p.SHORT_TYPE,n.blocktype_old[a]==p.NORM_TYPE&&(n.blocktype_old[a]=p.START_TYPE),n.blocktype_old[a]==p.STOP_TYPE&&(n.blocktype_old[a]=p.SHORT_TYPE)),r[a]=n.blocktype_old[a],n.blocktype_old[a]=s}}(t,T,v),E=0;E<x;E++){var J,$,ee,te;E>1?(J=h,$=-2,ee=p.NORM_TYPE,v[0]!=p.SHORT_TYPE&&v[1]!=p.SHORT_TYPE||(ee=p.SHORT_TYPE),te=i[a][E-2]):(J=_,$=0,ee=v[E],te=s[a][E]),ee==p.SHORT_TYPE?J[$+E]=V(te,w.masking_lower):J[$+E]=q(te,w.masking_lower),t.analysis&&(w.pinfo.pe[a][E]=J[$+E])}return 0},this.psymodel_init=function(e){var r,o,i=e.internal_flags,_=!0,f=13,c=24,h=0,b=0,m=-8.25,d=-4.5,v=l(p.CBANDS),w=l(p.CBANDS),g=l(p.CBANDS),A=e.out_samplerate;switch(e.experimentalZ){default:case 0:_=!0;break;case 1:_=e.VBR!=a.vbr_mtrh&&e.VBR!=a.vbr_mt;break;case 2:_=!1;break;case 3:f=8,h=-1.75,b=-.0125,m=-8.25,d=-2.25}for(i.ms_ener_ratio_old=.25,i.blocktype_old[0]=i.blocktype_old[1]=p.NORM_TYPE,r=0;r<4;++r){for(var M=0;M<p.CBANDS;++M)i.nb_1[r][M]=1e20,i.nb_2[r][M]=1e20,i.nb_s1[r][M]=i.nb_s2[r][M]=1;for(var R=0;R<p.SBMAX_l;R++)i.en[r].l[R]=1e20,i.thm[r].l[R]=1e20;for(M=0;M<3;++M){for(R=0;R<p.SBMAX_s;R++)i.en[r].s[R][M]=1e20,i.thm[r].s[R][M]=1e20;i.nsPsy.lastAttacks[r]=0}for(M=0;M<9;M++)i.nsPsy.last_en_subshort[r][M]=10}for(i.loudness_sq_save[0]=i.loudness_sq_save[1]=0,i.npart_l=ee(i.numlines_l,i.bo_l,i.bm_l,v,w,i.mld_l,i.PSY.bo_l_weight,A,p.BLKSIZE,i.scalefac_band.l,p.BLKSIZE/1152,p.SBMAX_l),u(i.npart_l<p.CBANDS),r=0;r<i.npart_l;r++){var B=h;v[r]>=f&&(B=b*(v[r]-f)/(c-f)+h*(c-v[r])/(c-f)),g[r]=Math.pow(10,B/10),i.numlines_l[r]>0?i.rnumlines_l[r]=1/i.numlines_l[r]:i.rnumlines_l[r]=0}for(i.s3_ll=te(i.s3ind,i.npart_l,v,w,g,_),M=0,r=0;r<i.npart_l;r++){E=s.MAX_VALUE;for(var T=0;T<i.numlines_l[r];T++,M++){var x=A*M/(1e3*p.BLKSIZE);P=this.ATHformula(1e3*x,e)-20,P=Math.pow(10,.1*P),E>(P*=i.numlines_l[r])&&(E=P)}i.ATH.cb_l[r]=E,(E=20*v[r]/10-20)>6&&(E=100),E<-15&&(E=-15),E-=8,i.minval_l[r]=Math.pow(10,E/10)*i.numlines_l[r]}for(i.npart_s=ee(i.numlines_s,i.bo_s,i.bm_s,v,w,i.mld_s,i.PSY.bo_s_weight,A,p.BLKSIZE_s,i.scalefac_band.s,p.BLKSIZE_s/384,p.SBMAX_s),u(i.npart_s<p.CBANDS),M=0,r=0;r<i.npart_s;r++){var E;for(B=m,v[r]>=f&&(B=d*(v[r]-f)/(c-f)+m*(c-v[r])/(c-f)),g[r]=Math.pow(10,B/10),E=s.MAX_VALUE,T=0;T<i.numlines_s[r];T++,M++){var P;x=A*M/(1e3*p.BLKSIZE_s),P=this.ATHformula(1e3*x,e)-20,P=Math.pow(10,.1*P),E>(P*=i.numlines_s[r])&&(E=P)}i.ATH.cb_s[r]=E,E=7*v[r]/12-7,v[r]>12&&(E*=1+3.1*Math.log(1+E)),v[r]<12&&(E*=1+2.3*Math.log(1-E)),E<-15&&(E=-15),E-=8,i.minval_s[r]=Math.pow(10,E/10)*i.numlines_s[r]}i.s3_ss=te(i.s3ind_s,i.npart_s,v,w,g,_),k=Math.pow(10,9/16),y=Math.pow(10,1.5),S=Math.pow(10,1.5),t.init_fft(i),i.decay=Math.exp(-1*n/(.01*A/192)),o=3.5,0!=(2&e.exp_nspsytune)&&(o=1),Math.abs(e.msfix)>0&&(o=e.msfix),e.msfix=o;for(var O=0;O<i.npart_l;O++)i.s3ind[O][1]>i.npart_l-1&&(i.s3ind[O][1]=i.npart_l-1);var I=576*i.mode_gr/A;if(i.ATH.decay=Math.pow(10,-1.2*I),i.ATH.adjust=.01,i.ATH.adjustLimit=1,u(i.bo_l[p.SBMAX_l-1]<=i.npart_l),u(i.bo_s[p.SBMAX_s-1]<=i.npart_s),-1!=e.ATHtype){var H=e.out_samplerate/p.BLKSIZE,L=0;for(x=0,r=0;r<p.BLKSIZE/2;++r)x+=H,i.ATH.eql_w[r]=1/Math.pow(10,this.ATHformula(x,e)/10),L+=i.ATH.eql_w[r];for(L=1/L,r=p.BLKSIZE/2;--r>=0;)i.ATH.eql_w[r]*=L}for(O=M=0;O<i.npart_s;++O)for(r=0;r<i.numlines_s[O];++r)++M;for(u(129==M),O=M=0;O<i.npart_l;++O)for(r=0;r<i.numlines_l[O];++r)++M;for(u(513==M),M=0,r=0;r<i.npart_l;r++)x=A*(M+i.numlines_l[r]/2)/(1*p.BLKSIZE),i.mld_cb_l[r]=re(x),M+=i.numlines_l[r];for(;r<p.CBANDS;++r)i.mld_cb_l[r]=1;for(M=0,r=0;r<i.npart_s;r++)x=A*(M+i.numlines_s[r]/2)/(1*p.BLKSIZE_s),i.mld_cb_s[r]=re(x),M+=i.numlines_s[r];for(;r<p.CBANDS;++r)i.mld_cb_s[r]=1;return 0},this.ATHformula=function(e,t){var r;switch(t.ATHtype){case 0:r=ne(e,9);break;case 1:r=ne(e,-1);break;case 2:default:r=ne(e,0);break;case 3:r=ne(e,1)+6;break;case 4:r=ne(e,t.ATHcurve)}return r}}},427:function(e,t,r){var n=r(233),a=n.System,s=n.VbrMode,o=(n.Float,n.ShortBlock,n.Util),i=n.Arrays,_=(n.new_array_n,n.new_byte,n.new_double,n.new_float),l=(n.new_float_n,n.new_int,n.new_int_n,n.assert),f=r(576),c=r(711),u=r(390),h=r(43),p=r(166),b=r(425);e.exports=function(){var e,t,r;this.rv=null,this.qupvt=null;var n,m=new f;function d(e){this.ordinal=e}function v(e){for(var t=0;t<e.sfbmax;t++)if(e.scalefac[t]+e.subblock_gain[e.window[t]]==0)return!1;return!0}function w(e,t,r,n,a){var s;switch(e){default:case 9:t.over_count>0?(s=r.over_SSD<=t.over_SSD,r.over_SSD==t.over_SSD&&(s=r.bits<t.bits)):s=r.max_noise<0&&10*r.max_noise+r.bits<=10*t.max_noise+t.bits;break;case 0:s=r.over_count<t.over_count||r.over_count==t.over_count&&r.over_noise<t.over_noise||r.over_count==t.over_count&&BitStream.EQ(r.over_noise,t.over_noise)&&r.tot_noise<t.tot_noise;break;case 8:r.max_noise=function(e,t){for(var r,n=1e-37,a=0;a<t.psymax;a++)n+=(r=e[a],o.FAST_LOG10(.368+.632*r*r*r));return Math.max(1e-20,n)}(a,n);case 1:s=r.max_noise<t.max_noise;break;case 2:s=r.tot_noise<t.tot_noise;break;case 3:s=r.tot_noise<t.tot_noise&&r.max_noise<t.max_noise;break;case 4:s=r.max_noise<=0&&t.max_noise>.2||r.max_noise<=0&&t.max_noise<0&&t.max_noise>r.max_noise-.2&&r.tot_noise<t.tot_noise||r.max_noise<=0&&t.max_noise>0&&t.max_noise>r.max_noise-.2&&r.tot_noise<t.tot_noise+t.over_noise||r.max_noise>0&&t.max_noise>-.05&&t.max_noise>r.max_noise-.1&&r.tot_noise+r.over_noise<t.tot_noise+t.over_noise||r.max_noise>0&&t.max_noise>-.1&&t.max_noise>r.max_noise-.15&&r.tot_noise+r.over_noise+r.over_noise<t.tot_noise+t.over_noise+t.over_noise;break;case 5:s=r.over_noise<t.over_noise||BitStream.EQ(r.over_noise,t.over_noise)&&r.tot_noise<t.tot_noise;break;case 6:s=r.over_noise<t.over_noise||BitStream.EQ(r.over_noise,t.over_noise)&&(r.max_noise<t.max_noise||BitStream.EQ(r.max_noise,t.max_noise)&&r.tot_noise<=t.tot_noise);break;case 7:s=r.over_count<t.over_count||r.over_noise<t.over_noise}return 0==t.over_count&&(s=s&&r.bits<t.bits),s}function g(e,t,a,s,o){var _=e.internal_flags;!function(e,t,r,n,a){var s,o=e.internal_flags;s=0==t.scalefac_scale?1.2968395546510096:1.6817928305074292;for(var i=0,_=0;_<t.sfbmax;_++)i<r[_]&&(i=r[_]);var l=o.noise_shaping_amp;switch(3==l&&(l=a?2:1),l){case 2:break;case 1:i>1?i=Math.pow(i,.5):i*=.95;break;default:i>1?i=1:i*=.95}var f=0;for(_=0;_<t.sfbmax;_++){var c,u=t.width[_];if(f+=u,!(r[_]<i)){if(0!=(2&o.substep_shaping)&&(o.pseudohalf[_]=0==o.pseudohalf[_]?1:0,0==o.pseudohalf[_]&&2==o.noise_shaping_amp))return;for(t.scalefac[_]++,c=-u;c<0;c++)n[f+c]*=s,n[f+c]>t.xrpow_max&&(t.xrpow_max=n[f+c]);if(2==o.noise_shaping_amp)return}}}(e,t,a,s,o);var f=v(t);return!(f||(f=2==_.mode_gr?n.scale_bitcount(t):n.scale_bitcount_lsf(_,t))&&(_.noise_shaping>1&&(i.fill(_.pseudohalf,0),0==t.scalefac_scale?(function(e,t){for(var n=0,a=0;a<e.sfbmax;a++){var s=e.width[a],o=e.scalefac[a];if(0!=e.preflag&&(o+=r.pretab[a]),n+=s,0!=(1&o)){o++;for(var i=-s;i<0;i++)t[n+i]*=1.2968395546510096,t[n+i]>e.xrpow_max&&(e.xrpow_max=t[n+i])}e.scalefac[a]=o>>1}e.preflag=0,e.scalefac_scale=1}(t,s),f=!1):t.block_type==h.SHORT_TYPE&&_.subblock_gain>0&&(f=function(e,t,n){var a,s=t.scalefac;for(a=0;a<t.sfb_lmax;a++)if(s[a]>=16)return!0;for(var o=0;o<3;o++){var i=0,_=0;for(a=t.sfb_lmax+o;a<t.sfbdivide;a+=3)i<s[a]&&(i=s[a]);for(;a<t.sfbmax;a+=3)_<s[a]&&(_=s[a]);if(!(i<16&&_<8)){if(t.subblock_gain[o]>=7)return!0;t.subblock_gain[o]++;var f=e.scalefac_band.l[t.sfb_lmax];for(a=t.sfb_lmax+o;a<t.sfbmax;a+=3){var c=t.width[a],u=s[a];if(l(u>=0),(u-=4>>t.scalefac_scale)>=0)s[a]=u,f+=3*c;else{s[a]=0;var h=210+(u<<t.scalefac_scale+1);b=r.IPOW20(h),f+=c*(o+1);for(var p=-c;p<0;p++)n[f+p]*=b,n[f+p]>t.xrpow_max&&(t.xrpow_max=n[f+p]);f+=c*(3-o-1)}}var b=r.IPOW20(202);for(f+=t.width[a]*(o+1),p=-t.width[a];p<0;p++)n[f+p]*=b,n[f+p]>t.xrpow_max&&(t.xrpow_max=n[f+p])}}return!1}(_,t,s)||v(t))),f||(f=2==_.mode_gr?n.scale_bitcount(t):n.scale_bitcount_lsf(_,t)),f))}this.setModules=function(a,s,o,i){e=a,t=s,this.rv=s,r=o,this.qupvt=o,n=i,m.setModules(r,n)},this.ms_convert=function(e,t){for(var r=0;r<576;++r){var n=e.tt[t][0].xr[r],a=e.tt[t][1].xr[r];e.tt[t][0].xr[r]=(n+a)*(.5*o.SQRT2),e.tt[t][1].xr[r]=(n-a)*(.5*o.SQRT2)}},this.init_xrpow=function(e,t,r){var n=0,a=0|t.max_nonzero_coeff;if(l(null!=r),t.xrpow_max=0,l(0<=a&&a<=575),i.fill(r,a,576,0),n=function(e,t,r,n){n=0;for(var a=0;a<=r;++a){var s=Math.abs(e.xr[a]);n+=s,t[a]=Math.sqrt(s*Math.sqrt(s)),t[a]>e.xrpow_max&&(e.xrpow_max=t[a])}return n}(t,r,a,n),n>1e-20){var s=0;0!=(2&e.substep_shaping)&&(s=1);for(var o=0;o<t.psymax;o++)e.pseudohalf[o]=s;return!0}return i.fill(t.l3_enc,0,576,0),!1},this.init_outer_loop=function(e,t){t.part2_3_length=0,t.big_values=0,t.count1=0,t.global_gain=210,t.scalefac_compress=0,t.table_select[0]=0,t.table_select[1]=0,t.table_select[2]=0,t.subblock_gain[0]=0,t.subblock_gain[1]=0,t.subblock_gain[2]=0,t.subblock_gain[3]=0,t.region0_count=0,t.region1_count=0,t.preflag=0,t.scalefac_scale=0,t.count1table_select=0,t.part2_length=0,t.sfb_lmax=h.SBPSY_l,t.sfb_smin=h.SBPSY_s,t.psy_lmax=e.sfb21_extra?h.SBMAX_l:h.SBPSY_l,t.psymax=t.psy_lmax,t.sfbmax=t.sfb_lmax,t.sfbdivide=11;for(var n=0;n<h.SBMAX_l;n++)t.width[n]=e.scalefac_band.l[n+1]-e.scalefac_band.l[n],t.window[n]=3;if(t.block_type==h.SHORT_TYPE){var s=_(576);t.sfb_smin=0,t.sfb_lmax=0,0!=t.mixed_block_flag&&(t.sfb_smin=3,t.sfb_lmax=2*e.mode_gr+4),t.psymax=t.sfb_lmax+3*((e.sfb21_extra?h.SBMAX_s:h.SBPSY_s)-t.sfb_smin),t.sfbmax=t.sfb_lmax+3*(h.SBPSY_s-t.sfb_smin),t.sfbdivide=t.sfbmax-18,t.psy_lmax=t.sfb_lmax;var o=e.scalefac_band.l[t.sfb_lmax];for(a.arraycopy(t.xr,0,s,0,576),n=t.sfb_smin;n<h.SBMAX_s;n++)for(var l=e.scalefac_band.s[n],f=e.scalefac_band.s[n+1],c=0;c<3;c++)for(var u=l;u<f;u++)t.xr[o++]=s[3*u+c];var p=t.sfb_lmax;for(n=t.sfb_smin;n<h.SBMAX_s;n++)t.width[p]=t.width[p+1]=t.width[p+2]=e.scalefac_band.s[n+1]-e.scalefac_band.s[n],t.window[p]=0,t.window[p+1]=1,t.window[p+2]=2,p+=3}t.count1bits=0,t.sfb_partition_table=r.nr_of_sfb_block[0][0],t.slen[0]=0,t.slen[1]=0,t.slen[2]=0,t.slen[3]=0,t.max_nonzero_coeff=575,i.fill(t.scalefac,0),function(e,t){var n=e.ATH,a=t.xr;if(t.block_type!=h.SHORT_TYPE)for(var s=!1,o=h.PSFB21-1;o>=0&&!s;o--){var i=e.scalefac_band.psfb21[o],_=e.scalefac_band.psfb21[o+1],l=r.athAdjust(n.adjust,n.psfb21[o],n.floor);e.nsPsy.longfact[21]>1e-12&&(l*=e.nsPsy.longfact[21]);for(var f=_-1;f>=i;f--){if(!(Math.abs(a[f])<l)){s=!0;break}a[f]=0}}else for(var c=0;c<3;c++)for(s=!1,o=h.PSFB12-1;o>=0&&!s;o--){_=(i=3*e.scalefac_band.s[12]+(e.scalefac_band.s[13]-e.scalefac_band.s[12])*c+(e.scalefac_band.psfb12[o]-e.scalefac_band.psfb12[0]))+(e.scalefac_band.psfb12[o+1]-e.scalefac_band.psfb12[o]);var u=r.athAdjust(n.adjust,n.psfb12[o],n.floor);for(e.nsPsy.shortfact[12]>1e-12&&(u*=e.nsPsy.shortfact[12]),f=_-1;f>=i;f--){if(!(Math.abs(a[f])<u)){s=!0;break}a[f]=0}}}(e,t)},d.BINSEARCH_NONE=new d(0),d.BINSEARCH_UP=new d(1),d.BINSEARCH_DOWN=new d(2),this.trancate_smallspectrums=function(e,t,a,s){var o=_(b.SFBMAX);if((0!=(4&e.substep_shaping)||t.block_type!=h.SHORT_TYPE)&&0==(128&e.substep_shaping)){r.calc_noise(t,a,o,new c,null);for(var l=0;l<576;l++){var f=0;0!=t.l3_enc[l]&&(f=Math.abs(t.xr[l])),s[l]=f}l=0;var u=8;t.block_type==h.SHORT_TYPE&&(u=6);do{var p,m,d,v,w=t.width[u];if(l+=w,!(o[u]>=1||(i.sort(s,l-w,w),BitStream.EQ(s[l-1],0)))){p=(1-o[u])*a[u],m=0,v=0;do{var g;for(d=1;v+d<w&&!BitStream.NEQ(s[v+l-w],s[v+l+d-w]);d++);if(p<(g=s[v+l-w]*s[v+l-w]*d)){0!=v&&(m=s[v+l-w-1]);break}p-=g,v+=d}while(v<w);if(!BitStream.EQ(m,0))do{Math.abs(t.xr[l-w])<=m&&(t.l3_enc[l-w]=0)}while(--w>0)}}while(++u<t.psymax);t.part2_3_length=n.noquant_count_bits(e,t,null)}},this.outer_loop=function(e,t,o,i,f,m){var v=e.internal_flags,k=new p,y=_(576),S=_(b.SFBMAX),A=new c,M=new u,R=9999999,B=!1,T=!1,x=0;if(function(e,t,r,a,s){var o,i=e.CurrentStep[a],_=!1,f=e.OldValue[a],c=d.BINSEARCH_NONE;for(t.global_gain=f,r-=t.part2_length,l(0!=i);;){var u;if(o=n.count_bits(e,s,t,null),1==i||o==r)break;o>r?(c==d.BINSEARCH_DOWN&&(_=!0),_&&(i/=2),c=d.BINSEARCH_UP,u=i):(c==d.BINSEARCH_UP&&(_=!0),_&&(i/=2),c=d.BINSEARCH_DOWN,u=-i),t.global_gain+=u,t.global_gain<0&&(t.global_gain=0,_=!0),t.global_gain>255&&(t.global_gain=255,_=!0)}for(l(t.global_gain>=0),l(t.global_gain<256);o>r&&t.global_gain<255;)t.global_gain++,o=n.count_bits(e,s,t,null);e.CurrentStep[a]=f-t.global_gain>=4?4:2,e.OldValue[a]=t.global_gain,t.part2_3_length=o}(v,t,m,f,i),0==v.noise_shaping)return 100;r.calc_noise(t,o,S,A,M),A.bits=t.part2_3_length,k.assign(t);var E=0;for(a.arraycopy(i,0,y,0,576);!B;){do{var P,O=new c,I=255;if(P=0!=(2&v.substep_shaping)?20:3,v.sfb21_extra){if(S[k.sfbmax]>1)break;if(k.block_type==h.SHORT_TYPE&&(S[k.sfbmax+1]>1||S[k.sfbmax+2]>1))break}if(!g(e,k,S,i,T))break;0!=k.scalefac_scale&&(I=254);var H=m-k.part2_length;if(H<=0)break;for(;(k.part2_3_length=n.count_bits(v,i,k,M))>H&&k.global_gain<=I;)k.global_gain++;if(k.global_gain>I)break;if(0==A.over_count){for(;(k.part2_3_length=n.count_bits(v,i,k,M))>R&&k.global_gain<=I;)k.global_gain++;if(k.global_gain>I)break}if(r.calc_noise(k,o,S,O,M),O.bits=k.part2_3_length,0!=(w(t.block_type!=h.SHORT_TYPE?e.quant_comp:e.quant_comp_short,A,O,k,S)?1:0))R=t.part2_3_length,A=O,t.assign(k),E=0,a.arraycopy(i,0,y,0,576);else if(0==v.full_outer_loop){if(++E>P&&0==A.over_count)break;if(3==v.noise_shaping_amp&&T&&E>30)break;if(3==v.noise_shaping_amp&&T&&k.global_gain-x>15)break}}while(k.global_gain+k.scalefac_scale<255);3==v.noise_shaping_amp?T?B=!0:(k.assign(t),a.arraycopy(y,0,i,0,576),E=0,x=k.global_gain,T=!0):B=!0}return l(t.global_gain+t.scalefac_scale<=255),e.VBR==s.vbr_rh||e.VBR==s.vbr_mtrh?a.arraycopy(y,0,i,0,576):0!=(1&v.substep_shaping)&&trancate_smallspectrums(v,t,o,i),A.over_count},this.iteration_finish_one=function(e,r,a){var s=e.l3_side,o=s.tt[r][a];n.best_scalefac_store(e,r,a,s),1==e.use_best_huffman&&n.best_huffman_divide(e,o),t.ResvAdjust(e,o)},this.VBR_encode_granule=function(e,t,r,n,s,o,f){var c,u=e.internal_flags,h=new p,b=_(576),m=f,d=f+1,v=(f+o)/2,w=0,g=u.sfb21_extra;l(m<=LameInternalFlags.MAX_BITS_PER_CHANNEL),i.fill(h.l3_enc,0);do{l(v>=o),l(v<=f),l(o<=f),u.sfb21_extra=!(v>m-42)&&g,outer_loop(e,t,r,n,s,v)<=0?(w=1,d=t.part2_3_length,h.assign(t),a.arraycopy(n,0,b,0,576),c=(f=d-32)-o,v=(f+o)/2):(c=f-(o=v+32),v=(f+o)/2,0!=w&&(w=2,t.assign(h),a.arraycopy(b,0,n,0,576)))}while(c>12);u.sfb21_extra=g,2==w&&a.arraycopy(h.l3_enc,0,t.l3_enc,0,576),l(t.part2_3_length<=m)},this.get_framebits=function(r,n){var a=r.internal_flags;a.bitrate_index=a.VBR_min_bitrate;var s=e.getframebits(r);a.bitrate_index=1,s=e.getframebits(r);for(var o=1;o<=a.VBR_max_bitrate;o++){a.bitrate_index=o;var i=new MeanBits(s);n[o]=t.ResvFrameBegin(r,i),s=i.bits}},this.VBR_old_prepare=function(e,n,a,s,o,i,_,l,f){var c,u=e.internal_flags,p=0,b=1,m=0;u.bitrate_index=u.VBR_max_bitrate;var d=t.ResvFrameBegin(e,new MeanBits(0))/u.mode_gr;get_framebits(e,i);for(var v=0;v<u.mode_gr;v++){var w=r.on_pe(e,n,l[v],d,v,0);u.mode_ext==h.MPG_MD_MS_LR&&(ms_convert(u.l3_side,v),r.reduce_side(l[v],a[v],d,w));for(var g=0;g<u.channels_out;++g){var k=u.l3_side.tt[v][g];k.block_type!=h.SHORT_TYPE?(p=1.28/(1+Math.exp(3.5-n[v][g]/300))-.05,c=u.PSY.mask_adjust-p):(p=2.56/(1+Math.exp(3.5-n[v][g]/300))-.14,c=u.PSY.mask_adjust_short-p),u.masking_lower=Math.pow(10,.1*c),init_outer_loop(u,k),f[v][g]=r.calc_xmin(e,s[v][g],k,o[v][g]),0!=f[v][g]&&(b=0),_[v][g]=126,m+=l[v][g]}}for(v=0;v<u.mode_gr;v++)for(g=0;g<u.channels_out;g++)m>i[u.VBR_max_bitrate]&&(l[v][g]*=i[u.VBR_max_bitrate],l[v][g]/=m),_[v][g]>l[v][g]&&(_[v][g]=l[v][g]);return b},this.bitpressure_strategy=function(e,t,r,n){for(var a=0;a<e.mode_gr;a++)for(var s=0;s<e.channels_out;s++){for(var o=e.l3_side.tt[a][s],i=t[a][s],_=0,l=0;l<o.psy_lmax;l++)i[_++]*=1+.029*l*l/h.SBMAX_l/h.SBMAX_l;if(o.block_type==h.SHORT_TYPE)for(l=o.sfb_smin;l<h.SBMAX_s;l++)i[_++]*=1+.029*l*l/h.SBMAX_s/h.SBMAX_s,i[_++]*=1+.029*l*l/h.SBMAX_s/h.SBMAX_s,i[_++]*=1+.029*l*l/h.SBMAX_s/h.SBMAX_s;n[a][s]=0|Math.max(r[a][s],.9*n[a][s])}},this.VBR_new_prepare=function(e,n,a,s,o,i){var _,l=e.internal_flags,f=1,c=0,u=0;if(e.free_format)l.bitrate_index=0,p=new MeanBits(c),_=t.ResvFrameBegin(e,p),c=p.bits,o[0]=_;else{l.bitrate_index=l.VBR_max_bitrate;var p=new MeanBits(c);t.ResvFrameBegin(e,p),c=p.bits,get_framebits(e,o),_=o[l.VBR_max_bitrate]}for(var b=0;b<l.mode_gr;b++){r.on_pe(e,n,i[b],c,b,0),l.mode_ext==h.MPG_MD_MS_LR&&ms_convert(l.l3_side,b);for(var m=0;m<l.channels_out;++m){var d=l.l3_side.tt[b][m];l.masking_lower=Math.pow(10,.1*l.PSY.mask_adjust),init_outer_loop(l,d),0!=r.calc_xmin(e,a[b][m],d,s[b][m])&&(f=0),u+=i[b][m]}}for(b=0;b<l.mode_gr;b++)for(m=0;m<l.channels_out;m++)u>_&&(i[b][m]*=_,i[b][m]/=u);return f},this.calc_target_bits=function(n,a,s,o,i,_){var l,f,c,u,p=n.internal_flags,b=p.l3_side,m=0;p.bitrate_index=p.VBR_max_bitrate;var d=new MeanBits(m);for(_[0]=t.ResvFrameBegin(n,d),m=d.bits,p.bitrate_index=1,m=e.getframebits(n)-8*p.sideinfo_len,i[0]=m/(p.mode_gr*p.channels_out),m=n.VBR_mean_bitrate_kbps*n.framesize*1e3,0!=(1&p.substep_shaping)&&(m*=1.09),m/=n.out_samplerate,m-=8*p.sideinfo_len,m/=p.mode_gr*p.channels_out,(l=.93+.07*(11-n.compression_ratio)/5.5)<.9&&(l=.9),l>1&&(l=1),f=0;f<p.mode_gr;f++){var v=0;for(c=0;c<p.channels_out;c++){if(o[f][c]=int(l*m),a[f][c]>700){var w=int((a[f][c]-700)/1.4),g=b.tt[f][c];o[f][c]=int(l*m),g.block_type==h.SHORT_TYPE&&w<m/2&&(w=m/2),w>3*m/2?w=3*m/2:w<0&&(w=0),o[f][c]+=w}o[f][c]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(o[f][c]=LameInternalFlags.MAX_BITS_PER_CHANNEL),v+=o[f][c]}if(v>LameInternalFlags.MAX_BITS_PER_GRANULE)for(c=0;c<p.channels_out;++c)o[f][c]*=LameInternalFlags.MAX_BITS_PER_GRANULE,o[f][c]/=v}if(p.mode_ext==h.MPG_MD_MS_LR)for(f=0;f<p.mode_gr;f++)r.reduce_side(o[f],s[f],m*p.channels_out,LameInternalFlags.MAX_BITS_PER_GRANULE);for(u=0,f=0;f<p.mode_gr;f++)for(c=0;c<p.channels_out;c++)o[f][c]>LameInternalFlags.MAX_BITS_PER_CHANNEL&&(o[f][c]=LameInternalFlags.MAX_BITS_PER_CHANNEL),u+=o[f][c];if(u>_[0])for(f=0;f<p.mode_gr;f++)for(c=0;c<p.channels_out;c++)o[f][c]*=_[0],o[f][c]/=u}}},498:function(e,t,r){var n=r(385),a=r(233),s=(a.System,a.VbrMode),o=a.Float,i=(a.ShortBlock,a.Util),_=(a.Arrays,a.new_array_n,a.new_byte,a.new_double,a.new_float),l=(a.new_float_n,a.new_int),f=(a.new_int_n,a.assert),c=r(43),u=r(423),h=r(459);function p(){var e=r(881),t=null,a=null,b=null;this.setModules=function(e,r,n){t=e,a=r,b=n},this.IPOW20=function(e){return f(0<=e&&e<p.Q_MAX),S[e]};var m=2220446049250313e-31,d=p.IXMAX_VAL+2,v=p.Q_MAX,w=p.Q_MAX2,g=(p.LARGE_BITS,100);this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var k=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=k,this.sfBandIndex=[new n([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new n([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0,8,16,24,36,52,72,96,124,160,162,164,166,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var y=_(v+w+1),S=_(v),A=_(d),M=_(d);function R(e,t){var r=b.ATHformula(t,e);return r-=g,Math.pow(10,r/10+e.ATHlower)}function B(e){this.s=e}this.adj43=M,this.iteration_init=function(e){var r,n=e.internal_flags,a=n.l3_side;if(0==n.iteration_init_init){for(n.iteration_init_init=1,a.main_data_begin=0,function(e){for(var t=e.internal_flags.ATH.l,r=e.internal_flags.ATH.psfb21,n=e.internal_flags.ATH.s,a=e.internal_flags.ATH.psfb12,s=e.internal_flags,i=e.out_samplerate,_=0;_<c.SBMAX_l;_++){var l=s.scalefac_band.l[_],f=s.scalefac_band.l[_+1];t[_]=o.MAX_VALUE;for(var u=l;u<f;u++){var h=R(e,u*i/1152);t[_]=Math.min(t[_],h)}}for(_=0;_<c.PSFB21;_++)for(l=s.scalefac_band.psfb21[_],f=s.scalefac_band.psfb21[_+1],r[_]=o.MAX_VALUE,u=l;u<f;u++)h=R(e,u*i/1152),r[_]=Math.min(r[_],h);for(_=0;_<c.SBMAX_s;_++){for(l=s.scalefac_band.s[_],f=s.scalefac_band.s[_+1],n[_]=o.MAX_VALUE,u=l;u<f;u++)h=R(e,u*i/384),n[_]=Math.min(n[_],h);n[_]*=s.scalefac_band.s[_+1]-s.scalefac_band.s[_]}for(_=0;_<c.PSFB12;_++){for(l=s.scalefac_band.psfb12[_],f=s.scalefac_band.psfb12[_+1],a[_]=o.MAX_VALUE,u=l;u<f;u++)h=R(e,u*i/384),a[_]=Math.min(a[_],h);a[_]*=s.scalefac_band.s[13]-s.scalefac_band.s[12]}if(e.noATH){for(_=0;_<c.SBMAX_l;_++)t[_]=1e-20;for(_=0;_<c.PSFB21;_++)r[_]=1e-20;for(_=0;_<c.SBMAX_s;_++)n[_]=1e-20;for(_=0;_<c.PSFB12;_++)a[_]=1e-20}s.ATH.floor=10*Math.log10(R(e,-1))}(e),A[0]=0,r=1;r<d;r++)A[r]=Math.pow(r,4/3);for(r=0;r<d-1;r++)M[r]=r+1-Math.pow(.5*(A[r]+A[r+1]),.75);for(M[r]=.5,r=0;r<v;r++)S[r]=Math.pow(2,-.1875*(r-210));for(r=0;r<=v+w;r++)y[r]=Math.pow(2,.25*(r-210-w));var s,i,_,l;for(t.huffman_init(n),(r=e.exp_nspsytune>>2&63)>=32&&(r-=64),s=Math.pow(10,r/4/10),(r=e.exp_nspsytune>>8&63)>=32&&(r-=64),i=Math.pow(10,r/4/10),(r=e.exp_nspsytune>>14&63)>=32&&(r-=64),_=Math.pow(10,r/4/10),(r=e.exp_nspsytune>>20&63)>=32&&(r-=64),l=_*Math.pow(10,r/4/10),r=0;r<c.SBMAX_l;r++)f=r<=6?s:r<=13?i:r<=20?_:l,n.nsPsy.longfact[r]=f;for(r=0;r<c.SBMAX_s;r++){var f;f=r<=5?s:r<=10?i:r<=11?_:l,n.nsPsy.shortfact[r]=f}}},this.on_pe=function(e,t,r,n,s,o){var i,_,c=e.internal_flags,p=0,b=l(2),m=new u(p),d=a.ResvMaxBits(e,n,m,o),v=(p=m.bits)+d;for(v>h.MAX_BITS_PER_GRANULE&&(v=h.MAX_BITS_PER_GRANULE),i=0,_=0;_<c.channels_out;++_)r[_]=Math.min(h.MAX_BITS_PER_CHANNEL,p/c.channels_out),b[_]=0|r[_]*t[s][_]/700-r[_],b[_]>3*n/4&&(b[_]=3*n/4),b[_]<0&&(b[_]=0),b[_]+r[_]>h.MAX_BITS_PER_CHANNEL&&(b[_]=Math.max(0,h.MAX_BITS_PER_CHANNEL-r[_])),i+=b[_];if(i>d)for(_=0;_<c.channels_out;++_)b[_]=d*b[_]/i;for(_=0;_<c.channels_out;++_)r[_]+=b[_],d-=b[_];for(i=0,_=0;_<c.channels_out;++_)i+=r[_];if(i>h.MAX_BITS_PER_GRANULE){var w=0;for(_=0;_<c.channels_out;++_)r[_]*=h.MAX_BITS_PER_GRANULE,r[_]/=i,w+=r[_];f(w<=h.MAX_BITS_PER_GRANULE)}return v},this.reduce_side=function(e,t,r,n){f(n<=h.MAX_BITS_PER_GRANULE),f(e[0]+e[1]<=h.MAX_BITS_PER_GRANULE);var a=.33*(.5-t)/.5;a<0&&(a=0),a>.5&&(a=.5);var s=0|.5*a*(e[0]+e[1]);s>h.MAX_BITS_PER_CHANNEL-e[0]&&(s=h.MAX_BITS_PER_CHANNEL-e[0]),s<0&&(s=0),e[1]>=125&&(e[1]-s>125?(e[0]<r&&(e[0]+=s),e[1]-=s):(e[0]+=e[1]-125,e[1]=125)),(s=e[0]+e[1])>n&&(e[0]=n*e[0]/s,e[1]=n*e[1]/s),f(e[0]<=h.MAX_BITS_PER_CHANNEL),f(e[1]<=h.MAX_BITS_PER_CHANNEL),f(e[0]+e[1]<=h.MAX_BITS_PER_GRANULE)},this.athAdjust=function(e,t,r){var n=90.30873362,a=i.FAST_LOG10_X(t,10),s=e*e,o=0;return a-=r,s>1e-20&&(o=1+i.FAST_LOG10_X(s,10/n)),o<0&&(o=0),a*=o,a+=r+n-94.82444863,Math.pow(10,.1*a)},this.calc_xmin=function(t,r,n,a){var o,i=0,_=t.internal_flags,l=0,f=0,u=_.ATH,h=n.xr,p=t.VBR==s.vbr_mtrh?1:0,b=_.masking_lower;for(t.VBR!=s.vbr_mtrh&&t.VBR!=s.vbr_mt||(b=1),o=0;o<n.psy_lmax;o++){A=(S=t.VBR==s.vbr_rh||t.VBR==s.vbr_mtrh?athAdjust(u.adjust,u.l[o],u.floor):u.adjust*u.l[o])/(g=n.width[o]),M=m,x=g>>1,T=0;do{T+=E=h[l]*h[l],M+=E<A?E:A,T+=P=h[++l]*h[l],M+=P<A?P:A,l++}while(--x>0);T>S&&f++,o==c.SBPSY_l&&M<(B=S*_.nsPsy.longfact[o])&&(M=B),0!=p&&(S=M),t.ATHonly||(R=r.en.l[o])>0&&(B=T*r.thm.l[o]*b/R,0!=p&&(B*=_.nsPsy.longfact[o]),S<B&&(S=B)),a[i++]=0!=p?S:S*_.nsPsy.longfact[o]}var d=575;if(n.block_type!=c.SHORT_TYPE)for(var v=576;0!=v--&&e.EQ(h[v],0);)d=v;n.max_nonzero_coeff=d;for(var w=n.sfb_smin;o<n.psymax;w++,o+=3){var g,k,y;for(y=t.VBR==s.vbr_rh||t.VBR==s.vbr_mtrh?athAdjust(u.adjust,u.s[w],u.floor):u.adjust*u.s[w],g=n.width[o],k=0;k<3;k++){var S,A,M,R,B,T=0,x=g>>1;A=y/g,M=m;do{var E,P;T+=E=h[l]*h[l],M+=E<A?E:A,T+=P=h[++l]*h[l],M+=P<A?P:A,l++}while(--x>0);T>y&&f++,w==c.SBPSY_s&&M<(B=y*_.nsPsy.shortfact[w])&&(M=B),S=0!=p?M:y,t.ATHonly||t.ATHshort||(R=r.en.s[w][k])>0&&(B=T*r.thm.s[w][k]*b/R,0!=p&&(B*=_.nsPsy.shortfact[w]),S<B&&(S=B)),a[i++]=0!=p?S:S*_.nsPsy.shortfact[w]}t.useTemporal&&(a[i-3]>a[i-3+1]&&(a[i-3+1]+=(a[i-3]-a[i-3+1])*_.decay),a[i-3+1]>a[i-3+2]&&(a[i-3+2]+=(a[i-3+1]-a[i-3+2])*_.decay))}return f},this.calc_noise_core=function(e,t,r,n){var a=0,s=t.s,o=e.l3_enc;if(s>e.count1)for(;0!=r--;)l=e.xr[s],s++,a+=l*l,l=e.xr[s],s++,a+=l*l;else if(s>e.big_values){var i=_(2);for(i[0]=0,i[1]=n;0!=r--;)l=Math.abs(e.xr[s])-i[o[s]],s++,a+=l*l,l=Math.abs(e.xr[s])-i[o[s]],s++,a+=l*l}else for(;0!=r--;){var l;l=Math.abs(e.xr[s])-A[o[s]]*n,s++,a+=l*l,l=Math.abs(e.xr[s])-A[o[s]]*n,s++,a+=l*l}return t.s=s,a},this.calc_noise=function(e,t,r,n,a){var s,o,_,l=0,c=0,u=0,h=0,b=0,m=-20,d=0,v=e.scalefac,w=0;for(n.over_SSD=0,s=0;s<e.psymax;s++){var g,S=e.global_gain-(v[w++]+(0!=e.preflag?k[s]:0)<<e.scalefac_scale+1)-8*e.subblock_gain[e.window[s]],A=0;if(null!=a&&a.step[s]==S)A=a.noise[s],d+=e.width[s],r[l++]=A/t[c++],A=a.noise_log[s];else{var M,R=(f(0<=(_=S)+p.Q_MAX2&&_<p.Q_MAX),y[_+p.Q_MAX2]);o=e.width[s]>>1,d+e.width[s]>e.max_nonzero_coeff&&(o=(M=e.max_nonzero_coeff-d+1)>0?M>>1:0);var T=new B(d);A=this.calc_noise_core(e,T,o,R),d=T.s,null!=a&&(a.step[s]=S,a.noise[s]=A),A=r[l++]=A/t[c++],A=i.FAST_LOG10(Math.max(A,1e-20)),null!=a&&(a.noise_log[s]=A)}null!=a&&(a.global_gain=e.global_gain),b+=A,A>0&&(g=Math.max(0|10*A+.5,1),n.over_SSD+=g*g,u++,h+=A),m=Math.max(m,A)}return n.over_count=u,n.tot_noise=b,n.over_noise=h,n.max_noise=m,u},this.set_pinfo=function(e,t,r,n,a){var s,o,i,l,u,h=e.internal_flags,p=0==t.scalefac_scale?.5:1,b=t.scalefac,m=_(L3Side.SFBMAX),d=_(L3Side.SFBMAX),v=new CalcNoiseResult;calc_xmin(e,r,t,m),calc_noise(t,m,d,v,null);var w=0;for(o=t.sfb_lmax,t.block_type!=c.SHORT_TYPE&&0==t.mixed_block_flag&&(o=22),s=0;s<o;s++){var g=h.scalefac_band.l[s],y=(S=h.scalefac_band.l[s+1])-g;for(l=0;w<S;w++)l+=t.xr[w]*t.xr[w];l/=y,u=1e15,h.pinfo.en[n][a][s]=u*l,h.pinfo.xfsf[n][a][s]=u*m[s]*d[s]/y,r.en.l[s]>0&&!e.ATHonly?l/=r.en.l[s]:l=0,h.pinfo.thr[n][a][s]=u*Math.max(l*r.thm.l[s],h.ATH.l[s]),h.pinfo.LAMEsfb[n][a][s]=0,0!=t.preflag&&s>=11&&(h.pinfo.LAMEsfb[n][a][s]=-p*k[s]),s<c.SBPSY_l&&(f(b[s]>=0),h.pinfo.LAMEsfb[n][a][s]-=p*b[s])}if(t.block_type==c.SHORT_TYPE)for(o=s,s=t.sfb_smin;s<c.SBMAX_s;s++){g=h.scalefac_band.s[s],y=(S=h.scalefac_band.s[s+1])-g;for(var S,A=0;A<3;A++){for(l=0,i=g;i<S;i++)l+=t.xr[w]*t.xr[w],w++;l=Math.max(l/y,1e-20),u=1e15,h.pinfo.en_s[n][a][3*s+A]=u*l,h.pinfo.xfsf_s[n][a][3*s+A]=u*m[o]*d[o]/y,r.en.s[s][A]>0?l/=r.en.s[s][A]:l=0,(e.ATHonly||e.ATHshort)&&(l=0),h.pinfo.thr_s[n][a][3*s+A]=u*Math.max(l*r.thm.s[s][A],h.ATH.s[s]),h.pinfo.LAMEsfb_s[n][a][3*s+A]=-2*t.subblock_gain[A],s<c.SBPSY_s&&(h.pinfo.LAMEsfb_s[n][a][3*s+A]-=p*b[o]),o++}}h.pinfo.LAMEqss[n][a]=t.global_gain,h.pinfo.LAMEmainbits[n][a]=t.part2_3_length+t.part2_length,h.pinfo.LAMEsfbits[n][a]=t.part2_length,h.pinfo.over[n][a]=v.over_count,h.pinfo.max_noise[n][a]=10*v.max_noise,h.pinfo.over_noise[n][a]=10*v.over_noise,h.pinfo.tot_noise[n][a]=10*v.tot_noise,h.pinfo.over_SSD[n][a]=v.over_SSD}}p.Q_MAX=257,p.Q_MAX2=116,p.LARGE_BITS=1e5,p.IXMAX_VAL=8206,e.exports=p},21:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float),s=(n.new_float_n,n.new_int),o=(n.new_int_n,n.assert,r(189));e.exports=function(){this.linprebuf=a(2*o.MAX_ORDER),this.linpre=0,this.lstepbuf=a(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lstep=0,this.loutbuf=a(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.lout=0,this.rinprebuf=a(2*o.MAX_ORDER),this.rinpre=0,this.rstepbuf=a(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rstep=0,this.routbuf=a(o.MAX_SAMPLES_PER_WINDOW+o.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=s(0|o.STEPS_per_dB*o.MAX_dB),this.B=s(0|o.STEPS_per_dB*o.MAX_dB)}},313:function(e,t,r){var n=r(233).assert;e.exports=function(){var e;this.setModules=function(t){e=t},this.ResvFrameBegin=function(t,r){var a,s=t.internal_flags,o=s.l3_side,i=e.getframebits(t);r.bits=(i-8*s.sideinfo_len)/s.mode_gr;var _=2048*s.mode_gr-8;t.brate>320?a=8*int(1e3*t.brate/(t.out_samplerate/1152)/8+.5):(a=11520,t.strict_ISO&&(a=8*int(32e4/(t.out_samplerate/1152)/8+.5))),s.ResvMax=a-i,s.ResvMax>_&&(s.ResvMax=_),(s.ResvMax<0||t.disable_reservoir)&&(s.ResvMax=0);var l=r.bits*s.mode_gr+Math.min(s.ResvSize,s.ResvMax);return l>a&&(l=a),n(0==s.ResvMax%8),n(s.ResvMax>=0),o.resvDrain_pre=0,null!=s.pinfo&&(s.pinfo.mean_bits=r.bits/2,s.pinfo.resvsize=s.ResvSize),l},this.ResvMaxBits=function(e,t,r,n){var a,s=e.internal_flags,o=s.ResvSize,i=s.ResvMax;0!=n&&(o+=t),0!=(1&s.substep_shaping)&&(i*=.9),r.bits=t,10*o>9*i?(a=o-9*i/10,r.bits+=a,s.substep_shaping|=128):(a=0,s.substep_shaping&=127,e.disable_reservoir||0!=(1&s.substep_shaping)||(r.bits-=.1*t));var _=o<6*s.ResvMax/10?o:6*s.ResvMax/10;return(_-=a)<0&&(_=0),_},this.ResvAdjust=function(e,t){e.ResvSize-=t.part2_3_length+t.part2_length},this.ResvFrameEnd=function(e,t){var r,a=e.l3_side;e.ResvSize+=t*e.mode_gr;var s=0;a.resvDrain_post=0,a.resvDrain_pre=0,0!=(r=e.ResvSize%8)&&(s+=r),(r=e.ResvSize-s-e.ResvMax)>0&&(n(0==r%8),n(r>=0),s+=r);var o=Math.min(8*a.main_data_begin,s)/8;a.resvDrain_pre+=8*o,s-=8*o,e.ResvSize-=8*o,a.main_data_begin-=o,a.resvDrain_post+=s,e.ResvSize-=s}}},385:function(e,t,r){var n=r(233),a=n.System,s=(n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n,n.new_int),o=(n.new_int_n,n.assert,r(43));e.exports=function(e,t,r,n){this.l=s(1+o.SBMAX_l),this.s=s(1+o.SBMAX_s),this.psfb21=s(1+o.PSFB21),this.psfb12=s(1+o.PSFB12);var i=this.l,_=this.s;4==arguments.length&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],a.arraycopy(this.arrL,0,i,0,Math.min(this.arrL.length,this.l.length)),a.arraycopy(this.arrS,0,_,0,Math.min(this.arrS.length,this.s.length)),a.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),a.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}},330:function(e){function t(e,t,r,n){this.xlen=e,this.linmax=t,this.table=r,this.hlen=n}var r={t1HB:[1,1,1,0],t2HB:[1,2,1,3,1,1,3,2,0],t3HB:[3,2,1,1,1,1,3,2,0],t5HB:[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],t6HB:[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],t7HB:[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],t8HB:[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],t9HB:[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],t10HB:[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],t11HB:[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],t12HB:[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],t13HB:[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],t15HB:[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],t16HB:[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],t24HB:[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],t32HB:[1,10,8,20,12,20,16,32,14,12,24,0,28,16,24,16],t33HB:[15,28,26,48,22,40,36,64,14,24,20,32,12,16,8,0],t1l:[1,4,3,5],t2l:[1,4,7,4,5,7,6,7,8],t3l:[2,3,7,4,4,7,6,7,8],t5l:[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],t6l:[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],t7l:[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],t8l:[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],t9l:[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],t10l:[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],t11l:[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],t12l:[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],t13l:[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],t15l:[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],t16_5l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],t16l:[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],t24l:[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],t32l:[1,5,5,7,5,8,7,9,5,7,7,9,7,9,9,10],t33l:[4,5,5,6,5,6,6,7,5,6,6,7,6,7,7,8]};r.ht=[new t(0,0,null,null),new t(2,0,r.t1HB,r.t1l),new t(3,0,r.t2HB,r.t2l),new t(3,0,r.t3HB,r.t3l),new t(0,0,null,null),new t(4,0,r.t5HB,r.t5l),new t(4,0,r.t6HB,r.t6l),new t(6,0,r.t7HB,r.t7l),new t(6,0,r.t8HB,r.t8l),new t(6,0,r.t9HB,r.t9l),new t(8,0,r.t10HB,r.t10l),new t(8,0,r.t11HB,r.t11l),new t(8,0,r.t12HB,r.t12l),new t(16,0,r.t13HB,r.t13l),new t(0,0,null,r.t16_5l),new t(16,0,r.t15HB,r.t15l),new t(1,1,r.t16HB,r.t16l),new t(2,3,r.t16HB,r.t16l),new t(3,7,r.t16HB,r.t16l),new t(4,15,r.t16HB,r.t16l),new t(6,63,r.t16HB,r.t16l),new t(8,255,r.t16HB,r.t16l),new t(10,1023,r.t16HB,r.t16l),new t(13,8191,r.t16HB,r.t16l),new t(4,15,r.t24HB,r.t24l),new t(5,31,r.t24HB,r.t24l),new t(6,63,r.t24HB,r.t24l),new t(7,127,r.t24HB,r.t24l),new t(8,255,r.t24HB,r.t24l),new t(9,511,r.t24HB,r.t24l),new t(11,2047,r.t24HB,r.t24l),new t(13,8191,r.t24HB,r.t24l),new t(0,0,r.t32HB,r.t32l),new t(0,0,r.t33HB,r.t33l)],r.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],r.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],r.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],r.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],r.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],r.scfsi_band=[0,6,11,16,21],e.exports=r},259:function(e,t,r){var n=r(233),a=n.System,s=(n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays),o=(n.new_array_n,n.new_byte,n.new_double,n.new_float,n.new_float_n,n.new_int),i=(n.new_int_n,n.assert),_=r(43),l=r(330),f=r(166),c=r(498);e.exports=function e(){var t=null;function r(e){this.bits=0|e}this.qupvt=null,this.setModules=function(e){this.qupvt=e,t=e};var n=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function u(e,t,r,n,a,s){var o=.5946/t;for(i(e>0),e>>=1;0!=e--;)a[s++]=o>r[n++]?0:1,a[s++]=o>r[n++]?0:1}function h(e,r,n,a,s,o){i(e>0);var _=(e>>=1)%2;for(e>>=1;0!=e--;){var l,f,c,u,h,p,b,m;l=n[a++]*r,f=n[a++]*r,h=0|l,c=n[a++]*r,p=0|f,u=n[a++]*r,b=0|c,l+=t.adj43[h],m=0|u,f+=t.adj43[p],s[o++]=0|l,c+=t.adj43[b],s[o++]=0|f,u+=t.adj43[m],s[o++]=0|c,s[o++]=0|u}0!=_&&(h=0|(l=n[a++]*r),p=0|(f=n[a++]*r),l+=t.adj43[h],f+=t.adj43[p],s[o++]=0|l,s[o++]=0|f)}var p=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function b(e,t,r,n){var a=function(e,t,r){var n=0,a=0;do{var s=e[t++],o=e[t++];n<s&&(n=s),a<o&&(a=o)}while(t<r);return n<a&&(n=a),n}(e,t,r);switch(a){case 0:return a;case 1:return function(e,t,r,n){var a=0,s=l.ht[1].hlen;do{var o=2*e[t+0]+e[t+1];t+=2,a+=s[o]}while(t<r);return n.bits+=a,1}(e,t,r,n);case 2:case 3:return function(e,t,r,n,a){var s,o,i=0,_=l.ht[n].xlen;o=2==n?l.table23:l.table56;do{var f=e[t+0]*_+e[t+1];t+=2,i+=o[f]}while(t<r);return s=65535&i,(i>>=16)>s&&(i=s,n++),a.bits+=i,n}(e,t,r,p[a-1],n);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return function(e,t,r,n,a){var s=0,o=0,i=0,_=l.ht[n].xlen,f=l.ht[n].hlen,c=l.ht[n+1].hlen,u=l.ht[n+2].hlen;do{var h=e[t+0]*_+e[t+1];t+=2,s+=f[h],o+=c[h],i+=u[h]}while(t<r);var p=n;return s>o&&(s=o,p++),s>i&&(s=i,p=n+2),a.bits+=s,p}(e,t,r,p[a-1],n);default:if(a>c.IXMAX_VAL)return n.bits=c.LARGE_BITS,-1;var s,o;for(a-=15,s=24;s<32&&!(l.ht[s].linmax>=a);s++);for(o=s-8;o<24&&!(l.ht[o].linmax>=a);o++);return function(e,t,r,n,a,s){var o,i=65536*l.ht[n].xlen+l.ht[a].xlen,_=0;do{var f=e[t++],c=e[t++];0!=f&&(f>14&&(f=15,_+=i),f*=16),0!=c&&(c>14&&(c=15,_+=i),f+=c),_+=l.largetbl[f]}while(t<r);return o=65535&_,(_>>=16)>o&&(_=o,n=a),s.bits+=_,n}(e,t,r,o,s,n)}}function m(e,t,n,a,s,o,i,l){for(var f=t.big_values,c=2;c<_.SBMAX_l+1;c++){var u=e.scalefac_band.l[c];if(u>=f)break;var h=s[c-2]+t.count1bits;if(n.part2_3_length<=h)break;var p=new r(h),m=b(a,u,f,p);h=p.bits,n.part2_3_length<=h||(n.assign(t),n.part2_3_length=h,n.region0_count=o[c-2],n.region1_count=c-2-o[c-2],n.table_select[0]=i[c-2],n.table_select[1]=l[c-2],n.table_select[2]=m)}}this.noquant_count_bits=function(e,t,n){var a=t.l3_enc,s=Math.min(576,t.max_nonzero_coeff+2>>1<<1);for(null!=n&&(n.sfb_count1=0);s>1&&0==(a[s-1]|a[s-2]);s-=2);t.count1=s;for(var o=0,f=0;s>3;s-=4){var c;if((2147483647&(a[s-1]|a[s-2]|a[s-3]|a[s-4]))>1)break;c=2*(2*(2*a[s-4]+a[s-3])+a[s-2])+a[s-1],o+=l.t32l[c],f+=l.t33l[c]}var u=o;if(t.count1table_select=0,o>f&&(u=f,t.count1table_select=1),t.count1bits=u,t.big_values=s,0==s)return u;if(t.block_type==_.SHORT_TYPE)(o=3*e.scalefac_band.s[3])>t.big_values&&(o=t.big_values),f=t.big_values;else if(t.block_type==_.NORM_TYPE){if(i(s<=576),o=t.region0_count=e.bv_scf[s-2],f=t.region1_count=e.bv_scf[s-1],i(o+f+2<_.SBPSY_l),f=e.scalefac_band.l[o+f+2],o=e.scalefac_band.l[o+1],f<s){var h=new r(u);t.table_select[2]=b(a,f,s,h),u=h.bits}}else t.region0_count=7,t.region1_count=_.SBMAX_l-1-7-1,(o=e.scalefac_band.l[8])>(f=s)&&(o=f);if(o=Math.min(o,s),f=Math.min(f,s),i(o>=0),i(f>=0),0<o&&(h=new r(u),t.table_select[0]=b(a,0,o,h),u=h.bits),o<f&&(h=new r(u),t.table_select[1]=b(a,o,f,h),u=h.bits),2==e.use_best_huffman&&(t.part2_3_length=u,best_huffman_divide(e,t),u=t.part2_3_length),null!=n&&t.block_type==_.NORM_TYPE){for(var p=0;e.scalefac_band.l[p]<t.big_values;)p++;n.sfb_count1=p}return u},this.count_bits=function(e,r,n,a){var o=n.l3_enc,l=c.IXMAX_VAL/t.IPOW20(n.global_gain);if(n.xrpow_max>l)return c.LARGE_BITS;if(function(e,r,n,a,o){var l,f,c,p=0,b=0,m=0,d=0,v=r,w=0,g=v,k=0,y=e,S=0;for(c=null!=o&&a.global_gain==o.global_gain,f=a.block_type==_.SHORT_TYPE?38:21,l=0;l<=f;l++){var A=-1;if((c||a.block_type==_.NORM_TYPE)&&(A=a.global_gain-(a.scalefac[l]+(0!=a.preflag?t.pretab[l]:0)<<a.scalefac_scale+1)-8*a.subblock_gain[a.window[l]]),i(a.width[l]>=0),c&&o.step[l]==A)0!=b&&(h(b,n,y,S,g,k),b=0),0!=m&&(u(m,n,y,S,g,k),m=0);else{var M,R=a.width[l];if(p+a.width[l]>a.max_nonzero_coeff&&(M=a.max_nonzero_coeff-p+1,s.fill(r,a.max_nonzero_coeff,576,0),(R=M)<0&&(R=0),l=f+1),0==b&&0==m&&(g=v,k=w,y=e,S=d),null!=o&&o.sfb_count1>0&&l>=o.sfb_count1&&o.step[l]>0&&A>=o.step[l]?(0!=b&&(h(b,n,y,S,g,k),b=0,g=v,k=w,y=e,S=d),m+=R):(0!=m&&(u(m,n,y,S,g,k),m=0,g=v,k=w,y=e,S=d),b+=R),R<=0){0!=m&&(u(m,n,y,S,g,k),m=0),0!=b&&(h(b,n,y,S,g,k),b=0);break}}l<=f&&(w+=a.width[l],d+=a.width[l],p+=a.width[l])}0!=b&&(h(b,n,y,S,g,k),b=0),0!=m&&(u(m,n,y,S,g,k),m=0)}(r,o,t.IPOW20(n.global_gain),n,a),0!=(2&e.substep_shaping))for(var f=0,p=n.global_gain+n.scalefac_scale,b=.634521682242439/t.IPOW20(p),m=0;m<n.sfbmax;m++){var d,v=n.width[m];if(i(v>=0),0==e.pseudohalf[m])f+=v;else for(d=f,f+=v;d<f;++d)o[d]=r[d]>=b?o[d]:0}return this.noquant_count_bits(e,n,a)},this.best_huffman_divide=function(e,t){var n=new f,a=t.l3_enc,s=o(23),u=o(23),h=o(23),p=o(23);if(t.block_type!=_.SHORT_TYPE||1!=e.mode_gr){n.assign(t),t.block_type==_.NORM_TYPE&&(function(e,t,n,a,s,o,i){for(var _=t.big_values,l=0;l<=22;l++)a[l]=c.LARGE_BITS;for(l=0;l<16;l++){var f=e.scalefac_band.l[l+1];if(f>=_)break;var u=0,h=new r(u),p=b(n,0,f,h);u=h.bits;for(var m=0;m<8;m++){var d=e.scalefac_band.l[l+m+2];if(d>=_)break;var v=u,w=b(n,f,d,h=new r(v));v=h.bits,a[l+m]>v&&(a[l+m]=v,s[l+m]=l,o[l+m]=p,i[l+m]=w)}}}(e,t,a,s,u,h,p),m(e,n,t,a,s,u,h,p));var d=n.big_values;if(!(0==d||(a[d-2]|a[d-1])>1||(d=t.count1+2)>576)){n.assign(t),n.count1=d;var v=0,w=0;for(i(d<=576);d>n.big_values;d-=4){var g=2*(2*(2*a[d-4]+a[d-3])+a[d-2])+a[d-1];v+=l.t32l[g],w+=l.t33l[g]}if(n.big_values=d,n.count1table_select=0,v>w&&(v=w,n.count1table_select=1),n.count1bits=v,n.block_type==_.NORM_TYPE)m(e,n,t,a,s,u,h,p);else{if(n.part2_3_length=v,(v=e.scalefac_band.l[8])>d&&(v=d),v>0){var k=new r(n.part2_3_length);n.table_select[0]=b(a,0,v,k),n.part2_3_length=k.bits}d>v&&(k=new r(n.part2_3_length),n.table_select[1]=b(a,v,d,k),n.part2_3_length=k.bits),t.part2_3_length>n.part2_3_length&&t.assign(n)}}}};var d=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],v=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],w=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],g=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];e.slen1_tab=w,e.slen2_tab=g,this.best_scalefac_store=function(e,r,n,a){var s,o,f,c,u=a.tt[r][n],h=0;for(f=0,s=0;s<u.sfbmax;s++){var p=u.width[s];for(i(p>=0),f+=p,c=-p;c<0&&0==u.l3_enc[c+f];c++);0==c&&(u.scalefac[s]=h=-2)}if(0==u.scalefac_scale&&0==u.preflag){var b=0;for(s=0;s<u.sfbmax;s++)u.scalefac[s]>0&&(b|=u.scalefac[s]);if(0==(1&b)&&0!=b){for(s=0;s<u.sfbmax;s++)u.scalefac[s]>0&&(u.scalefac[s]>>=1);u.scalefac_scale=h=1}}if(0==u.preflag&&u.block_type!=_.SHORT_TYPE&&2==e.mode_gr){for(s=11;s<_.SBPSY_l&&!(u.scalefac[s]<t.pretab[s]&&-2!=u.scalefac[s]);s++);if(s==_.SBPSY_l){for(s=11;s<_.SBPSY_l;s++)u.scalefac[s]>0&&(u.scalefac[s]-=t.pretab[s]);u.preflag=h=1}}for(o=0;o<4;o++)a.scfsi[n][o]=0;for(2==e.mode_gr&&1==r&&a.tt[0][n].block_type!=_.SHORT_TYPE&&a.tt[1][n].block_type!=_.SHORT_TYPE&&(function(e,t){for(var r,n=t.tt[1][e],a=t.tt[0][e],s=0;s<l.scfsi_band.length-1;s++){for(r=l.scfsi_band[s];r<l.scfsi_band[s+1]&&!(a.scalefac[r]!=n.scalefac[r]&&n.scalefac[r]>=0);r++);if(r==l.scfsi_band[s+1]){for(r=l.scfsi_band[s];r<l.scfsi_band[s+1];r++)n.scalefac[r]=-1;t.scfsi[e][s]=1}}var o=0,i=0;for(r=0;r<11;r++)-1!=n.scalefac[r]&&(i++,o<n.scalefac[r]&&(o=n.scalefac[r]));for(var f=0,c=0;r<_.SBPSY_l;r++)-1!=n.scalefac[r]&&(c++,f<n.scalefac[r]&&(f=n.scalefac[r]));for(s=0;s<16;s++)if(o<d[s]&&f<v[s]){var u=w[s]*i+g[s]*c;n.part2_length>u&&(n.part2_length=u,n.scalefac_compress=s)}}(n,a),h=0),s=0;s<u.sfbmax;s++)-2==u.scalefac[s]&&(u.scalefac[s]=0);0!=h&&(2==e.mode_gr?this.scale_bitcount(u):this.scale_bitcount_lsf(e,u))};var k=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],y=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],S=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(e){var r,n,a,s=0,o=0,l=e.scalefac;if(i(function(e,t){for(var r=0;r<t;++r)if(e[r]<0)return!1;return!0}(l,e.sfbmax)),e.block_type==_.SHORT_TYPE)a=k,0!=e.mixed_block_flag&&(a=y);else if(a=S,0==e.preflag){for(n=11;n<_.SBPSY_l&&!(l[n]<t.pretab[n]);n++);if(n==_.SBPSY_l)for(e.preflag=1,n=11;n<_.SBPSY_l;n++)l[n]-=t.pretab[n]}for(n=0;n<e.sfbdivide;n++)s<l[n]&&(s=l[n]);for(;n<e.sfbmax;n++)o<l[n]&&(o=l[n]);for(e.part2_length=c.LARGE_BITS,r=0;r<16;r++)s<d[r]&&o<v[r]&&e.part2_length>a[r]&&(e.part2_length=a[r],e.scalefac_compress=r);return e.part2_length==c.LARGE_BITS};var A=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(e,r){var n,s,l,f,c,u,h,p,b=o(4),m=r.scalefac;for(n=0!=r.preflag?2:0,h=0;h<4;h++)b[h]=0;if(r.block_type==_.SHORT_TYPE){s=1;var d=t.nr_of_sfb_block[n][s];for(p=0,l=0;l<4;l++)for(f=d[l]/3,h=0;h<f;h++,p++)for(c=0;c<3;c++)m[3*p+c]>b[l]&&(b[l]=m[3*p+c])}else for(s=0,d=t.nr_of_sfb_block[n][s],p=0,l=0;l<4;l++)for(f=d[l],h=0;h<f;h++,p++)m[p]>b[l]&&(b[l]=m[p]);for(u=!1,l=0;l<4;l++)b[l]>A[n][l]&&(u=!0);if(!u){var v,w,g,k;for(r.sfb_partition_table=t.nr_of_sfb_block[n][s],l=0;l<4;l++)r.slen[l]=M[b[l]];switch(v=r.slen[0],w=r.slen[1],g=r.slen[2],k=r.slen[3],n){case 0:r.scalefac_compress=(5*v+w<<4)+(g<<2)+k;break;case 1:r.scalefac_compress=400+(5*v+w<<2)+g;break;case 2:r.scalefac_compress=500+3*v+w;break;default:a.err.printf("intensity stereo not implemented yet\n")}}if(!u)for(i(null!=r.sfb_partition_table),r.part2_length=0,l=0;l<4;l++)r.part2_length+=r.slen[l]*r.sfb_partition_table[l];return u};var M=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(e){for(var t=2;t<=576;t+=2){for(var r,a=0;e.scalefac_band.l[++a]<t;);for(r=n[a][0];e.scalefac_band.l[r+1]>t;)r--;for(r<0&&(r=n[a][0]),e.bv_scf[t-2]=r,r=n[a][1];e.scalefac_band.l[r+e.bv_scf[t-2]+2]>t;)r--;r<0&&(r=n[a][1]),e.bv_scf[t-1]=r}}}},576:function(e){e.exports=function(){this.setModules=function(e,t){}}},971:function(e){e.exports=function(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}},301:function(e,t,r){var n=r(233),a=n.System,s=n.VbrMode,o=(n.Float,n.ShortBlock),i=(n.Util,n.Arrays),_=(n.new_array_n,n.new_byte),l=(n.new_double,n.new_float,n.new_float_n,n.new_int,n.new_int_n,n.assert);function f(){var e,t,r;this.setModules=function(n,a,s){e=n,t=a,r=s};var n=f.NUMTOCENTRIES,c=f.MAXFRAMESIZE,u=n+4+4+4+4+4+9+1+1+8+1+1+3+1+1+2+4+2+2,h="Xing",p="Info",b=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function m(e,t){var r=255&e[t+0];return r<<=8,r|=255&e[t+1],r<<=8,r|=255&e[t+2],(r<<=8)|255&e[t+3]}function d(e,t,r){e[t+0]=255&r>>24,e[t+1]=255&r>>16,e[t+2]=255&r>>8,e[t+3]=255&r}function v(e,t,r){e[t+0]=255&r>>8,e[t+1]=255&r}function w(e,t,r){return 255&(e<<t|r&~(-1<<t))}function g(t,r){var n=t.internal_flags;r[0]=w(r[0],8,255),r[1]=w(r[1],3,7),r[1]=w(r[1],1,t.out_samplerate<16e3?0:1),r[1]=w(r[1],1,t.version),r[1]=w(r[1],2,1),r[1]=w(r[1],1,t.error_protection?0:1),r[2]=w(r[2],4,n.bitrate_index),r[2]=w(r[2],2,n.samplerate_index),r[2]=w(r[2],1,0),r[2]=w(r[2],1,t.extension),r[3]=w(r[3],2,t.mode.ordinal()),r[3]=w(r[3],2,n.mode_ext),r[3]=w(r[3],1,t.copyright),r[3]=w(r[3],1,t.original),r[3]=w(r[3],2,t.emphasis),r[0]=255;var a,o,i=241&r[1];a=1==t.version?128:t.out_samplerate<16e3?32:64,t.VBR==s.vbr_off&&(a=t.brate),o=t.free_format?0:255&16*e.BitrateIndex(a,t.version,t.out_samplerate),1==t.version?(r[1]=255&(10|i),i=13&r[2],r[2]=255&(o|i)):(r[1]=255&(2|i),i=13&r[2],r[2]=255&(o|i))}function k(e,t){return t>>8^b[255&(t^e)]}this.addVbrFrame=function(e){var t=e.internal_flags,r=Tables.bitrate_table[e.version][t.bitrate_index];l(null!=t.VBR_seek_table.bag),function(e,t){if(e.nVbrNumFrames++,e.sum+=t,e.seen++,!(e.seen<e.want)&&(e.pos<e.size&&(e.bag[e.pos]=e.sum,e.pos++,e.seen=0),e.pos==e.size)){for(var r=1;r<e.size;r+=2)e.bag[r/2]=e.bag[r];e.want*=2,e.pos/=2}}(t.VBR_seek_table,r)},this.getVbrTag=function(e){var t=new VBRTagData,r=0;t.flags=0;var a=e[r+1]>>3&1,s=e[r+2]>>2&3,o=e[r+3]>>6&3,i=e[r+2]>>4&15;if(i=Tables.bitrate_table[a][i],e[r+1]>>4==14?t.samprate=Tables.samplerate_table[2][s]:t.samprate=Tables.samplerate_table[a][s],!function(e,t){return new String(e,t,4(),null).equals(h)||new String(e,t,4(),null).equals(p)}(e,r+=0!=a?3!=o?36:21:3!=o?21:13))return null;r+=4,t.hId=a;var _=t.flags=m(e,r);if(r+=4,0!=(1&_)&&(t.frames=m(e,r),r+=4),0!=(2&_)&&(t.bytes=m(e,r),r+=4),0!=(4&_)){if(null!=t.toc)for(var l=0;l<n;l++)t.toc[l]=e[r+l];r+=n}t.vbrScale=-1,0!=(8&_)&&(t.vbrScale=m(e,r),r+=4),t.headersize=72e3*(a+1)*i/t.samprate;var f=e[(r+=21)+0]<<4;f+=e[r+1]>>4;var c=(15&e[r+1])<<8;return(f<0||f>3e3)&&(f=-1),((c+=255&e[r+2])<0||c>3e3)&&(c=-1),t.encDelay=f,t.encPadding=c,t},this.InitVbrTag=function(e){var r,n=e.internal_flags;r=1==e.version?128:e.out_samplerate<16e3?32:64,e.VBR==s.vbr_off&&(r=e.brate);var a=72e3*(e.version+1)*r/e.out_samplerate,o=n.sideinfo_len+u;if(n.VBR_seek_table.TotalFrameSize=a,a<o||a>c)e.bWriteVbrTag=!1;else{n.VBR_seek_table.nVbrNumFrames=0,n.VBR_seek_table.nBytesWritten=0,n.VBR_seek_table.sum=0,n.VBR_seek_table.seen=0,n.VBR_seek_table.want=1,n.VBR_seek_table.pos=0,null==n.VBR_seek_table.bag&&(n.VBR_seek_table.bag=new int[400],n.VBR_seek_table.size=400);var i=_(c);g(e,i);for(var l=n.VBR_seek_table.TotalFrameSize,f=0;f<l;++f)t.add_dummy_byte(e,255&i[f],1)}},this.updateMusicCRC=function(e,t,r,n){for(var a=0;a<n;++a)e[0]=k(t[r+a],e[0])},this.getLameTagFrame=function(e,l){var f=e.internal_flags;if(!e.bWriteVbrTag)return 0;if(f.Class_ID!=Lame.LAME_ID)return 0;if(f.VBR_seek_table.pos<=0)return 0;if(l.length<f.VBR_seek_table.TotalFrameSize)return f.VBR_seek_table.TotalFrameSize;i.fill(l,0,f.VBR_seek_table.TotalFrameSize,0),g(e,l);var c=_(n);if(e.free_format)for(var u=1;u<n;++u)c[u]=255&255*u/100;else!function(e,t){if(!(e.pos<=0))for(var r=1;r<n;++r){var a=r/n,s=0|Math.floor(a*e.pos);s>e.pos-1&&(s=e.pos-1);var o=0|256*e.bag[s]/e.sum;o>255&&(o=255),t[r]=255&o}}(f.VBR_seek_table,c);var b=f.sideinfo_len;e.error_protection&&(b-=2),e.VBR==s.vbr_off?(l[b++]=255&p.charAt(0),l[b++]=255&p.charAt(1),l[b++]=255&p.charAt(2),l[b++]=255&p.charAt(3)):(l[b++]=255&h.charAt(0),l[b++]=255&h.charAt(1),l[b++]=255&h.charAt(2),l[b++]=255&h.charAt(3)),d(l,b,15),d(l,b+=4,f.VBR_seek_table.nVbrNumFrames),b+=4;var m=f.VBR_seek_table.nBytesWritten+f.VBR_seek_table.TotalFrameSize;d(l,b,0|m),b+=4,a.arraycopy(c,0,l,b,c.length),b+=c.length,e.error_protection&&t.CRC_writeheader(f,l);var w=0;for(u=0;u<b;u++)w=k(l[u],w);return b+=function(e,t,n,a,s){var i,_,l,f,c,u,h=e.internal_flags,p=0,b=e.encoder_delay,m=e.encoder_padding,w=100-10*e.VBR_q-e.quality,g=r.getLameVeryShortVersion(),y=[1,5,3,2,4,0,3],S=0|(e.lowpassfreq/100+.5>255?255:e.lowpassfreq/100+.5),A=0,M=0,R=e.internal_flags.noise_shaping,B=0,T=0,x=0!=(1&e.exp_nspsytune),E=0!=(2&e.exp_nspsytune),P=!1,O=!1,I=e.internal_flags.nogap_total,H=e.internal_flags.nogap_current,L=e.ATHtype;switch(e.VBR){case vbr_abr:c=e.VBR_mean_bitrate_kbps;break;case vbr_off:c=e.brate;break;default:c=e.VBR_min_bitrate_kbps}switch(i=0+(e.VBR.ordinal()<y.length?y[e.VBR.ordinal()]:0),h.findReplayGain&&(h.RadioGain>510&&(h.RadioGain=510),h.RadioGain<-510&&(h.RadioGain=-510),M=8192,M|=3072,h.RadioGain>=0?M|=h.RadioGain:(M|=512,M|=-h.RadioGain)),h.findPeakSample&&(A=Math.abs(0|h.PeakSample/32767*Math.pow(2,23)+.5)),-1!=I&&(H>0&&(O=!0),H<I-1&&(P=!0)),f=L+((x?1:0)<<4)+((E?1:0)<<5)+((P?1:0)<<6)+((O?1:0)<<7),w<0&&(w=0),e.mode){case MONO:B=0;break;case STEREO:B=1;break;case DUAL_CHANNEL:B=2;break;case JOINT_STEREO:B=e.force_ms?4:3;break;case NOT_SET:default:B=7}u=e.in_samplerate<=32e3?0:48e3==e.in_samplerate?2:e.in_samplerate>48e3?3:1,(e.short_blocks==o.short_block_forced||e.short_blocks==o.short_block_dispensed||-1==e.lowpassfreq&&-1==e.highpassfreq||e.scale_left<e.scale_right||e.scale_left>e.scale_right||e.disable_reservoir&&e.brate<320||e.noATH||e.ATHonly||0==L||e.in_samplerate<=32e3)&&(T=1),_=R+(B<<2)+(T<<5)+(u<<6),l=h.nMusicCRC,d(n,a+p,w),p+=4;for(var V=0;V<9;V++)n[a+p+V]=255&g.charAt(V);n[a+(p+=9)]=255&i,n[a+ ++p]=255&S,d(n,a+ ++p,A),v(n,a+(p+=4),M),v(n,a+(p+=2),0),n[a+(p+=2)]=255&f,n[a+ ++p]=c>=255?255:255&c,n[a+ ++p]=255&b>>4,n[a+p+1]=255&(b<<4)+(m>>8),n[a+p+2]=255&m,n[a+(p+=3)]=255&_,p++,n[a+p++]=0,v(n,a+p,e.preset),d(n,a+(p+=2),t),v(n,a+(p+=4),l),p+=2;for(var N=0;N<p;N++)s=k(n[a+N],s);return v(n,a+p,s),p+2}(e,m,l,b,w),f.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(e,t){if(e.internal_flags.VBR_seek_table.pos<=0)return-1;if(t.seek(t.length()),0==t.length())return-1;var r=function(e){e.seek(0);var t=_(10);return e.readFully(t),new String(t,"ISO-8859-1").startsWith("ID3")?0:((127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9])+t.length}(t);t.seek(r);var n=_(c),a=getLameTagFrame(e,n);return a>n.length?-1:(a<1||t.write(n,0,a),0)}}f.NUMTOCENTRIES=100,f.MAXFRAMESIZE=2880,e.exports=f},169:function(e){e.exports=function(){this.getLameVersion=function(){return"3.98.4"},this.getLameShortVersion=function(){return"3.98.4"},this.getLameVeryShortVersion=function(){return"LAME3.98r"},this.getPsyVersion=function(){return"0.93"},this.getLameUrl=function(){return"http://www.mp3dev.org/"},this.getLameOsBitness=function(){return"32bits"}}},233:function(e){function t(e){return new Int16Array(e)}function r(e){return new Int32Array(e)}function n(e){return new Float32Array(e)}var a={arraycopy:function(e,t,r,n,a){for(var s=t+a;t<s;)r[n++]=e[t++]},out:{}};a.out.println=function(e){console.log(e)},a.out.printf=function(){console.log.apply(console,arguments)};var s={};function o(e){this.ordinal=e}s.SQRT2=1.4142135623730951,s.FAST_LOG10=function(e){return Math.log10(e)},s.FAST_LOG10_X=function(e,t){return Math.log10(e)*t},o.short_block_allowed=new o(0),o.short_block_coupled=new o(1),o.short_block_dispensed=new o(2),o.short_block_forced=new o(3);var i={};function _(e){this.ordinal=e}i.MAX_VALUE=34028235e31,_.vbr_off=new _(0),_.vbr_mt=new _(1),_.vbr_rh=new _(2),_.vbr_abr=new _(3),_.vbr_mtrh=new _(4),_.vbr_default=_.vbr_mtrh,e.exports={System:a,VbrMode:_,Float:i,ShortBlock:o,Util:s,Arrays:{fill:function(e,t,r,n){if(2==arguments.length)for(var a=0;a<e.length;a++)e[a]=arguments[1];else for(a=t;a<r;a++)e[a]=n}},new_array_n:function e(t){if(1==t.length)return new Array(t[0]);var r=t[0];t=t.slice(1);for(var n=[],a=0;a<r;a++)n.push(e(t));return n},new_byte:function(e){return new Int8Array(e)},new_double:function(e){return new Float64Array(e)},new_float:n,new_float_n:function e(t){if(1==t.length)return n(t[0]);var r=t[0];t=t.slice(1);for(var a=[],s=0;s<r;s++)a.push(e(t));return a},new_int:r,new_int_n:function e(t){if(1==t.length)return r(t[0]);var n=t[0];t=t.slice(1);for(var a=[],s=0;s<n;s++)a.push(e(t));return a},new_short:t,new_short_n:function e(r){if(1==r.length)return t(r[0]);var n=r[0];r=r.slice(1);for(var a=[],s=0;s<n;s++)a.push(e(r));return a},assert:function(e){}}},719:function(e,t,r){var n=r(233),a=(n.System,n.VbrMode,n.Float,n.ShortBlock,n.Util,n.Arrays,n.new_array_n,n.new_byte),s=(n.new_double,n.new_float,n.new_float_n,n.new_int,n.new_int_n,n.assert),o=r(448),i=r(49),_=r(189),l=r(498),f=r(427),c=r(259),u=r(313),h=r(27),p=r(881),b=(r(43),r(169)),m=r(301);function d(){this.setModules=function(e,t){}}function v(){this.setModules=function(e,t,r){}}function w(){}function g(){this.setModules=function(e,t){}}function k(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function y(e){return e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3)}k.RIFF=y("RIFF"),k.WAVE=y("WAVE"),k.fmt_=y("fmt "),k.data=y("data"),k.readHeader=function(e){var t=new k,r=e.getUint32(0,!1);if(k.RIFF==r&&(e.getUint32(4,!0),k.WAVE==e.getUint32(8,!1)&&k.fmt_==e.getUint32(12,!1))){var n=e.getUint32(16,!0),a=20;switch(n){case 16:case 18:t.channels=e.getUint16(a+2,!0),t.sampleRate=e.getUint32(a+4,!0);break;default:throw"extended fmt chunk not implemented"}a+=n;for(var s=k.data,o=0;s!=r&&(r=e.getUint32(a,!1),o=e.getUint32(a+4,!0),s!=r);)a+=o+8;return t.dataLen=o,t.dataOffset=a+8,t}},e.exports.d=function(e,t,r){3!=arguments.length&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),e=1,t=44100,r=128);var n=new o,k=new d,y=new _,S=new p,A=new i,M=new l,R=new f,B=new m,T=new b,x=new g,E=new u,P=new c,O=new v,I=new w;n.setModules(y,S,A,M,R,B,T,x,I),S.setModules(y,I,T,B),x.setModules(S,T),A.setModules(n),R.setModules(S,E,M,P),M.setModules(P,E,n.enc.psy),E.setModules(S),P.setModules(M),B.setModules(n,S,T),k.setModules(O,I),O.setModules(T,x,A);var H=n.lame_init();H.num_channels=e,H.in_samplerate=t,H.brate=r,H.mode=h.STEREO,H.quality=3,H.bWriteVbrTag=!1,H.disable_reservoir=!0,H.write_id3tag_automatic=!1;var L=n.lame_init_params(H);s(0==L);var V=1152,N=0|1.25*V+7200,q=a(N);this.encodeBuffer=function(t,r){1==e&&(r=t),s(t.length==r.length),t.length>V&&(V=t.length,q=a(N=0|1.25*V+7200));var o=n.lame_encode_buffer(H,t,r,t.length,q,0,N);return new Int8Array(q.subarray(0,o))},this.flush=function(){var e=n.lame_encode_flush(H,q,0,N);return new Int8Array(q.subarray(0,e))}}},340:function(module){var __dirname="/",factory;"undefined"!=typeof self&&self,factory=function(){return function(){var __webpack_modules__={345:function(e,t,r){var n=r(219),a=r(751),s=r(828),o=new(r(833));function i(e,t){"string"==typeof e?this.script=e||null:(this.script=null,t=e),this.workers=[],this.tasks=[],t=t||{},this.forkArgs=Object.freeze(t.forkArgs||[]),this.forkOpts=Object.freeze(t.forkOpts||{}),this.workerThreadOpts=Object.freeze(t.workerThreadOpts||{}),this.debugPortStart=t.debugPortStart||43210,this.nodeWorker=t.nodeWorker,this.workerType=t.workerType||t.nodeWorker||"auto",this.maxQueueSize=t.maxQueueSize||1/0,this.workerTerminateTimeout=t.workerTerminateTimeout||1e3,this.onCreateWorker=t.onCreateWorker||function(){return null},this.onTerminateWorker=t.onTerminateWorker||function(){return null},t&&"maxWorkers"in t?(function(e){if(!_(e)||!l(e)||e<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}(t.maxWorkers),this.maxWorkers=t.maxWorkers):this.maxWorkers=Math.max((s.cpus||4)-1,1),t&&"minWorkers"in t&&("max"===t.minWorkers?this.minWorkers=this.maxWorkers:(function(e){if(!_(e)||!l(e)||e<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}(t.minWorkers),this.minWorkers=t.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),"thread"===this.workerType&&a.ensureWorkerThreads()}function _(e){return"number"==typeof e}function l(e){return Math.round(e)==e}i.prototype.exec=function(e,t,r){if(t&&!Array.isArray(t))throw new TypeError('Array expected as argument "params"');if("string"==typeof e){var a=n.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var s=this.tasks,o={method:e,params:t,resolver:a,timeout:null,options:r};s.push(o);var i=a.promise.timeout;return a.promise.timeout=function(e){return-1!==s.indexOf(o)?(o.timeout=e,a.promise):i.call(a.promise,e)},this._next(),a.promise}if("function"==typeof e)return this.exec("run",[String(e),t]);throw new TypeError('Function or string expected as argument "method"')},i.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var e=this;return this.exec("methods").then((function(t){var r={};return t.forEach((function(t){r[t]=function(){return e.exec(t,Array.prototype.slice.call(arguments))}})),r}))},i.prototype._next=function(){if(this.tasks.length>0){var e=this._getWorker();if(e){var t=this,r=this.tasks.shift();if(r.resolver.promise.pending){var n=e.exec(r.method,r.params,r.resolver,r.options).then(t._boundNext).catch((function(){if(e.terminated)return t._removeWorker(e)})).then((function(){t._next()}));"number"==typeof r.timeout&&n.timeout(r.timeout)}else t._next()}}},i.prototype._getWorker=function(){for(var e=this.workers,t=0;t<e.length;t++){var r=e[t];if(!1===r.busy())return r}return e.length<this.maxWorkers?(r=this._createWorkerHandler(),e.push(r),r):null},i.prototype._removeWorker=function(e){var t=this;return o.releasePort(e.debugPort),this._removeWorkerFromList(e),this._ensureMinWorkers(),new n((function(r,n){e.terminate(!1,(function(a){t.onTerminateWorker({forkArgs:e.forkArgs,forkOpts:e.forkOpts,workerThreadOpts:e.workerThreadOpts,script:e.script}),a?n(a):r(e)}))}))},i.prototype._removeWorkerFromList=function(e){var t=this.workers.indexOf(e);-1!==t&&this.workers.splice(t,1)},i.prototype.terminate=function(e,t){var r=this;this.tasks.forEach((function(e){e.resolver.reject(new Error("Pool terminated"))})),this.tasks.length=0;var a=function(e){o.releasePort(e.debugPort),this._removeWorkerFromList(e)}.bind(this),s=[];return this.workers.slice().forEach((function(n){var o=n.terminateAndNotify(e,t).then(a).always((function(){r.onTerminateWorker({forkArgs:n.forkArgs,forkOpts:n.forkOpts,workerThreadOpts:n.workerThreadOpts,script:n.script})}));s.push(o)})),n.all(s)},i.prototype.stats=function(){var e=this.workers.length,t=this.workers.filter((function(e){return e.busy()})).length;return{totalWorkers:e,busyWorkers:t,idleWorkers:e-t,pendingTasks:this.tasks.length,activeTasks:t}},i.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var e=this.workers.length;e<this.minWorkers;e++)this.workers.push(this._createWorkerHandler())},i.prototype._createWorkerHandler=function(){var e=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,workerThreadOpts:this.workerThreadOpts,script:this.script})||{};return new a(e.script||this.script,{forkArgs:e.forkArgs||this.forkArgs,forkOpts:e.forkOpts||this.forkOpts,workerThreadOpts:e.workerThreadOpts||this.workerThreadOpts,debugPort:o.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,workerTerminateTimeout:this.workerTerminateTimeout})},e.exports=i},219:function(e){"use strict";function t(e,s){var o=this;if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if("function"!=typeof e)throw new SyntaxError("Function parameter handler(resolve, reject) missing");var i=[],_=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var l=function(e,t){i.push(e),_.push(t)};this.then=function(e,n){return new t((function(t,a){var s=e?r(e,t,a):t,o=n?r(n,t,a):a;l(s,o)}),o)};var f=function(e){return o.resolved=!0,o.rejected=!1,o.pending=!1,i.forEach((function(t){t(e)})),l=function(t,r){t(e)},f=c=function(){},o},c=function(e){return o.resolved=!1,o.rejected=!0,o.pending=!1,_.forEach((function(t){t(e)})),l=function(t,r){r(e)},f=c=function(){},o};this.cancel=function(){return s?s.cancel():c(new n),o},this.timeout=function(e){if(s)s.timeout(e);else{var t=setTimeout((function(){c(new a("Promise timed out after "+e+" ms"))}),e);o.always((function(){clearTimeout(t)}))}return o},e((function(e){f(e)}),(function(e){c(e)}))}function r(e,t,r){return function(n){try{var a=e(n);a&&"function"==typeof a.then&&"function"==typeof a.catch?a.then(t,r):t(a)}catch(e){r(e)}}}function n(e){this.message=e||"promise cancelled",this.stack=(new Error).stack}function a(e){this.message=e||"timeout exceeded",this.stack=(new Error).stack}t.prototype.catch=function(e){return this.then(null,e)},t.prototype.always=function(e){return this.then(e,e)},t.all=function(e){return new t((function(t,r){var n=e.length,a=[];n?e.forEach((function(e,s){e.then((function(e){a[s]=e,0==--n&&t(a)}),(function(e){n=0,r(e)}))})):t(a)}))},t.defer=function(){var e={};return e.promise=new t((function(t,r){e.resolve=t,e.reject=r})),e},n.prototype=new Error,n.prototype.constructor=Error,n.prototype.name="CancellationError",t.CancellationError=n,a.prototype=new Error,a.prototype.constructor=Error,a.prototype.name="TimeoutError",t.TimeoutError=a,e.exports=t},751:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=r(219),_=r(828),l=r(397),f="__workerpool-terminate__";function c(){var e=h();if(!e)throw new Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return e}function u(){if("function"!=typeof Worker&&("object"!==("undefined"==typeof Worker?"undefined":o(Worker))||"function"!=typeof Worker.prototype.constructor))throw new Error("WorkerPool: Web Workers not supported")}function h(){try{return l("worker_threads")}catch(e){if("object"===o(e)&&null!==e&&"MODULE_NOT_FOUND"===e.code)return null;throw e}}function p(e,t){var r=new t(e);return r.isBrowserWorker=!0,r.on=function(e,t){this.addEventListener(e,(function(e){t(e.data)}))},r.send=function(e,t){this.postMessage(e,t)},r}function b(e,t,r){var n=new t.Worker(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({stdout:!1,stderr:!1},r));return n.isWorkerThread=!0,n.send=function(e,t){this.postMessage(e,t)},n.kill=function(){return this.terminate(),!0},n.disconnect=function(){this.terminate()},n}function m(e,t,r){var n=r.fork(e,t.forkArgs,t.forkOpts),a=n.send;return n.send=function(e){return a.call(n,e)},n.isChildProcess=!0,n}function d(e){e=e||{};var t=process.execArgv.join(" "),r=-1!==t.indexOf("--inspect"),n=-1!==t.indexOf("--debug-brk"),a=[];return r&&(a.push("--inspect="+e.debugPort),n&&a.push("--debug-brk")),process.execArgv.forEach((function(e){e.indexOf("--max-old-space-size")>-1&&a.push(e)})),Object.assign({},e,{forkArgs:e.forkArgs,forkOpts:Object.assign({},e.forkOpts,{execArgv:(e.forkOpts&&e.forkOpts.execArgv||[]).concat(a)})})}function v(e,t){var a=this,s=t||{};function o(e){for(var t in a.terminated=!0,a.processing)void 0!==a.processing[t]&&a.processing[t].resolver.reject(e);a.processing=Object.create(null)}this.script=e||function(){if("browser"===_.platform){if("undefined"==typeof Blob)throw new Error("Blob not supported by the browser");if(!window.URL||"function"!=typeof window.URL.createObjectURL)throw new Error("URL.createObjectURL not supported by the browser");var e=new Blob([r(670)],{type:"text/javascript"});return window.URL.createObjectURL(e)}return __dirname+"/worker.js"}(),this.worker=function(e,t){if("web"===t.workerType)return u(),p(e,Worker);if("thread"===t.workerType)return b(e,r=c(),t.workerThreadOpts);if("process"!==t.workerType&&t.workerType){if("browser"===_.platform)return u(),p(e,Worker);var r=h();return r?b(e,r):m(e,d(t),l("child_process"))}return m(e,d(t),l("child_process"))}(this.script,s),this.debugPort=s.debugPort,this.forkOpts=s.forkOpts,this.forkArgs=s.forkArgs,this.workerThreadOpts=s.workerThreadOpts,this.workerTerminateTimeout=s.workerTerminateTimeout,e||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",(function(e){if(!a.terminated)if("string"==typeof e&&"ready"===e)a.worker.ready=!0,function(){var e,t=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var a=0,s=function(){};return{s:s,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,_=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){_=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(_)throw o}}}}(a.requestQueue.splice(0));try{for(t.s();!(e=t.n()).done;){var r=e.value;a.worker.send(r.message,r.transfer)}}catch(e){t.e(e)}finally{t.f()}}();else{var t=e.id,r=a.processing[t];void 0!==r&&(e.isEvent?r.options&&"function"==typeof r.options.on&&r.options.on(e.payload):(delete a.processing[t],!0===a.terminating&&a.terminate(),e.error?r.resolver.reject(function(e){for(var t=new Error(""),r=Object.keys(e),n=0;n<r.length;n++)t[r[n]]=e[r[n]];return t}(e.error)):r.resolver.resolve(e.result)))}}));var i=this.worker;this.worker.on("error",o),this.worker.on("exit",(function(e,t){var r="Workerpool Worker terminated Unexpectedly\n";r+="    exitCode: `"+e+"`\n",r+="    signalCode: `"+t+"`\n",r+="    workerpool.script: `"+a.script+"`\n",r+="    spawnArgs: `"+i.spawnargs+"`\n",r+="    spawnfile: `"+i.spawnfile+"`\n",r+="    stdout: `"+i.stdout+"`\n",r+="    stderr: `"+i.stderr+"`\n",o(new Error(r))})),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.cleaning=!1,this.terminationHandler=null,this.lastId=0}v.prototype.methods=function(){return this.exec("methods")},v.prototype.exec=function(e,t,r,n){r||(r=i.defer());var a=++this.lastId;this.processing[a]={id:a,resolver:r,options:n};var s={message:{id:a,method:e,params:t},transfer:n&&n.transfer};this.terminated?r.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(s.message,s.transfer):this.requestQueue.push(s);var o=this;return r.promise.catch((function(e){if(e instanceof i.CancellationError||e instanceof i.TimeoutError)return delete o.processing[a],o.terminateAndNotify(!0).then((function(){throw e}),(function(e){throw e}));throw e}))},v.prototype.busy=function(){return this.cleaning||Object.keys(this.processing).length>0},v.prototype.terminate=function(e,t){var r=this;if(e){for(var n in this.processing)void 0!==this.processing[n]&&this.processing[n].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}if("function"==typeof t&&(this.terminationHandler=t),this.busy())this.terminating=!0;else{var a=function(e){if(r.terminated=!0,r.cleaning=!1,null!=r.worker&&r.worker.removeAllListeners&&r.worker.removeAllListeners("message"),r.worker=null,r.terminating=!1,r.terminationHandler)r.terminationHandler(e,r);else if(e)throw e};if(this.worker){if("function"==typeof this.worker.kill){if(this.worker.killed)return void a(new Error("worker already killed!"));var s=setTimeout((function(){r.worker&&r.worker.kill()}),this.workerTerminateTimeout);return this.worker.once("exit",(function(){clearTimeout(s),r.worker&&(r.worker.killed=!0),a()})),this.worker.ready?this.worker.send(f):this.requestQueue.push(f),void(this.cleaning=!0)}if("function"!=typeof this.worker.terminate)throw new Error("Failed to terminate worker");this.worker.terminate(),this.worker.killed=!0}a()}},v.prototype.terminateAndNotify=function(e,t){var r=i.defer();return t&&(r.promise.timeout=t),this.terminate(e,(function(e,t){e?r.reject(e):r.resolve(t)})),r.promise},e.exports=v,e.exports._tryRequireWorkerThreads=h,e.exports._setupProcessWorker=m,e.exports._setupBrowserWorker=p,e.exports._setupWorkerThreadWorker=b,e.exports.ensureWorkerThreads=c},833:function(e){"use strict";function t(){this.ports=Object.create(null),this.length=0}e.exports=t,t.prototype.nextAvailableStartingAt=function(e){for(;!0===this.ports[e];)e++;if(e>=65535)throw new Error("WorkerPool debug port limit reached: "+e+">= 65535");return this.ports[e]=!0,this.length++,e},t.prototype.releasePort=function(e){delete this.ports[e],this.length--}},828:function(e,t,r){var n=r(397),a=function(e){return void 0!==e&&null!=e.versions&&null!=e.versions.node};e.exports.isNode=a,e.exports.platform="undefined"!=typeof process&&a(process)?"node":"browser";var s=function(e){try{return n("worker_threads")}catch(e){return null}}();e.exports.isMainThread="node"===e.exports.platform?(!s||s.isMainThread)&&!process.connected:"undefined"!=typeof Window,e.exports.cpus="browser"===e.exports.platform?self.navigator.hardwareConcurrency:n("os").cpus().length},670:function(e){e.exports='!function(){var __webpack_modules__={577:function(e){e.exports=function(e,r){this.message=e,this.transfer=r}}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];return void 0!==r||(r=__webpack_module_cache__[e]={exports:{}},__webpack_modules__[e](r,r.exports,__webpack_require__)),r.exports}var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Transfer=__webpack_require__(577),requireFoolWebpack=eval("typeof require !== \'undefined\' ? require : function (module) { throw new Error(\'Module \\" + module + \\" not found.\') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(e,r){addEventListener(e,function(e){r(e.data)})},worker.send=function(e){postMessage(e)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=function(e){process.send(e)},worker.on("disconnect",function(){process.exit(1)})),worker.exit=process.exit.bind(process)}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(e,r){return Object.defineProperty(e,r,{value:o[r],enumerable:!0})},{})}function isPromise(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}worker.methods={},worker.methods.run=function(e,r){e=new Function("return ("+e+").apply(null, arguments);");return e.apply(e,r)},worker.methods.methods=function(){return Object.keys(worker.methods)},worker.terminationHandler=void 0,worker.cleanupAndExit=function(e){function r(){worker.exit(e)}if(!worker.terminationHandler)return r();var o=worker.terminationHandler(e);isPromise(o)?o.then(r,r):r()};var currentRequestId=null;worker.on("message",function(r){if(r===TERMINATE_METHOD_ID)return worker.cleanupAndExit(0);try{var e=worker.methods[r.method];if(!e)throw new Error(\'Unknown method "\'+r.method+\'"\');currentRequestId=r.id;var o=e.apply(e,r.params);isPromise(o)?o.then(function(e){e instanceof Transfer?worker.send({id:r.id,result:e.message,error:null},e.transfer):worker.send({id:r.id,result:e,error:null}),currentRequestId=null}).catch(function(e){worker.send({id:r.id,result:null,error:convertError(e)}),currentRequestId=null}):(o instanceof Transfer?worker.send({id:r.id,result:o.message,error:null},o.transfer):worker.send({id:r.id,result:o,error:null}),currentRequestId=null)}catch(e){worker.send({id:r.id,result:null,error:convertError(e)})}}),worker.register=function(e,r){if(e)for(var o in e)e.hasOwnProperty(o)&&(worker.methods[o]=e[o]);r&&(worker.terminationHandler=r.onTerminate),worker.send("ready")},worker.emit=function(e){currentRequestId&&(e instanceof Transfer?worker.send({id:currentRequestId,isEvent:!0,payload:e.message},e.transfer):worker.send({id:currentRequestId,isEvent:!0,payload:e}))},__webpack_unused_export__=worker.register,worker.emit}()}();'},397:function(module){var requireFoolWebpack=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \" + module + \" not found.') }");module.exports=requireFoolWebpack},577:function(e){e.exports=function(e,t){this.message=e,this.transfer=t}},744:function(__unused_webpack_module,exports,__nested_webpack_require_47192__){function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var Transfer=__nested_webpack_require_47192__(577),requireFoolWebpack=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \" + module + \" not found.') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}};if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(e,t){addEventListener(e,(function(e){t(e.data)}))},worker.send=function(e){postMessage(e)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");var WorkerThreads;try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(e){if("object"!==_typeof(e)||null===e||"MODULE_NOT_FOUND"!==e.code)throw e}if(WorkerThreads&&null!==WorkerThreads.parentPort){var parentPort=WorkerThreads.parentPort;worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort),worker.exit=process.exit.bind(process)}else worker.on=process.on.bind(process),worker.send=function(e){process.send(e)},worker.on("disconnect",(function(){process.exit(1)})),worker.exit=process.exit.bind(process)}function convertError(e){return Object.getOwnPropertyNames(e).reduce((function(t,r){return Object.defineProperty(t,r,{value:e[r],enumerable:!0})}),{})}function isPromise(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}worker.methods={},worker.methods.run=function(e,t){var r=new Function("return ("+e+").apply(null, arguments);");return r.apply(r,t)},worker.methods.methods=function(){return Object.keys(worker.methods)},worker.terminationHandler=void 0,worker.cleanupAndExit=function(e){var t=function(){worker.exit(e)};if(!worker.terminationHandler)return t();var r=worker.terminationHandler(e);isPromise(r)?r.then(t,t):t()};var currentRequestId=null;worker.on("message",(function(e){if(e===TERMINATE_METHOD_ID)return worker.cleanupAndExit(0);try{var t=worker.methods[e.method];if(!t)throw new Error('Unknown method "'+e.method+'"');currentRequestId=e.id;var r=t.apply(t,e.params);isPromise(r)?r.then((function(t){t instanceof Transfer?worker.send({id:e.id,result:t.message,error:null},t.transfer):worker.send({id:e.id,result:t,error:null}),currentRequestId=null})).catch((function(t){worker.send({id:e.id,result:null,error:convertError(t)}),currentRequestId=null})):(r instanceof Transfer?worker.send({id:e.id,result:r.message,error:null},r.transfer):worker.send({id:e.id,result:r,error:null}),currentRequestId=null)}catch(t){worker.send({id:e.id,result:null,error:convertError(t)})}})),worker.register=function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&(worker.methods[r]=e[r]);t&&(worker.terminationHandler=t.onTerminate),worker.send("ready")},worker.emit=function(e){if(currentRequestId){if(e instanceof Transfer)return void worker.send({id:currentRequestId,isEvent:!0,payload:e.message},e.transfer);worker.send({id:currentRequestId,isEvent:!0,payload:e})}},exports.add=worker.register,exports.emit=worker.emit}},__webpack_module_cache__={};function __nested_webpack_require_54290__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__nested_webpack_require_54290__),r.exports}var __nested_webpack_exports__={},exports,environment;return exports=__nested_webpack_exports__,environment=__nested_webpack_require_54290__(828),exports.pool=function(e,t){return new(__nested_webpack_require_54290__(345))(e,t)},exports.worker=function(e,t){__nested_webpack_require_54290__(744).add(e,t)},exports.workerEmit=function(e){__nested_webpack_require_54290__(744).emit(e)},exports.Promise=__nested_webpack_require_54290__(219),exports.Transfer=__nested_webpack_require_54290__(577),exports.platform=environment.platform,exports.isMainThread=environment.isMainThread,exports.cpus=environment.cpus,__nested_webpack_exports__}()},module.exports=factory()}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(719);class t{constructor(e){this.begin=0,this.end=0,this.typedArrayConstructor=e,this.buffer=new e(16384)}clear(){this.begin=this.end=0}reserve(e){for(this.begin==this.end&&this.clear();;){if(this.end+e<this.buffer.length){const t=this.end;return this.end+=e,t}if(this.begin>16384){this.buffer.set(this.buffer.subarray(this.begin,this.end)),this.end-=this.begin,this.begin=0;continue}const t=new this.typedArrayConstructor(this.buffer.length+e);t.set(this.buffer),this.buffer=t}}write(e,t){const r=this.reserve(t);this.buffer.set(e.subarray(0,t),r)}writePtr(e){const t=this.reserve(e);return this.buffer.subarray(t,t+e)}read(e,t){t+this.begin>this.end&&console.error("Read out of bounds",t,this.end,this.begin),null!=e&&e.set(this.buffer.subarray(this.begin,this.begin+t)),this.begin+=t}readPtr(e,t=-1){return t>this.occupancy()&&console.error("Read Pointer out of bounds",t),t<0&&(t=this.occupancy()),this.buffer.subarray(this.begin+e,this.begin+t)}occupancy(){return this.end-this.begin}}function r(e){return Math.floor(e)}class n{constructor(e,t){this.inputFifo=e,this.outputFifo=t,this.isInitialized=!1,this.sampleRate=44100,this.channels=0,this.quickSearch=!1,this.factor=0,this.search=0,this.segment=0,this.overlap=0,this.processSize=0,this.samplesIn=0,this.samplesOut=0,this.segmentsTotal=0}}class a{constructor(e){const r=new n(new t(Float32Array),new t(Float32Array));r.channels=e,this.t=r}static difference(e,t,r){let n=0;for(let a=0;a<r;a++)n+=Math.pow(e[a]-t[a],2);return n}static tempoBestOverlapPosition(e,t){const r=e.overlapBuf;if(!r)throw new Error("tempo_t not initialized");let n,s,o,i=e.search+1>>>1,_=64,l=s=e.quickSearch?i:0,f=a.difference(t.subarray(e.channels*l),r,e.channels*e.overlap),c=0;if(e.quickSearch)do{for(c=-1;c<=1;c+=2)for(n=1;(n<4||64==_)&&(l=i+c*n*_,!(l<0||l>=e.search));n++)o=a.difference(t.subarray(e.channels*l),r,e.channels*e.overlap),o<f&&(f=o,s=l);i=s}while(_>>>=2);else for(l=1;l<e.search;l++)o=a.difference(t.subarray(e.channels*l),r,e.channels*e.overlap),o<f&&(f=o,s=l);return s}static tempoOverlap(e,t,r,n){let a=0;const s=1/e.overlap;for(let o=0;o<e.overlap;o++){const i=s*o,_=1-i;for(let s=0;s<e.channels;s++,a++)n[a]=t[a]*_+r[a]*i}}process(){const e=this.t;for(;e.inputFifo.occupancy()>=e.processSize;){let t;if(e.segmentsTotal){if(t=a.tempoBestOverlapPosition(e,e.inputFifo.readPtr(0)),!e.overlapBuf)throw new Error("t not initialized");a.tempoOverlap(e,e.overlapBuf,e.inputFifo.readPtr(e.channels*t),e.outputFifo.writePtr(e.overlap))}else t=e.search/2,e.outputFifo.write(e.inputFifo.readPtr(e.channels*t,e.overlap),e.overlap);e.outputFifo.write(e.inputFifo.readPtr(e.channels*(t+e.overlap)),e.segment-2*e.overlap);const n=e.channels*e.overlap;if(!e.overlapBuf)throw new Error("t not initialized");e.overlapBuf.set(e.inputFifo.readPtr(e.channels*(t+e.segment-e.overlap)).subarray(0,n)),e.segmentsTotal++;const s=r(e.factor*(e.segment-e.overlap)+.5);e.inputFifo.read(null,s)}}input(e,t=null){null==t&&(t=e.length);const r=this.t;r.samplesIn+=t,r.inputFifo.write(e,t)}output(e,t=1){const r=this.t;let n=Math.min(e.length,r.outputFifo.occupancy());return n-=n%t,r.samplesOut+=n,r.outputFifo.read(e,n),n}flush(){const e=this.t,t=r(e.samplesIn/e.factor+.5),n=t>e.samplesOut?t-e.samplesOut:0,a=new Float32Array(128*e.channels);if(n>0){for(;e.outputFifo.occupancy()<n;)this.input(a,128),this.process();e.samplesIn=0}}reset(){const e=this.t;e.inputFifo.clear(),e.outputFifo.clear(),e.segmentsTotal=0,e.samplesIn=0,e.samplesOut=0,e.overlapBuf&&e.overlapBuf.fill(0)}setup(e,t,n=!1,s=null,o=null,i=null){this.reset();const _=this.t;if(_.sampleRate=e,null==s&&(s=Math.max(10,a.segmentsMs[1]/Math.max(Math.pow(t,a.segmentsPow[1]),1))),null==o&&(o=s/a.searchesDiv[1]),null==i&&(i=s/a.overlapsDiv[1]),_.quickSearch=n,_.factor=t,_.segment=r(e*s/1e3+.5),_.search=r(e*o/1e3+.5),_.overlap=Math.max(r(e*i/1e3+4.5),16),2*_.overlap>_.segment&&(_.overlap-=8),_.isInitialized){const e=new Float32Array(_.overlap*_.channels);let t=0;if(!_.overlapBuf)throw new Error("t not initialized");_.overlap*_.channels<_.overlapBuf.length&&(t=_.overlapBuf.length-_.overlap*_.channels),e.set(_.overlapBuf.subarray(t,_.overlapBuf.length)),_.overlapBuf=e}else _.overlapBuf=new Float32Array(_.overlap*_.channels);const l=r(Math.ceil(t*(_.segment-_.overlap)));_.processSize=Math.max(l+_.overlap,_.segment)+_.search,_.inputFifo.reserve(r(_.search/2)),_.isInitialized=!0}setTempo(e){const t=this.t;this.setup(t.sampleRate,e,t.quickSearch)}}a.segmentsMs=[82,82,35,20],a.segmentsPow=[0,1,.33,1],a.overlapsDiv=[6.833,7,2.5,2],a.searchesDiv=[5.587,6,2.14,2];var s=a;function o(e,t,r){for(var n=0;n<r.length;n+=1)e.setUint8(t+n,r.charCodeAt(n))}var i=__webpack_require__(340);__webpack_require__.n(i)().worker({calculateFrequency:function(e,t){for(var r=0;r<e.length;r+=1){var n=e[r];if(!(Math.sqrt(n.reduce((function(e,t){return e+Math.pow(t,2)}),0)/n.length)<.001)){for(var a=0,s=n.length-1,o=0;o<n.length/2;o+=1)if(Math.abs(n[o])<.2){a=o;break}for(o=1;o<n.length/2;o+=1)if(Math.abs(n[n.length-o])<.2){s=n.length-o;break}var i=n.slice(a,s),_=new Array(i.length).fill(0);for(o=0;o<i.length;o+=1)for(var l=0;l<i.length-o;l+=1)_[o]+=i[l]*i[l+o];for(var f=0;_[f]>_[f+1];)f+=1;var c=-1,u=-1;for(o=f;o<i.length;o+=1)_[o]>c&&(c=_[o],u=o);var h=u,p=_[h-1],b=_[h],m=_[h+1],d=(p+m-2*b)/2;return t/(d?h-(m-p)/2/(2*d):h)}}throw new Error("Not enough signal.")},encodeBufferToMp3:function(t,r,n){var a=t[0],s=t[1];if(void 0===a||void 0===s)throw new Error("MP3 encoding requires 2 data channels.");for(var o=new e.d(2,r,n),i=[],_=a.map((function(e){return 32768*e})),l=s.map((function(e){return 32768*e})),f=1152,c=0;c<_.length;c+=f){var u=_.slice(c,c+f),h=l.slice(c,c+f),p=o.encodeBuffer(u,h);p.length>0&&i.push(p)}var b=o.flush();return b.length>0&&i.push(b),new Blob(i,{type:"audio/mp3"})},encodeBufferToWav:function(e,t){var r=e[0],n=e[1];if(void 0===r||void 0===n)throw new Error("Wav encoding requires 2 data channels.");var a=function(e,t,r){var n=new ArrayBuffer(44+2*e.length),a=new DataView(n);o(a,0,"RIFF"),a.setUint32(4,36+2*e.length,!0),o(a,8,"WAVE"),o(a,12,"fmt "),a.setUint32(16,16,!0),a.setUint16(20,1,!0),a.setUint16(22,2,!0),a.setUint32(24,r,!0),a.setUint32(28,4*r,!0),a.setUint16(32,4,!0),a.setUint16(34,16,!0),o(a,36,"data"),a.setUint32(40,2*e.length,!0);for(var s=44,i=0;i<e.length;i+=1,s+=2){var _=Math.max(-1,Math.min(1,e[i]));a.setInt16(s,_<0?32768*_:32767*_,!0)}return a}(function(e){var t=e[0],r=e[1];if(t.length!==r.length)throw new Error("Channels are not equal length. Left: ".concat(t.length,", right: ").concat(r.length,"."));for(var n=new Float32Array(2*t.length),a=0,s=0;s<t.length;s+=1)n[a+=1]=t[s],n[a+=1]=r[s];return n}([r,n]),0,t);return new Blob([a],{type:"audio/wav"})},stretchAudioBuffer:function(e,t,r){return 1===r?e:e.map((function(e){return function(e,t,r){var n=Math.floor(e.length*r+1),a=new s(1);a.setup(t,1/r,!1);for(var o=new Float32Array(n),i=0,_=0,l=!1;_<o.length;)if(_+=a.output(o.subarray(_,Math.min(_+4096,o.length))),i<e.length){var f=e.subarray(i,Math.min(i+4096,e.length));i+=f.length,a.input(f),a.process()}else l||(a.flush(),l=!0);return o}(e,t,r)}))}})}()})();